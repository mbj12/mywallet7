var globalLeft="left",g_ashsC,g_hsSetup;define("dir.tokens",{ltr:globalLeft=="left",left:"left",paddingLeft:"padding-left",paddingRight:"padding-right",marginLeft:"margin-left",marginRight:"margin-right"});define("trackingHelper.tokens",{tradeDoublerMarketId:"2811247",tradeDoublerProgramId:"213736",tradeDoublerAjaxUrlFormat:"{0}/{2}/{1}/tduidajax?epi={3}"});define("jqBehavior",["jquery","viewport"],function(n){return function(t,i,r){function u(n){var t=n.length;return t>1?function(){for(var i=0;i<t;i++)n[i]()}:t?n[0]:f}function f(){}if(typeof t!="function")throw"Behavior constructor must be a function";if(i&&typeof i!="object")throw"Defaults must be an object or null";if(r&&typeof r!="object")throw"Exclude must be an object or null";return r=r||{},function(f,e,o){function c(n){n&&(typeof n.setup=="function"&&l.push(n.setup),typeof n.teardown=="function"&&a.push(n.teardown),typeof n.update=="function"&&v.push(n.update))}var h;if(o&&typeof o!="object")throw"Options must be an object or null";var s=n.extend(!0,{},i,o),l=[],a=[],v=[],y=!0;if(r.query){if(typeof f!="string")throw"Selector must be a string";c(t(f,s))}else h=n(f,e),r.each?c(t(h,s)):(y=h.length>0,h.each(function(){var i=n(this);c(t(i,r.data?s:n.extend(!0,{},s,i.data?i.data():{})))}));return y?{setup:u(l),teardown:u(a),update:u(v)}:null}}});define("telemetry.constants",{logSamplingRate:"0",FireTelemetry:"fireTelemetryBeacon",GET:"GET",POST:"POST",Ctag:"ctag",Comscore:"scorecard",OTF:"udc",Exp:"EX:",ResetIdx:"resetTelemetryEventIndex"});define("afire",["image"],function(n){return function(t){if(t){var i=new n;i.onload=i.onerror=function(){i.onload=i.onerror=null};i.src=t.replace(/&amp;/gi,"&")}}});define("track.generic",["track","extend","trackInfo","telemetry.constants","mediator"],function(n,t,i,r,u){function f(n){this.defaultOpts=t(!0,{},e,n);this.samplingRate=this.defaultOpts.samplingRate}var e={base:"",samplingRate:100,eventAlias:{submit:"click",mouseenter:"click",mouseleave:"click",click_nonnav:"click",mouseenter_nav:"click",contextmenu:"click"}};return f.prototype={getEventTrackingUrl:function(t){var f=this.defaultOpts,e;if(t||(t=(i.event||{}).type),e=f[t],!e&&f.eventAlias&&(e=f[f.eventAlias[t]]),e){var o=f.base+(e.url?e.url:""),s=n.mapTelemetryParams(f.common,f.commonMap,e.param,e.paramMap),h={url:o,requestType:r.GET,eventType:t,params:s,trackingType:f.id};i.trackingDisabled||u.pub(r.FireTelemetry,h)}return""},getPageViewTrackingUrl:function(){return this.getEventTrackingUrl("impr")}},f});define("visibility",["window","document"],function(n,t){function f(){function r(){var r,u;if(t){for(r=[],u=0;u<n.length;u++)try{n[u](i)}catch(f){r.push(f)}if(n=[],r.length)throw r;}}function u(){t=!0;i=arguments;r()}function f(){return{then:function(t){n.push(t);r()},always:function(){return this.then(arguments)}}}var n=[],t=!1,i=null;return{promise:f,resolve:u}}function h(){var r=["webkit","moz","ms","o"],n,i;if(typeof t.hidden!="undefined")return"hidden";for(n=0;n<r.length;n++)if(i=r[n]+"Hidden",i in t)return i}function u(){return i?t[i]:!1}function s(){u()?(r=new f,e=!0):r.resolve()}function c(){return e?1:0}function l(i,r,f,e){var s,h,c;if(u()||!i)return!1;if(e=e||n.innerHeight,r=r||n.innerWidth,f||f===0||(f=0,s=t.getElementById("content"),s&&(h=s.getBoundingClientRect(),r=h.right,f=h.left)),c=!1,define.is("jquery")&&i instanceof jQuery){if(!i.length)return!1;i=i[0]}var o=i.getBoundingClientRect(),l=(o.top>=0||o.bottom>=0)&&(o.top<e||o.bottom<e),a=(o.left>=f||o.right>f)&&(o.left<r||o.right<=r);return c=o.height!==0||o.width!==0,c&&l&&a}function a(){return r.promise()}var r=new f,i=h(),e=!1,o;return i&&(o=i.replace(/[H|h]idden/,"")+"visibilitychange",t.addEventListener(o,s)),s(),{isHidden:u,notifyWhenPageVisible:a,isElementTrulyVisible:l,wasBrowserHiddenAtLeastOnce:c}});define("trackInfo",["dom","pageInstance","getCookie","screen","window","document","viewAware","deviceGroup","logging","visibility","extend","evaluate","telemetry.constants","mediator","telemetryDataTypes"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function et(n,t){this.element=n;this.visible=t;this.visible&&(this.compress=function(){var n=this.element.getAttribute("data-m");try{return JSON.parse(n)}catch(t){return n}})}function ft(){tt=u.innerWidth||f.documentElement.clientWidth;it=u.innerHeight||f.documentElement.clientHeight}function ot(){return u.innerHeight||f.documentElement.clientHeight||f.body.clientHeight||0}function st(){return u.pageYOffset||f.body.scrollTop||f.documentElement.scrollTop||0}function ht(){return Math.max(f.body.scrollHeight||0,f.documentElement.scrollHeight||0,f.body.offsetHeight||0,f.documentElement.offsetHeight||0,f.body.clientHeight||0,f.documentElement.clientHeight||0)}function ct(){var n={};return u&&u.adsEnabled!=null&&(n.adoni=+u.adsEnabled),n}function lt(n,t,i){return i?t?[t,i].join(n):i:t}function at(n,t,i){var s,r,h,e,l,u,o;if(!i)return t?t:"";if(!t)return i?i:"";var f={},c=!1,a=i.split(n);for(s=0;s<a.length;s++)if(r=a[s].split(":"),r[0]){if(!c&&r[0]&&t.indexOf(r[0])!=-1){for(h=t.split(n),e=0;e<h.length;e++)h[e]&&(l=h[e].split(":"),f[l[0]]=l[1]);c=!0}f[r[0]]=r[1]}u="";for(o in f)o&&(u+=o,f[o]&&(u+=":"+f[o]),u+=n);return c||(u+=t),u}var vt=n.attr,yt=n.parent,k,tt,it,w,d=[0,0],ut=!0,rt={},g=[],nt="",b={},p={notrack:"notrack",cmSeparator:">",defaultModule:"body",defaultFormHeadline:"[form submit]",piitxt:"data-piitxt",piiurl:"piiurl",wrapperId:"wrapper",MUIDCookie:"MUID",gestureKey:"touch_gesture",gestureType:{tap:"tap",rightclick:"rightclick"},eventTypes:{click:"click",nonNavClckEvt:"click_nonnav",submit:"submit",contextmenu:"contextmenu",mouseenter:"mouseenter",imprUpdate:"impr_update",adPlay:"AdPlay",contentPlay:"ContentPlay",videoClickNonNav:"Click_Non-nav"},imprUpdateMechanisms:{load:"load",scroll:"scroll",auto:"auto",tap:"tap",resize:"resize",swipe:"swipe",partial:"partial"},event:{},sitePage:{},userStatic:{},overrideClientParams:{},persistOverriddenParams:!1,customTags:ct()||{},trackingDisabled:!1,getCurrentTime:function(){return+new Date},timeToInteract:function(n){var t;return t=n?n:p.getCurrentTime(),t&&u.performance&&u.performance.timing&&u.performance.timing.navigationStart?t-u.performance.timing.navigationStart:void 0},telemetryModuleTypes:{Undefined:0,Header:1,Footer:2,topNavBar:3,navBar:4,dropDown:5,Section:6,Carousel:7,Module:8,searchBox:9,inputBox:10,actionButton:11,Interaction:12,Headline:13,Navigation:14,Entity:15,structuredData:16,appStore:17,appLaunch:18,cmsPromotions:19,microsoftWebStore:20,xboxStore:21,officeStore:22,appInstall:23,PartnerLinks:24,SponsoredContent:25},contentPlacedBySource:{Editorial:0,PersonalizationAlgo:1,BingAlgo:2,Taboola:3,Outbrain:4},telemetryDataAttribute:"data-m",telemetryHLAttribute:"data-hl",client:{clientId:function(){return k||k===""||(k=i(p.MUIDCookie)||p.sitePage.requestId||""),k},getMuid:function(){return i(p.MUIDCookie)},OTFTelemetry:function(n){require(["binding","c.deferred"],function(){var t,o,s,h,c,l,r,e,i;typeof n=="undefined"?n=p.imprUpdateMechanisms.load:n==null&&(n="");g=[];t=f.body.querySelectorAll("[data-m]");o=u.innerHeight;s=u.innerWidth;h=0;c=f.getElementById("content");c&&(l=c.getBoundingClientRect(),s=l.right,h=l.left);var v=f.body.querySelector(".ip")||f.body.querySelector(".mip")||f.body.querySelector(".sip"),y=v&&p.telemetryTracking.isVisible(v,s,h,o),a=[];for(r=0;r<t.length;r++)t[r].getAttribute("data-otfUseViewportForVisibility")=="true"?a.push(p.telemetryTracking.isVisible(t[r],u.width,0,o,y)):a.push(p.telemetryTracking.isVisible(t[r],s,h,o,y));for(e=0;e<t.length;e++)g.push(new et(t[e],a[e]));i=p.telemetryTracking.formatModules();i&&(i.e&&i.e.length>0||i.vc&&i.vc.length>0)&&p.telemetryTracking.sendImprUpdateEvent(n,i,p)})},height:function(){return it||ft(),it},pageUrl:function(){var n=u.location.href,t=p.sitePage.msnocid,i;return t&&(i=n.indexOf("?")>=0,n=i?n+"&":n+"?",n=n+"ocid="+t),n},referrer:function(){return f.referrerOverride||f.referrer},screenResolution:function(){return[r.width,r.height].join("x")},width:function(){return tt||ft(),tt},viewType:function(){return(o.isTmx||o.isMidlevel)&&!w&&e.listen(function(n){n&e.views.SIZE1COLUMN?w="size1column":n&e.views.SIZE2COLUMN?w="size2column":n&e.views.SIZE3COLUMN?w="size3column":n&e.views.SIZE4COLUMN&&(w="size4column")}),w},frameData:function(){if(u._pageTimings&&u._pageTimings.frameMarkerData)return u._pageTimings.frameMarkerData},wasBrowserHiddenAtLeastOnce:function(){return h.wasBrowserHiddenAtLeastOnce()}},userDynamic:{timeStamp:function(){return p.getCurrentTime()},slideType:function(){for(var t=p.event.target,i="halfpane";t&&n.name(t)!="SECTION";){if(n.name(t)=="LI"&&n.containsClass(t,i))return i;t=n.parent(t)}return null},firstEventIndex:function(){return++d[0]},currentEventIndex:function(){return ut?++d[0]:++d[1]},resetEventIndex:function(){d[1]=0;ut=!1}},custom:{addCustomTags:function(){var n=p.customTags;return n=c({},p.customTags,rt),rt={},JSON.stringify(n)},addCustomTagsForClickEvent:function(){var n="",t;if(typeof b=="object")for(t in b){n=JSON.stringify(b);break}return b={},n}},telemetryTracking:{setupParameters:function(n){var i=p.sitePage;return{evt:n,rid:t.getActivityId()||i.requestId,di:i.domainId,clid:p.client.clientId()}},sendImprUpdateEvent:function(n,t){if(t!=undefined&&(!(t.e==undefined||t.e.length<=0)||!(t.vc==undefined||t.vc.length<=0))){var i=this.setupParameters(p.eventTypes.imprUpdate);i&&(i.mech=n,i.winht=ot(),i.docht=ht(),i.scrollOff=st(),i.wbh=h.wasBrowserHiddenAtLeastOnce(),i.e1=t,i.tmpl=p.sitePage.templ,i.mkt=p.sitePage.localeCode,n===p.imprUpdateMechanisms.scroll&&(i.TTI=p.timeToInteract()),u&&u.adsEnabled!=null&&(i.adoni=+u.adsEnabled),p.sitePage.feedId&&(i.fid=p.sitePage.feedId,i.fn=p.sitePage.feedName,i.ft=p.sitePage.feedType),i["pg.p"]=p.sitePage.page_product,i["pg.t"]=p.sitePage.page_type,i["pg.n"]=p.sitePage.page_name,i["pg.c"]=p.sitePage.page_configuration,p.sitePage.flightid&&(i.flightid=p.sitePage.flightid),this.sendUpdate(i))}},isVisible:function(n,t,i,r){return n?h.isElementTrulyVisible(n,t,i,r):!1},formatModules:function(){var n=[],r,t,u,i;for(r in g)t=g[r],t&&t.compress&&(u=t.compress(),n.push(u));return i={},n&&n.length>0&&(i.e=n),i},sendUpdate:function(n){if(!p.trackingDisabled){if(nt=nt||(p.sitePage||{}).otfURL,!nt){s.error("[telemetryTracking.sendUpdate] BaseUrl was empty or undefined in sitePage.");return}if(n){n.idx=p.userDynamic.currentEventIndex();var t={url:nt,requestType:a.POST,eventType:n.evt||p.eventTypes.impressionUpdate,params:n,trackingType:a.OTF};v.pub(a.FireTelemetry,t)}}}},updateTemplValue:function(n){p.updateSitePage(n)},updateSitePage:function(n,t,i){var r=p.sitePage,u;r||(r=p.sitePage={});u=r.flightid;t&&(!u||u.indexOf(t)<0)&&(r.flightid=lt(",",u,t));r.templ=at(";",r.templ,n);i&&(r.requestId=i)},updatePageName:function(n,t){var r=t,i;t===undefined&&(r=!0);i=new y.getTelemetryPageInfo(n);i&&p.sitePage&&(p.sitePage.page_name=i.PageName,r&&(p.sitePage.page_type=i.PageType))},updateFeedMetadata:function(n,t,i){n&&(p.sitePage.feedId=n,t&&(p.sitePage.feedName=t),i&&(p.sitePage.feedType=i))},setCustomTagsForClickEvent:function(n,t){n&&t&&t!=undefined&&(b[n]=t)},trackCustomProperty:function(n,t){n&&t!=undefined&&(n=n.toLowerCase(),rt[n]=t)}};return p});define("c.track.mobi",["track","trackInfo","pageInstance","screen","navigator","dom","events","document","window"],function(n,t,i,r,u,f,e,o,s){function v(i,r,u,f,e,o,s,h){if(i){i[t.gestureKey]=r;u=u&&u.length>0?u:l;var c=n.createEvent(null,u,i);n.trackEvent(c,i,f,e,o,s,h)}}var l="click_nonnav",h=!1,c=0,a=1e3;return n.extend({client:{orientation:function(){return r.width>r.height?"landscape":"portrait"},userAgent:function(){return u.userAgent},pageTitle:function(){return o.title},gesture:function(){var n=f.getTarget(t.event);if(n&&n[t.gestureKey])return n[t.gestureKey];if(t.event){if(t.event.originalEvent&&t.event.originalEvent=="contextmenu"||t.event.ctrlKey||t.event.shiftKey)return t.gestureType.rightclick;if((t.event.type=="click"||t.event.type=="click_nonnav"||t.event.type=="submit")&&h==!0&&t.sitePage.device)return t.gestureType.tap}return""}},userDynamic:{requestId:function(){var n=i.getActivityId()||t.sitePage.requestId;return n?n:s.console&&console.error("No requestID passed in from the server or generated via guidGen.js, please check the trackInfo.sitePage.requestId or pageInstance.js")}}}),u.pointerEnabled||u.msPointerEnabled?e.bind(o,u.pointerEnabled?"pointerup":"MSPointerUp",function(n){h=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType=="touch"?!0:!1}):(e.bind(o,"mouseup",function(){var n=(new Date).getTime();n>c+a&&(h=!1)}),e.bind(o,"touchend",function(){h=!0;c=(new Date).getTime()})),n.trackGesture=v,1});define("track",["trackInfo","extend","dom","getCookie","setCookie","events","window","document","mediator","navigation","headData","pageInstance","evaluate","trackingHelper","webStorage","telemetry.constants","requestPageRevealCallback","telemetryDataTypes"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function rt(n){for(var t,f,o,r,c,i,s=h.getParamsFromUrl(e.location.href),u=0;u<d.length;u++){if(i=d[u],t=i.defaultOpts,t.disableOnAutoRefresh){for(f=t.disableOnAutoRefresh.split(";"),o=!1,r=0;r<f.length;r++)if(f[r]==t.id){o=!0;break}if(o&&s.AR){t.isGeneratedEarly=!1;continue}}t.isGeneratedEarly?t.isGeneratedEarly=!1:i&&(c=i[n]())}}function hi(t){if(t){var i=t.errId+t.errSource,r=y.getItem(i,!0),u=(new Date).getTime();r&&u-r<=fi||(n.event={type:"app_error"},n.report=t,ui(JSON.stringify(t),!0),rt("getEventTrackingUrl"),y.setItem(i,u,!0))}}function st(n,t,i){var u=ft(n)||[],r=0,f;for(t=t||"alt";r<u.length;r++)if(f=k(u[r],t)||st(u[r],t,i),f&&!(i==u[r].localName))return f}function yt(t){if(t){var u=tt(t),i=k(u,"id"),r;return n.wrapperId==i?void 0:(r=yt(u),r&&i)?[r,i].join(n.cmSeparator):i||r}}function pt(n){if(n){var u=tt(n),i,t=0,r=0;if(!k(u,"id"))if(t=pt(u),t)t--;else return 0;for(i=ft(u)||[];r<i.length;r++){if(i[r]==n){t++;break}t+=wt(i[r])}return t}}function wt(t){var i=0,r=0,u;if(t&&!k(t,"id"))for(u=ft(t)||[],k(t,"href")&&!k(t,n.notrack)&&i++;r<u.length;r++)i+=wt(u[r]);return i}function ht(n,t,i){var u,r,e,f;if(i&&n&&t){if(n.tagName==t)return n;for(u=ft(n)||[],r=0,e=u.length;r<e;r++){if(u[r].tagName==t)return u[r];if(f=ht(u[r],t,i-1),f)return f}}return null}function ci(n){var i,r,t,u;if(n)for(r="getPageViewTrackingUrl",t=0;t<d.length;t++)if(i=d[t],i.defaultOpts.id===n){u=i[r]();break}}function li(){var i=e.location.protocol+"//"+e.location.host+"/pv.xml",t;n.trackingDisabled||(t={url:i,requestType:p.GET,trackingType:p.Comscore},s.pub(p.FireTelemetry,t))}function ai(t){n.event={type:"adimpr_update"};var i=parseInt(t.w),r=parseInt(t.h);n.report={dst:t.dst,den:t.den,id:t.id,pg:t.pg,w:isNaN(i)?0:i,h:isNaN(r)?0:r,status:t.status,anAd:t.anAd,seqid:t.seqid,sdk:t.sdk,fen:t.fen};rt("getEventTrackingUrl")}function vi(n){var u;if(n){var t=n.errId,i=y.getItem(t,!0),r=(new Date).getTime();i&&r-i<=si||(u=function(){yi(n);rt("getEventTrackingUrl");y.setItem(t,r,!0)},u())}}function yi(t){var i;n.event={type:"app_error"};i=n.report={errId:t.errId,errMsg:t.errMsg,errSource:t.errSource};ui(JSON.stringify(i),!0)}function bt(t,i,r,u,f,e,s){function h(){return(!i&&t&&(i=t.target),!i||k(i,n.notrack))?!1:i.id==="srchfrm"}function c(){var n=o.getElementById("q");if(n)return n.value}h()&&(u=c());nt(t,i,r,u,f,e,s)}function nt(t,r,u,f,e,o,s){var l,y,p,g,w,b,v,d;if(!r&&t&&(r=t.target),r&&!k(r,n.notrack)){r.jquery&&(r=r[0]);t=t||{};t.target=r;n.event=t;l=r.href||k(r,"href");l=="#"&&(l=r.href);u=u||k(r,n.piiurl)||l||k(r,"action")||"";y=k(r,"data-hl")||"";f||y||(p=ht(r,"H4",2)||ht(r,"H3",2),p&&(f=i.text(p)));typeof f!="string"&&(f=y||k(r,n.piitxt)||("FORM"==lt(r)?n.defaultFormHeadline:k(r,"title")||st(r,"title","img")||i.text(r)||k(r,"alt")||st(r,"alt")||""));f.trim!=undefined&&(f=f.trim());e=e||yt(r)||n.defaultModule;o=o||(k(r,"id")?1:pt(r));g=r.className||k(r,"class");s=s||(/GT1-(\d+)\b/i.exec(g)?RegExp.$1:"")||(/[?&]GT1=(\d+)\b/i.exec(l)?RegExp.$1:"");var c="",nt="",it="",ft=n.cmSeparator,et;if(t&&(t.type==n.eventTypes.click||t.type==n.eventTypes.nonNavClckEvt||t.type==n.eventTypes.submit||t.type==n.eventTypes.contextmenu||t.type==n.eventTypes.mouseenter)){w="data-m";c=k(r,w);c||(b=tt(r),c=b?k(b,w):"");try{c=JSON.stringify(a(c))}catch(ot){c=null}v=tr(r);v&&(nt=v.nameLineage.reverse().join(ft),it=v.ordinalLineage.reverse().join(ft));et=t.time}d=h.getHostName(u);d&&d.toLowerCase().indexOf("bing.com")>-1&&(u=ut.filterUrlParams(u,["q","pq"]),f="");n.report={destinationUrl:u,headline:f,contentModule:e,contentElement:o,campaignId:s,module:c,sourceIndex:r.sourceIndex||"",nodeName:r.nodeName||"",nLineage:nt,oLineage:it,timeToInteract:n.timeToInteract(et)};rt("getEventTrackingUrl")}}function pi(t,i){var r,f,y;if((i===undefined||i===null)&&(i=!1),delete n.event,delete n.userStatic.requestId,delete n.overrideClientParams,r="pg.n",t&&t[r]){var e="pg.t",w=t[r],k=t[e],u=new b.getTelemetryPageInfo(w),a=b.validateTelemetryPageType(k);u&&(t[r]=u.PageName,t[e]=a?a:u.PageType===b.TelemetryPageType.Unspecified?n.sitePage.page_type:u.PageType)}n.overrideClientParams=t;n.persistOverriddenParams=i;f=v.modifyValuesForTrackPage();f&&f.preventComscore&&ut.preventBeacon(p.Comscore);c&&c.clientSettings&&c.clientSettings.static_page&&(y=n.sitePage.requestId=l.getActivityId(),n.sitePage.isStaticPage="True",require(["c.deferred"],function(){var i=o.body.querySelector("#maincontent"),t,r,n;if(i)for(t=i.querySelectorAll("a[href*='.bing.com']"),r=t.length,n=0;n<r;n++)t[n].href=h.mergeQueryStringParams(t[n].href,{refig:y})}));rt("getPageViewTrackingUrl");at?s.pub("pageView"):(at=1,s.pub("pageViewOnLoad"));delete n.overrideClientParams}function wi(n){var i=[],r,t;if(n&&n.querySelectorAll)for(r=n.querySelectorAll("[data-m]"),k(n,"data-m")&&i.push(n),t=0;t<r.length;t++)i.push(r[t]);return i}function kt(n,t){var i=k(n,t);if(i)try{return a(i)}catch(r){return null}return null}function dt(n,t){if(t.indexOf)return t.indexOf(n)!==-1;for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}function bi(t,i,r){var h,f,e,c,o,s,u,l;if(t){for(t.jquery&&(t=t[0]),h=wi(t),f=[],e=0;e<h.length;e++)(c=h[e],!i||n.telemetryTracking.isVisible(c))&&(o=kt(c,"data-m"),s=o?o.i:undefined,s===undefined||dt(s,ot)||(ot.push(s),f.push(o)));u={};f&&f.length>0&&(u.e=f);u&&u.e&&u.e.length>0&&(l=r?r:n.imprUpdateMechanisms.partial,n.telemetryTracking.sendImprUpdateEvent(l,u))}}function ki(){ot=[]}function di(n){var t=new RegExp(oi).exec(n);return t&&t.length&&t[1]||null}function gi(t){var r=null,u,i;return t&&(t.indexOf(vt)==-1?(u=t.substring(0,t.indexOf("#")).toLowerCase(),i=e.location.href.toLowerCase(),(i==u||i.substring(0,i.indexOf("#"))==u)&&(r=n.eventTypes.nonNavClckEvt)):r=di(t)),r}function ct(n,t,i){var r=null;return g.createEvent?(r=g.createEvent("Events"),r.initEvent(t,!1,!0,i||e,0,0,0,0,0,!1,!1,!1,!1,0,null)):g.createEventObject&&(r=g.createEventObject(n),r.type=t),r&&(r.customTarget=i,r.originalEvent=n&&n.type),r}function nr(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function gt(n){ti(n)}function ni(n){2!=n.button&&ti(n)}function tr(n){for(var i={},r=[],u=[],t;n;)t=kt(n,"data-m"),t&&(t.n&&r.push(t.n),t.o&&u.push(t.o)),n=tt(n);return i.nameLineage=r,i.ordinalLineage=u,i}function ir(n){try{if(n&&it&&it===n)return!0;it=n;setTimeout(function(){it=null},ei)}catch(t){return it=null,!1}return!1}function ti(t){var r,e,o,s,f,u,h;try{t.time=n.getCurrentTime();t.customTarget&&t.customTarget.useMap&&(t.customTarget=t.customTarget.document.activeElement,t.target=t.customTarget)}catch(c){}for(r=i.getTarget(t);r&&!k(r,"href")&&r.nodeName!="BUTTON"&&r.nodeName!="MENUITEM";)r=tt(r);if(!r||!ir(r)){if(t&&t.customTags&&(e=t.customTags,typeof e=="object"))for(o in e)o&&(s=e[o],s&&s!="undefined"&&n.setCustomTagsForClickEvent(o,s));if(r&&!r.form)if(f=t,t.type==n.eventTypes.contextmenu&&(f=ct(t,n.eventTypes.click,r)),u=r.href,u&&u.length){if(u.indexOf("#")==u.length-1||u.indexOf(vt)>=0)if(t.type==n.eventTypes.click)h=gi(u),h&&(f=ct(t,n.eventTypes.nonNavClckEvt,r));else if(t.type==n.eventTypes.contextmenu)return;f.type==n.eventTypes.nonNavClckEvt&&nr(t);v.addOcidToHref(u,r,f);f.isPropagationStopped||nt(f,r)}else t.type!=n.eventTypes.contextmenu&&nt({type:n.eventTypes.nonNavClckEvt,target:r})}}function rr(i,r){if(i&&i.evt&&!n.trackingDisabled){i.adid&&(i.adid=i.adid.toString());var u=n.sitePage,f=n.client,e=n.userDynamic,h=n.telemetryTracking.setupParameters(i.evt),c={bh:f.height(),bw:f.width(),cvs:u.canvas,di:u.domainId,mkt:u.localeCode,pid:u.pageId,pn:u.pageName,rid:u.serverImpressionGuid,clid:h.clid,"st.dpt":u.department||i["st.dpt"]||"watch","st.sdpt":u.subDepartment||i["st.sdpt"]||"no-sc",subcvs:u.vertical,flight:u.flightid,isVideo:!0,idx:r?e.firstEventIndex():e.currentEventIndex()},l=t({},i,c),o=ri(l),a={url:u.otfURL,requestType:p.GET,eventType:o.evt,params:o,trackingType:p.OTF,eventSource:"VideoPlayer"};s.pub(p.FireTelemetry,a)}}function ur(i){if(i&&!n.trackingDisabled){var u={"feedback.id":i["feedback.id"],"feedback.source":i["feedback.source"],"feedback.area":i["feedback.area"],"feedback.type":i["feedback.type"],"feedback.rating":i["feedback.rating"],submitValue:i.submitValue,userAgent:i.userAgent},r=t(!0,{},u,ii("feedback"));r=ri(r);n.telemetryTracking.sendUpdate(r)}}function ii(t){var r=n.telemetryTracking.setupParameters(t),i=n.sitePage,u={scr:n.client?n.client.screenResolution():"","client.deviceModel":i.d_dgk,pageType:i.pageName,subcvs:i.vertical,cvs:i.canvas,contentid:i.entityId,cu:n.client?encodeURIComponent(n.client.pageUrl()):i.pageUrl,mkt:i.localeCode,flightid:i.flightid,signedin:n.userStatic?n.userStatic.isSignedIn:""};return r!==null&&r!==undefined&&(u.evt=r.evt,u.rid=r.rid,u.clid=r.clid),u}function ri(n){var i={};for(var t in n)n[t]!=undefined&&(i[t]=n[t]);return i}function fr(n,t){var r,i,u;if(n&&t&&(r=n.split("?"),r.length>1)){var f=r[0]+"?",e=r[1],o=h.getParams(e);if(e){for(i=0;i<t.length;i++)t[i]=t[i].toLowerCase();for(u in o)dt(u.toLowerCase(),t)||(f=f+u+"="+o[u]+"&")}return f.slice(0,-1)}return n}function ui(n,t){var u=new Date,f=u+": "+ +new Date+" "+n,i=et.console,r;i&&(r=t?i.error:i.log,r&&r.call(i,f))}var k=i.attr,lt=i.name,tt=i.parent,ft=i.children,d=[],at,et=e,g=o,fi=3e5,it=null,ei=500,vt="tevt=",oi=/#tevt=([A-Za-z0-9]+_[A-Za-z0-9]+)(;*)/g,ot=[],si=p.logSamplingRate||3e5,ut;return s.sub("logerror",hi),ut={onContextMenu:gt,onClick:ni,trackEvent:nt,trackFormSubmitEvent:bt,trackAdEvent:ai,trackVideoEvent:rr,trackFeedbackEvent:ur,createEvent:ct,sendPageViewCandidate:li,sendSinglePageViewBeacon:ci,clearImpressionCache:ki,getDefaultTrackingParams:ii,filterUrlParams:fr,trackAppErrorEvent:function(n){w(function(){vi(n)})},trackPartialImpression:function(n,t,i){w(function(){bi(n,t,i)})},trackPage:function(n,t){w(function(){pi(n,t)})},trackThirdPartyUpdate:function(){s.pub("thirdPartyTrackingUpdate")},register:function(){for(var t=0,n;n=arguments[t++];)isNaN(n.samplingRate)&&(n.samplingRate=99),d.push(n)},getCurrentPageRequestId:function(){return l.getActivityId()||n.sitePage.requestId||""},mapTelemetryParams:function(i,r,u,f){var l,s,o,e,h,c;u=t({},i,u);f=t(!0,{},r,f);for(l in f)if(h=n[l],h){s=f[l];for(o in s)c=n.overrideClientParams,o&&c&&c[o]!==undefined?(e=c[o],n.persistOverriddenParams&&(h[s[o]]=e)):(e=h[s[o]],typeof e=="function"&&(e=e())),e!=null&&(u[o]=e)}return u},extend:function(i){t(!0,n,i)},form:function(n){n&&n.length||(n=[n]);for(var t,i=0;t=n[i++];)"FORM"!=lt(t)||k(t,"data-customformtrack")||f.bind(t,"submit",bt)},preventBeacon:function(n){var t,i;if(n)for(n=n.toLowerCase(),t=0;t<d.length;t++)if(i=d[t].defaultOpts,n===i.id.toLowerCase()){i.isGeneratedEarly=!0;break}}},f.bind(g,"click",ni),f.bind(et,"load",nt),f.bind(et,"unload",nt),f.bind(g,"contextmenu",gt),require(["c.dom"],function(){ut.form(i.getElementsByTagName("form"))}),s.sub("ViewabilityUpdatedEvent",function(t){w(function(){n.client.OTFTelemetry(t)})}),s.sub(p.ResetIdx,n.userDynamic.resetEventIndex),ut});define("elementTrackingDecorator",["trackingConstants","jquery","evaluate","track","window","extend"],function(n,t,i,r,u,f){function v(){n&&n.trackingData&&p(n.trackingData.lastIndex)&&n.trackingData.lastIndex>1?o=n.trackingData.lastIndex:u&&u.console&&u.console.error("Tracking constants were not supplied in DOM.",n)}function b(n){return n&&n.length!==0}function k(n,t){var i=n.closest(e),r=i.length>0?i.eq(0):null,u;r&&n.attr(h)&&(r=i.length>1?i.eq(1):n.parent(e));t&&(!r||r.length===0)&&(i=t.closest(e),r=i.length>0?i.eq(0):null);r&&(u=r.attr(h),u&&p(u)&&(this.p=u))}function d(n,i){n.find(e).each(function(n,r){var f=t(r),u=s(f),o=f.parent(e)[0];o||(o=f.parent().closest(e));i=s(t(o));i&&u&&u.p!=i.i&&(u.p=i.i,y.call(u,!0),c.call(f,u))})}function s(n){var t=n.attr(a);if(t)try{return i(t)}catch(r){return null}return{}}function c(n){n.i&&(this.attr(a,JSON.stringify(n)),this.attr(h,n.i))}function y(n){return this&&(!this.i||n==!0)&&o?(o++,this.i=o,!0):!1}function g(n){var t=n.parent().children();t.length>1?nt.call(t,this,n):this.o=1}function nt(n,i){var r=0;this.each(function(u,e){if(r++,e===i[0])n.o=r;else{var o=t(e),h=f(s(o),{o:r});c.call(o,h)}})}function p(n){return!isNaN(parseFloat(n))&&isFinite(n)}function w(n){var t=n?n.defaults:null;return f({},{n:"client",y:12},t||{})}function l(n,i,r,u,e){var o=t(n),l=s(o),h=f({},r,l),a=y.call(h,e);e||g.call(h,o);k.call(h,o,i);u&&u(o,h);c.call(o,h);a&&d(o,h)}var o=0,a="data-m",h="data-id",e="["+h+"]";return{setTrackingForSingleElement:function(i,u,f,e){var s,h;return v(),s=w(f),l(i,t(u),s,f&&f.elementOverride,f&&f.overrideIndexOnly),n.trackingData.lastIndex=o,e||(h=f&&f.visibilityCheck!=undefined?f.visibilityCheck:!0,r.trackPartialImpression(i,h)),i},setTrackingAttrs:function(i,u,f,e){var k;if(v(),i&&i.find){var s=f&&f.selector||"li",h=i.find(s),c=w(f),a=f?f.elementOverride:null,y=u&&!u.jquery?t(u):u,p=f?f.overrideIndexOnly:!1;i.each(function(n,i){t(i).is(s)&&l(i,y,c,a,p)});b(h)&&(k=t(h),k.each(function(n,t){l(t,y,c,a,p)}))}return n.trackingData.lastIndex=o,e||r.trackPartialImpression(i,!0),i}}});define("trackingHelper",["trackInfo","navigation","pageInstance","location","evaluate","displayOptionsHelper","browserState","ajax","getCookie","setCookie","trackingHelper.tokens","format","window","telemetryDataTypes"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function yt(t,i,r){var o,a,u,s,tt,e;if(t&&i){b||(b=n.sitePage.msnocid);y||(y=n.sitePage.storeocid);var v=t.indexOf("://"),p=t.indexOf(ht),w=v>0&&p>=0&&p<v,k=t.match(rt),c=t.match(d),h=k&&k[1],ut=c&&c[1],l;if(h&&ut){o=t;a=t.match(/[&?]ocid=(ems\.)/i);l=a&&a[1];l&&!o.match(/[=_]emsadid\./i)&&(o=it(o.replace(d,""),c[1]));w&&ot(o,r,i);return}if(u=t.indexOf("#"),s="",!h){if(u===t.length-1)return;if(b){var g=ct.exec(t),nt=g&&g[2],f=t;if(nt&&(tt=nt.indexOf(st)>=0,tt)){u>=0&&(s=t.substring(u,t.length),f=t.substring(0,u));f+=f.indexOf("?")>0?"&":"?";f=f+"ocid="+b;i.href=f+(s||"");return}}}(h||y)&&w&&(u>=0&&(s=t.substring(u,t.length),t=t.substring(0,u)),e=t,h||(e+="&ocid="+y),e=it(e,l),i.href=e+s,ot(e,r,i))}}function it(t,r){var h=t.match(d),l=h&&h[1],f=t.indexOf("#"),c="",e,u,o,s;return l?t:(f>=0&&(c=t.substring(f,t.length),t=t.substring(0,f)),e=t,e+="&ccid=",u=[],r&&u.push("emsadid."+r),o=i.getActivityId()||n.sitePage.requestId,o&&u.push("webig."+o),s=n.client.clientId(),s&&u.push("muid."+s),e+u.join("_")+c)}function pt(){var e="_NoContent",o="-topsites",s=!1,t,i,u;return n.sitePage&&(t=!0,f.shouldRenderRiver()?(n.sitePage.pageName=n.sitePage.pageName&&n.sitePage.pageName.replace(o,""),n.sitePage.cvProduct=n.sitePage.cvProduct&&n.sitePage.cvProduct.replace(e,""),n.sitePage.page_configuration|=v.TelemetryPageConfiguration.OneBox|v.TelemetryPageConfiguration.TopSites|v.TelemetryPageConfiguration.ContentFeed):f.isDisplayOptionSetToBlank()?(n.sitePage.pageName+="-onebox",t=!1,n.sitePage.page_configuration|=v.TelemetryPageConfiguration.OneBox):(f.shouldRenderTopSitesOnly()||n.sitePage.noMsnContent)&&(n.sitePage.pageName+=o,t=!1,n.sitePage.page_configuration|=v.TelemetryPageConfiguration.OneBox|v.TelemetryPageConfiguration.TopSites),t||(s=!0,n.sitePage.cvProduct+=e)),n.client&&!n.client.personalization&&(u=r.search,u&&/&ntlogo=0/i.test(u)&&(i={srch3P:!0}),i&&(n.client.personalization=JSON.stringify(i))),{preventComscore:s}}function wt(){}function ot(t,i,f){var e,h,c;if((!i||i.originalEvent!=="contextmenu")&&!g){var a=t.match(rt),v=t.match(/[&?]tduid=([^&]+)/i),b=new RegExp(nt,"i");if(a&&a[1]&&(!v||!v[1])&&!b.test(t.match(b))){if(e=y,f.attributes&&f.attributes["data-m"]&&(h=f.attributes["data-m"].value,h&&(e=u(h).n)),p=n.sitePage.pageId+"_"+n.sitePage.localeCode+"_"+n.sitePage.vertical+"_"+e,tt=p,c=s(tt),c){t+=l(ut,c,et,ft,p);f.href=t;return}w=f;w.href=t;i.stopPropagation();i.preventDefault();i.isPropagationStopped=!0;g=!0;r.origin||(r.origin=r.protocol+"//"+r.hostname+(r.port?":"+r.port:""));o.get({url:l(vt,r.origin,n.sitePage.localeCode,n.sitePage.channel,p),dataType:at,success:kt,error:function(n,i){bt("The TradeDoubler ajax call failed: "+i+" Status code: "+n);f.href=t+nt;f.click()}})}}}function bt(n){a.console&&a.console.log&&console.log(n)}function kt(n){n?(h(tt,n,13,h.topDomain,lt),w.href+=l(ut,n,et,ft,p)):w.href+=nt;g=!1;w.click()}function dt(n,t){return t?n+"_succeeded":n+"_failed"}var k=r.host.split(".").reverse(),st=k.length>1?k[1]+"."+k[0]:r.host,ht="ms-windows-store",ct=/[a-z][a-z0-9+\-.]*:\/\/([a-z0-9\-._~%!$&'()*+,;=]+@)?([a-z0-9\-._~%]+|\[[a-z0-9\-._~%!$&'()*+,;=:]+\])/i,rt=/[&?]ocid=([^&]+)/i,d=/[&?]ccid=([^&]+)/i,b=n.sitePage.msnocid||"",y=n.sitePage.storeocid||"",g=!1,lt="/",at="text/html",p="",nt="&notduid=true",ut="&tduid=({0})({1})({2})({3})()",tt="",ft=c.tradeDoublerMarketId,et=c.tradeDoublerProgramId,w,vt=c.tradeDoublerAjaxUrlFormat;return{addOcidToHref:yt,modifyValuesForTrackPage:pt,attachTaglineClickHandler:wt,addCcidToStoreUrl:it,getActionResult:dt}});define("otf-telemetryPing",["mediator","telemetry.constants","escape","window","logging","afire"],function(n,t,i,r,u,f){function e(n,t){var u=[],f=n,r;if(n&&t){for(r in t)u.push(i.urlPart(r)+"="+i.urlPart(t[r]));f=n+u.join("&").replace(/%20/g,"+")}return f}function o(n,t){var i,r,e;if(t&&JSON&&JSON.stringify){try{i=JSON.stringify([t])}catch(f){u.error("[telemetryTracking.sendUpdate] Error in using JSON.stringify.",f);return}if(i&&i!="[{}]")try{r=!1;e=!1;r&&(!r||e)||s(n,i)}catch(f){u.error("[telemetryTracking.sendUpdate] Error in generating the XDomainRequest or XMLHttpRequest","BaseUrl = "+n,f);return}}}function s(n,t){var i;i=new XMLHttpRequest;i.open("POST",n,!0);i.setRequestHeader("Content-type","application/json; charset=utf-8");i.onreadystatechange=function(){};i.send(t)}return n.sub(t.FireTelemetry,function(n){var r,i;if(n){var i=n.url,u=n.requestType,s=[t.Ctag,t.Comscore,t.OTF];if(i&&u&&n.trackingType&&s.indexOf(n.trackingType)!=-1){r=n.params;switch(u){case t.GET:i=e(i,r);f(i);break;case t.POST:o(i,r)}}}}),1});define("telemetryDataTypes",function(){function u(n){return n&&i&&(n=n.toLowerCase(),i[n]!==undefined)?i[n]:null}function f(t){if(t)for(var i in n)if(n.hasOwnProperty(i)&&n[i]===t.toLowerCase())return n[i];return null}function t(t,r){if(t){var u=t.toLowerCase(),e=r||n.Unspecified,f={PageName:u,PageType:e};return i[u]=f,f}return null}var i={},n={Unspecified:"unspecified",DHP:"dhp",NTP:"ntp",HomePage:"hp",VerticalHomePage:"verthp",StructuredDataPage:"data",SectionFront:"secfront",SiteSearch:"sitesearch",Article:"article",Gallery:"gallery",Video:"video",SubjectSection:"subjectsec",CustomColumn:"custcol"},r={StartPage:new t("startpage",n.HomePage),DefaultPage:new t("default"),EduPage:new t("edu"),ChildModePage:new t("child"),Feed:new t("xfeed"),Discover:new t("discover"),MyInterests:new t("myinterests"),ArticlePageNames:{Article:new t("article",n.Article),ArticleVNext:new t("articlevnext",n.Article),ArticleListicle:new t("article_listicle",n.Article),ArticleCollection:new t("articlecollection",n.Article),ArticleFullScreen:new t("articlefullscreen",n.Article),FlexibleArticle:new t("articleflex",n.Article),FlexibleArticleMobile:new t("articleflexmobile",n.Article),ArticleGalleryFullScreen:new t("article_galleryfs",n.Article)},GalleryPageNames:{Gallery:new t("gallery",n.Gallery),GalleryVNext:new t("galleryvnext",n.Gallery),GalleryFullScreen:new t("gallery_fullscreen",n.Gallery),GalleryClassic:new t("gallery_classic",n.Gallery),GalleryClassicFullScreen:new t("gallery_classicfs",n.Gallery),GallerySearch:new t("gallery_search",n.Gallery),GallerySearchFullScreen:new t("gallery_searchfs",n.Gallery),FlexibleGallery:new t("galleryflex",n.Gallery),FlexibleGalleryMobile:new t("galleryflexmobile",n.Gallery),GalleryImmersive:new t("gallery_immersive",n.Gallery),GalleryImmersiveFullScreen:new t("gallery_immersivefs",n.Gallery),GallerySponsored:new t("gallery_sponsor",n.Gallery),GallerySponsoredFullScreen:new t("gallery_sponsorfs",n.Gallery),GalleryInline:new t("gallery_inline",n.Gallery)},VideoPageNames:{ChannelPlayerPage:new t("channelplayerpage",n.Video),PartnerPlayerPage:new t("partnerplayerpage",n.Video)},VerticalHomePageNames:{HomePage:new t("homepage",n.VerticalHomePage),HomePageToday:new t("homepage-today",n.VerticalHomePage)},StructuredDataPageNames:{Gamecenter:new t("gamecenter",n.StructuredDataPage),Schedule:new t("schedule",n.StructuredDataPage),Scores:new t("scores",n.StructuredDataPage),Stocksummary:new t("stocksummary",n.StructuredDataPage),Stocksummaryoneriver:new t("stocksummaryoneriver",n.StructuredDataPage),Weatherxplatmaps:new t("weatherxplatmaps",n.StructuredDataPage),Standings:new t("standings",n.StructuredDataPage),Markets:new t("markets",n.StructuredDataPage),Watchlistpage:new t("watchlistpage",n.StructuredDataPage),Data_modelpage:new t("data_modelpage",n.StructuredDataPage),Immersivechartspage:new t("immersivechartspage",n.StructuredDataPage),Currencies:new t("currencies",n.StructuredDataPage),Indexdetailspage:new t("indexdetailspage",n.StructuredDataPage),Data_makepage:new t("data_makepage",n.StructuredDataPage),Weatherfullscreenmaps:new t("weatherfullscreenmaps",n.StructuredDataPage),Weatherthresholdmaps:new t("weatherthresholdmaps",n.StructuredDataPage),Stockanalysisdetails:new t("stockanalysisdetails",n.StructuredDataPage),Data_yearoverview:new t("data_yearoverview",n.StructuredDataPage),Data_segmenthub:new t("data_segmenthub",n.StructuredDataPage),Weathermaps:new t("weathermaps",n.StructuredDataPage),Playerstats:new t("playerstats",n.StructuredDataPage),Funddetailspage:new t("funddetailspage",n.StructuredDataPage),Exercisedetails:new t("exercisedetails",n.StructuredDataPage),Teams:new t("teams",n.StructuredDataPage),Etfdetailspage:new t("etfdetailspage",n.StructuredDataPage),Binganswermaps:new t("binganswermaps",n.StructuredDataPage),Workoutdetails:new t("workoutdetails",n.StructuredDataPage),Competitionstats:new t("competitionstats",n.StructuredDataPage),Polls:new t("polls",n.StructuredDataPage),Data_photos:new t("data_photos",n.StructuredDataPage),Videocategorylistpage:new t("videocategorylistpage",n.StructuredDataPage),Stockfinancialsdetails:new t("stockfinancialsdetails",n.StructuredDataPage),Commoditydetailspage:new t("commoditydetailspage",n.StructuredDataPage),Data_yearoverview_trim:new t("data_yearoverview_trim",n.StructuredDataPage),Worldwidepage:new t("worldwidepage",n.StructuredDataPage),Data_photos_trim:new t("data_photos_trim",n.StructuredDataPage),Stockcompanydetails:new t("stockcompanydetails",n.StructuredDataPage),Retirementplanner:new t("retirementplanner",n.StructuredDataPage),Livecoverage:new t("livecoverage",n.StructuredDataPage),Teamroster:new t("teamroster",n.StructuredDataPage),Stockhistorydetails:new t("stockhistorydetails",n.StructuredDataPage),Filterresultspage:new t("filterresultspage",n.StructuredDataPage),Data_carcompare:new t("data_carcompare",n.StructuredDataPage),Stockownershipdetails:new t("stockownershipdetails",n.StructuredDataPage),Driverstandings:new t("driverstandings",n.StructuredDataPage),Timevalueofmoney:new t("timevalueofmoney",n.StructuredDataPage),Savingscalculator:new t("savingscalculator",n.StructuredDataPage),Iccmatches:new t("iccmatches",n.StructuredDataPage),Other_flightsearchresult:new t("other_flightsearchresult",n.StructuredDataPage),Stockrelateddetails:new t("stockrelateddetails",n.StructuredDataPage),Data_specs_trim:new t("data_specs_trim",n.StructuredDataPage),Stockoptionsdetails:new t("stockoptionsdetails",n.StructuredDataPage),HomepageAlerts:new t("homepage-alerts",n.StructuredDataPage),HomepageRecordsandAverages:new t("homepage-recordsandaverages",n.StructuredDataPage),HomepageWeatherTraffic:new t("homepage-weathertraffic",n.StructuredDataPage),Data_specs:new t("data_specs",n.StructuredDataPage),Data_pricing:new t("data_pricing",n.StructuredDataPage),Mortgagecalculator:new t("mortgagecalculator",n.StructuredDataPage),Data_performance_trim:new t("data_performance_trim",n.StructuredDataPage),Theatershowtimes:new t("theatershowtimes",n.StructuredDataPage),Data_pricing_trim:new t("data_pricing_trim",n.StructuredDataPage),Data_photosInterior:new t("data_photos-interior",n.StructuredDataPage),Indexdetailsanalysispage:new t("indexdetailsanalysispage",n.StructuredDataPage),Data_photosInterior_trim:new t("data_photos-interior_trim",n.StructuredDataPage),Data_photosColors:new t("data_photos-colors",n.StructuredDataPage),Data_carReviews_trim:new t("data_car-reviews_trim",n.StructuredDataPage),Data_carReviews:new t("data_car-reviews",n.StructuredDataPage),Racecalendar:new t("racecalendar",n.StructuredDataPage),Teamstandings:new t("teamstandings",n.StructuredDataPage),Data_photosColors_trim:new t("data_photos-colors_trim",n.StructuredDataPage),Stockdetails:new t("stockdetails",n.StructuredDataPage),Data_interiorFeatures_trim:new t("data_interior-features_trim",n.StructuredDataPage),Data_exteriorFeatures_trim:new t("data_exterior-features_trim",n.StructuredDataPage),Calendar:new t("calendar",n.StructuredDataPage),Movieshowtimes:new t("movieshowtimes",n.StructuredDataPage),Drafts:new t("drafts",n.StructuredDataPage),Data_technologyFeatures_trim:new t("data_technology-features_trim",n.StructuredDataPage),Data_workoutdetails_collection:new t("data_workoutdetails_collection",n.StructuredDataPage),Data_photosExterior:new t("data_photos-exterior",n.StructuredDataPage),Autopayments:new t("autopayments",n.StructuredDataPage),Data_photosExterior_trim:new t("data_photos-exterior_trim",n.StructuredDataPage),Data_photos360Interior:new t("data_photos-360-interior",n.StructuredDataPage),Immersivechartsmarketspage:new t("immersivechartsmarketspage",n.StructuredDataPage),Returnoninvestment:new t("returnoninvestment",n.StructuredDataPage),Indexdetailsrelatedpage:new t("indexdetailsrelatedpage",n.StructuredDataPage),Gonepage:new t("gonepage",n.StructuredDataPage),Data_compare:new t("data_compare",n.StructuredDataPage),Data_compare_trim:new t("data_compare_trim",n.StructuredDataPage),Data_options_trim:new t("data_options_trim",n.StructuredDataPage),Entitiespage:new t("entitiespage",n.StructuredDataPage),Workoutdetailsprint:new t("workoutdetailsprint",n.StructuredDataPage),Data_photos360Exterior:new t("data_photos-360-exterior",n.StructuredDataPage),HomepageDatacarfinder:new t("homepage-datacarfinder",n.StructuredDataPage),Data_photos360Interior_trim:new t("data_photos-360-interior_trim",n.StructuredDataPage),Data_skeleton:new t("data_skeleton",n.StructuredDataPage),Mortgagerates:new t("mortgagerates",n.StructuredDataPage),Brackets:new t("brackets",n.StructuredDataPage),Data_photos360Exterior_trim:new t("data_photos-360-exterior_trim",n.StructuredDataPage),Data_photocompare:new t("data_photocompare",n.StructuredDataPage),HomepageWeather10day:new t("homepage-weather10day",n.StructuredDataPage),Data_performance:new t("data_performance",n.StructuredDataPage),HomepageWeatherextendedforecast:new t("homepage-weatherextendedforecast",n.StructuredDataPage),Savings:new t("savings",n.StructuredDataPage),Data_exteriorFeatures:new t("data_exterior-features",n.StructuredDataPage),Data_interiorFeatures:new t("data_interior-features",n.StructuredDataPage),Data_options:new t("data_options",n.StructuredDataPage),Travelgonepage:new t("travelgonepage",n.StructuredDataPage),Recipe:new t("recipe",n.StructuredDataPage),Getportfoliodatapage:new t("getportfoliodatapage",n.StructuredDataPage),Brokercenterpage:new t("brokercenterpage",n.StructuredDataPage),Data_technologyFeatures:new t("data_technology-features",n.StructuredDataPage),Tvlistings:new t("tvlistings",n.StructuredDataPage),Ownerstandings:new t("ownerstandings",n.StructuredDataPage),Entitydetailspage:new t("entitydetailspage",n.StructuredDataPage),Creditcards:new t("creditcards",n.StructuredDataPage),Cmssitemap:new t("cmssitemap",n.StructuredDataPage),Externalnativeadpage:new t("externalnativeadpage",n.StructuredDataPage),Autoloans:new t("autoloans",n.StructuredDataPage),Externalcontent:new t("externalcontent",n.StructuredDataPage),Htmlsitemap:new t("htmlsitemap",n.StructuredDataPage)},CustomColumnPageNames:{TrendingTopics:new t("topic_tt",n.CustomColumn),GlobalSettingsPage:new t("globalsettingspage",n.CustomColumn),MyTopics:new t("mytopics",n.CustomColumn),WeatherPlaces:new t("weatherplaces",n.CustomColumn),MyFavorites:new t("myfavorites",n.CustomColumn),TopicResult:new t("topicresult",n.CustomColumn),Collections:new t("collections",n.CustomColumn),Rouxbe:new t("rouxbe",n.CustomColumn),ShoppingList:new t("shopping list",n.CustomColumn),MyHealthReportsPage:new t("myhealthreportspage",n.CustomColumn),Error404page:new t("error404page",n.CustomColumn),AppsPromotion:new t("appspromotion",n.CustomColumn),Error500page:new t("error500page",n.CustomColumn),DietTrackerPreSigninPage:new t("diettrackerpresigninpage",n.CustomColumn),ExerciseTrackerPreSigninPage:new t("exercisetrackerpresigninpage",n.CustomColumn),WebSlicePage:new t("other_webslice",n.CustomColumn),Error200Page:new t("error200page",n.CustomColumn),AboutUsPage:new t("aboutus",n.CustomColumn),UnSupport:new t("unsupport",n.CustomColumn),Disclaimer:new t("disclaimer",n.CustomColumn),TermsOfService:new t("termsofservice",n.CustomColumn)},SubjectSectionPageNames:{TeamhomePage:new t("teamhome",n.SubjectSection),PlayerPage:new t("player",n.SubjectSection),MarketMoversPage:new t("marketmovers",n.SubjectSection),CommoditiesPage:new t("commoditiespage",n.SubjectSection),ChefPage:new t("chef",n.SubjectSection),NutritionIndexPage:new t("nutritionindex",n.SubjectSection),FinanceTechnologyPage:new t("finance-technologypage",n.SubjectSection),MedicalindexPage:new t("medicalindex",n.SubjectSection)},SiteSearchPageNames:{SearchResultsPage:new t("searchresultspage",n.SiteSearch),VideoSearchResultsPage:new t("videosearchresultspage",n.SiteSearch),PartnerVideolistPage:new t("partnervideolistpage",n.SiteSearch),HomepageBingserpIframepage:new t("homepage-bingserpiframepage",n.SiteSearch),SitesearchSitesearch:new t("sitesearch_sitesearch",n.SiteSearch),SearchResults:new t("search results",n.SiteSearch),SerpPage:new t("serppage",n.SiteSearch),FindaMoviePage:new t("findamoviepage",n.SiteSearch)},SectionFrontPageNames:{Competitionhub:new t("competitionhub",n.SectionFront),Local:new t("local",n.SectionFront),Stockscreener:new t("stockscreener",n.SectionFront),Toolslandingpage:new t("toolslandingpage",n.SectionFront),Showtimes:new t("showtimes",n.SectionFront),FinanceRealEstatepage:new t("finance-real-estatepage",n.SectionFront),CookingSchool:new t("cooking school",n.SectionFront),Allcompetitions:new t("allcompetitions",n.SectionFront),Newspage:new t("newspage",n.SectionFront),CocktailHub:new t("cocktail hub",n.SectionFront),Travelflightsearchhubpage:new t("travelflightsearchhubpage",n.SectionFront),Hotelshubpage:new t("hotelshubpage",n.SectionFront),WineHub:new t("wine hub",n.SectionFront),ChefHub:new t("chef hub",n.SectionFront),Travelflightstatushubpage:new t("travelflightstatushubpage",n.SectionFront),HomepageCompetitionhub:new t("homepage-competitionhub",n.SectionFront),Editorial:new t("editorial",n.SectionFront),SecfrontHotel:new t("secfront_hotel",n.SectionFront),SecfrontTNews:new t("secfront_tnews",n.SectionFront)}};return{TelemetryProduct:{Spartan:"spartan",Prime:"prime",PrimeMobile:"prime_mobile",IEext:"ieext",SpartanMobile:"spartan_mobile",TabbedShell:"tabbedshell",ChromeExt:"chromeext",Downlevel:"downlevel",Xbox:"xbox"},TelemetryPageType:n,TelemetryType:{Undefined:0,Header:1,Footer:2,TopNavBar:3,NavBar:4,DropDown:5,Section:6,Carousel:7,Module:8,SearchBox:9,InputBox:10,ActionButton:11,Interaction:12,Headline:13,Navigation:14,Entity:15,StructuredData:16,AppStore:17,AppLaunch:18,CmsPromotions:19,MicrosoftWebStore:20,XboxStore:21,OfficeStore:22,AppInstall:23,PartnerLinks:24,SponsoredContent:25,Follow:26,Unfollow:27,MoreFrom:28,Topic:29,Provider:30},ContentPlacedBySource:{Editor:0,PersonalizationAlgo:1,Bing:2,Taboola:3,Outbrain:4,AutoCuration:5,User:6},TelemetryPageConfiguration:{NoContent:0,OneBox:1,TopSites:2,Suggested:4,ContentFeed:8,WinFre:16},TelemetryPageName:r,TelemetryPageMode:{Default:0,Trial:1,Subscription:2},getTelemetryPageInfo:u,validateTelemetryPageType:f}});define("binding",["viewAware","mediator","window"],function(n,t,i){function s(t){return this.view(n.views.ALL&~this.views,t)}function a(n){var i=n.args[0],t,e,c,u;if(typeof i=="string")t=i;else if(typeof i.selector=="string")t=i.selector;else try{t=JSON.stringify(i)}catch(a){t="{unserializableSelector}"}var o=f[t]||(f[t]={}),s=o[n.behaviorName]||(o[n.behaviorName]={}),h=s[n.view]||(s[n.view]={}),l=n.args[1],r;try{r=JSON.stringify(l||"{defaultContext}")}catch(a){r="{unserializableContext}"}e=h[r]||(h[r]={});c=n.args[2];try{u=JSON.stringify(c||"{defaultOptions}")}catch(a){u="{unserializableOptions}"}return e[u]?!1:(e[u]=n,!0)}function h(n,t,i){var h=[],r,c,l,a,v,u,e,o,s;typeof i!="function"&&(i=function(){return!0});r=f[n]||{};t&&(r={behaviorName:r[t]||{}});for(c in r){u=r[c];for(l in u){e=u[l];for(a in e){o=e[a];for(v in o)s=o[v],i(s)&&h.push(s)}}}return h}function c(n,t){for(var u=null,i=0;i<r.length;i++)if(r[i].behaviorName==n&&r[i].args[0]==t){u=r[i];break}return u}function v(n){var t,u,i;for(e=n,i=0;i<r.length;i++)t=r[i],u=t.view&e,t.active&&(u?t.update():(t.teardown(),t.active=0));for(i=0;i<r.length;){if(t=r[i],u=t.view&e,u&&!t.active&&!o(t)){r.splice(i,1);continue}++i}}function o(n){var t;return n.setup||(t=n.behavior.apply(null,n.args),t&&(n.setup=t.setup,n.teardown=t.teardown,n.update=t.update)),t=!1,n.setup&&(n.setup(),n.active=1,t=!0),t}function l(t,r,u){this.behaviorName=t;this.selector=r;this.context=u;this.views=n.views.NONE;this.timeout=i.setTimeout(function(){throw'binding("'+t+'", "'+r+'") was not followed with an all(), view(), or fallback() call!';},0)}var r=[],f={},e,u;return n.listen(v),l.prototype={view:function(n,t){var f=this.behaviorName,s=[this.selector,this.context,t],u={active:0,args:s,behaviorName:this.behaviorName,view:n};return this.views|=n,i.clearTimeout(this.timeout),a(u),require([f],function(t){u.behavior=t;var i=!0;n&e&&(i=o(u));i&&r.push(u)}),this},fallback:s,all:s,get:c},u=function(n,t,i){return new l(n,t,i)},u.views=n.views,u.refreshBindings=function(n,t){for(var i,u=h(n,t),r=0;r<u.length;r++)i=u[r],i.setup&&(delete i.setup,delete i.teardown,delete i.update,o(i))},u.unbind=function(n,t){for(var e=r&&r.length||0,o,u,i;--e>=0;)r[e].args[0]!=n||t&&r[e].behaviorName!=t||r.splice(e,1);for(o=function(n){return n&&n.teardown},u=h(n,t,o),i=0;i<u.length;i++)u[i].teardown(),delete u[i].setup,delete u[i].teardown,delete u[i].update;delete f[n]},i.binding=u,i.binding.get=c,u});define("isSetCookiePermitted",["headData","logging"],function(n,t){return function(i){var r=n&&n.clientSettings,u,f,o,s,h,c,e;if(!r||!r.functionalonly_cookie_experience)return!0;if(u=r.functional_cookies,f=r.functional_cookie_patterns,!u&&!f)return t.error("Functional Cookies List AND Functional Cookie Patterns List are empty"),!0;if(o=i.toLowerCase(),s=",",u&&u.toLowerCase().split(s).indexOf(o)>=0)return!0;if(f)for(h=f.toLowerCase().split(s),c=h.length,e=0;e<c;e++)if(new RegExp(h[e]).test(o))return!0}});define("getCookie",function(){return function(n){var i=new RegExp("\\b"+n+"\\s*=\\s*([^;]*)","i"),t=i.exec(document.cookie);return t&&t.length>1?t[1]:""}});define("setCookie",["location","isSetCookiePermitted"],function(n,t){function i(n,i,r,u,f,e){var s,o,h;r>0&&!t(n)||(o=[n,"=",i],-1==r?s="Fri, 31 Dec 1999 23:59:59 GMT":r&&(h=new Date,h.setTime(h.getTime()+r*864e5),s=h.toUTCString()),s&&o.push(";expires=",s),u&&o.push(";domain=",u),f&&o.push(";path=",f),e&&o.push(";secure"),document.cookie=o.join(""))}return i.topDomain=(n.hostname.match(/[^.]+\.[^.\d]+$/)||{})[0]||"",i});define("dom",function(){var n=document,t=/[\n\t]/g,i=/(^\s+)|(\s+$)/mg;return{attr:function(n,t){return n&&(n.getAttribute?n.getAttribute(t,2):n[t])||""},name:function(n){return n&&n.nodeName||""},text:function(n){return(n&&(n.textContent||n.innerText)||"").replace(i,"")},children:function(n){return n&&n.children||[]},parent:function(n){return n&&n.parentNode},getElementsByTagName:function(t){return n.getElementsByTagName(t)},create:function(t){return n.createElement(t)},containsClass:function(n,i){return n&&(" "+(n.className||n.getAttribute("class"))+" ").replace(t," ").indexOf(" "+i+" ")>-1},getTarget:function(n){return n&&(n.customTarget||n.target||n.srcElement)||document}}});define("events",function(){function n(n,t,i){n.addEventListener&&n.addEventListener(t,i,!1)}function t(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}return{bind:n,unbind:t}});define("extend",function(){function t(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n).toLowerCase()==="[object array]"}function n(){var e=arguments,r=e[0]||{},o=1,i,u,s,f;for((typeof r=="boolean"||typeof r=="number")&&(s=!!r,r=e[1],o=2);o<e.length;o++){u=e[o];for(i in u)u[i]!==undefined&&u[i]!==null&&(s&&typeof u[i]=="object"?(f=r[i],typeof f!="object"&&(f=t(u[i])?[]:{}),n(!0,f,u[i]),r[i]=f):r[i]=u[i])}return r}return n});define("format",function(){function t(t,i,r){for(var u=0;u<r.length-i;++u)t=t.replace(n[u]||(n[u]=new RegExp("\\{"+u+"\\}","g")),r[u+i]);return r.length?t:t.toString()}var n=[];return String.prototype.format=function(){return t(this,0,arguments)},function(n){return(typeof n=="function"&&(n=n.apply(n,Array.prototype.slice.call(arguments,1))),n==null)?"":(typeof n!="string"&&(n=n.toString()),n)?t(n,1,arguments):""}});define("ajax",[],function(){function n(n){if(!n||!n.url){n.error&&n.error("Missing Url. Invalid parameters");return}var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==4){if(t.status!=200&&n.error){n.error(t.status,t.statusText);return}n.success&&n.success(t.response)}};t.open("GET",n.url);n.dataType&&t.setRequestHeader("Content-Type",n.dataType);n.timeout>0&&(t.timeout=n.timeout);n.ontimeout&&(t.ontimeout=function(){n.ontimeout("Request timeout")});t.send()}function t(n){if(!n||!n.url){n.error&&n.error("Missing Url. Invalid parameters");return}if(!n.body){n.error&&n.error("Missing request body. Invalid parameters");return}var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==4){if(t.status!=200&&n.error){n.error(t.status,t.statusText);return}n.success&&n.success(t.response)}};t.open("POST",n.url);n.dataType&&t.setRequestHeader("Content-Type",n.dataType);n.timeout>0&&(t.timeout=n.timeout);n.ontimeout&&(t.ontimeout=function(){n.ontimeout("Request timeout")});t.send(n.body)}return{get:n,post:t}});define("refreshPdpModules",["jquery","refreshModules"],function(n,t){function i(){var i=n("[data-pdp-dependent]"),r=t(i,{pfr:1});r.done(function(){define("c.pdpready",1)})}return i});define("refreshSigninModule",["jquery","refreshModules","binding"],function(n,t){function i(){var i=n("[data-sso-dependent]");t(i).done(function(){})}return i});define("guidGen",function(){return function(){function t(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&7|8).toString(16)}var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)}});define("pageInstance",["mediator","guidGen","document","telemetry.constants"],function(n,t,i,r){var u,f="updatePageInstance";return n.sub(f,function(){var e,o,s,f;if(u=t().replace(/-/g,""),n.pub(r.ResetIdx),e=i.body.querySelector("#srchfrm"),e)for(o=e.querySelectorAll("input[name='refig']"),s=o.length,f=0;f<s;f++)o[f].value=u}),{getActivityId:function(){return u},setActivityId:function(t){u=t;n.pub(r.ResetIdx)},eventName:f}});define("refreshModules",["jquery","navigation","headData","window","location","promise","requestAnimationFrame","imgSrc","mediator","escape"],function(n,t,i,r,u,f,e,o,s,h){function k(t,i,r,u,f,e){n.ajax({url:t,dataType:"html",data:{pagerequest:JSON.stringify(i)},crossDomain:!0,method:"GET",xhrFields:{withCredentials:!1}}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function d(t,i,r,u,f,e){var o=!1,h={};!/^https/.test(t)&&i&&i.Regions&&i.Regions.length&&g(i.Regions)&&(t="https"+t.substring(4),o=!0,h={withCredentials:!0});n.ajax({url:t,dataType:"html",data:JSON.stringify(i),method:"POST",contentType:"application/json",crossDomain:o,xhrFields:h}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function g(n){for(var t=0;t<n.length;t++)if(n[t].type==="meStripe")return!0;return!1}function nt(){var t,n,i;if(c&&c.deferLoadedItems){for(t=c.deferLoadedItems.split(","),n=0,i=t.length;n<i;n++)t[n]&&c.removeItem(t[n]);c.removeItem("deferLoadedItems")}}function tt(n,t){if(!c||!n||!t)return null;var i,r=c.getItem(n);try{i=JSON.parse(r)}catch(u){return null}return i&&i.data&&i.lastUpdatedTime&&Date.now()-i.lastUpdatedTime<t?i.data:null}function it(n,t){c&&(c.deferLoadedItems||(c.deferLoadedItems=""),c.deferLoadedItems+=","+n,c.setItem(n,JSON.stringify({lastUpdatedTime:Date.now(),data:t})))}function a(t,i,r,u){var f,e,o,s;i&&(f=n("<data>"+n.trim(i)+"<data>"),ut(f),e=f.find("[data-module-id]"),u=u||{},o=u.loadEmptyContent,t.each(function(){var h=n(this),t,i=h.data("moduleId");if(t=e.filter("[data-module-id='"+i+"']"),t.length){var u=n("[data-module-id='"+i+"']"),c=v[i]||u.html(),f=t.html(),l=f===c;(o||f&&f.trim())&&(y||!l)&&(v[i]=f,rt(t,u),t.insertAfter(u.first()),u.remove(),s=!0);!r&&h.data("cache-duration")&&it(i,t[0].outerHTML)}}))}function rt(t,i){n("img[data-src]",t).each(function(){o.force(this,i)||o.go(this)})}function ut(t){var i=t.children("link[rel=stylesheet]");i.length&&i.each(function(){var t=this.getAttribute("href");p[t]||((w||(w=n("head"))).append(this),p[t]=!0)})}var l=i.moduleapi,b=i.cdnmoduleapi,v={},y,p={},w,c;try{c=r.localStorage}catch(ft){c=null}return l?function(e,o,s,c,v,p,w,g,it){var ft,ut,st,rt,et,ot,ht;return(i.signedin||nt(),!e||e.length===0)?new f(function(n){n()}):(e instanceof n||(e=n(e)),typeof o=="string"&&(o=t.getParams(o)),p&&(l=p),(s===undefined||s===null)&&(s=!1),y=v,ft=n.extend(t.getParamsFromUrl(u.href),o),s&&delete ft.ocid,w&&ft.locale&&(ft.locale=w),ut=n.param(ft),st=l.split("?")[0]+(ut?"?"+ut:""),st+=(st.indexOf("?")===-1?"?":"&")+"ou="+h.urlPart(u.href),rt={RequestUri:u.href.split("?")[0]+(ut?"?"+ut:""),ExperienceId:g&&i.kernelXd?i.kernelXd:i.xdid||null,CacheDuration:null},et=null,s&&(et=b.split("?")[0]+(ut?"?"+ut:""),et+=(et.indexOf("?")===-1?"?":"&")+"devicegroup="+i.dg,c!==undefined&&c!==null&&(rt.CacheDuration=c.toString())),it=n.extend({loadEmptyContent:!1},it),ot={},ht=[],e.each(function(){var i=n(this).data("moduleId"),r,u,t;if(i){if(r=n(this).data("cache-duration"),u=r?tt(i,r):null,u){ht.push(u);return}if(t=i.split("|"),t.length==5){var o={key:t[3],type:t[4]},f={key:t[1],type:t[2],Modules:[o]},e=f.key+f.type;ot[e]?ot[e].Modules.push(o):ot[e]=f;rt.Type||(rt.Type=t[0])}}}),ht.length&&a(e,ht.join(""),!0,it),rt.Regions=n.map(ot,function(n){return n}),rt.Regions!=null&&rt.Regions.length>0?new f(function(n,t){s?k(et,rt,e,n,t,it):d(st,rt,e,n,t,it)}):(r.console&&r.console.log&&console.warn("Regions were empty or null"),new f(function(n){n()})))}:(r.console&&console.log("moduleApiEndpoint is missing from header, ajax module update will exit."),n.noop)});define("promise",["window"],function(n){function t(n,e){function y(n){s===i&&(o=n,s=u,v())}function a(n){s===i&&(o=n,s=f,v())}function p(n){for(var t=0;t<h.length;t++)h[t](n)}function v(){for(var n=0;n<c.length;n++)l(c[n])}function l(n){switch(s){case i:c.push(n);break;case u:n.complete();break;case f:n.error()}}if(typeof n!="function")throw"promise must take an init function as the first parameter";var s=i,o,c=[],h=[];this.addEventListener=function(){throw"not implemented";};this.cancel=function(){s===i&&(e&&(e(),e=null),a(new Error("Cancel")))};this.dispatchEvent=function(){throw"not implemented";};this.done=function(n,i,r){function u(n){if(t.onerror)t.onerror(n);else throw n;}l({complete:function(){if(n)try{n(o)}catch(t){u(t)}},error:function(){if(i)try{i(o)}catch(n){u(n)}else u(o)}});r&&h.push(r)};this.removeEventListener=function(){throw"not implemented";};this.then=function(n,i,u){var f,e,s,c=new t(function(n,t,i){f=n;e=t;s=i});return l({complete:function(){var i,u=1;if(n)try{i=n(o);typeof i=="undefined"&&(i=o)}catch(s){u=0;e(r(s))}else i=o;u&&(t.is(i)?i.then(f,e):f(i))},error:function(){var n,u=0;if(i)try{n=i(o);typeof n=="undefined"?n=o:u=1}catch(s){n=r(s)}else n=o;u?t.is(n)?n.then(f,e):f(n):e(n)}}),u&&h.push(u),c};this._getData=function(){return o};n(y,a,p)}function r(n){return n&&n.name==e||(n=new Error(n)),n}var i=1,u=2,f=3,e="Error";return t.any=function(n){function u(){r()}for(var r,f=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return f},t.as=function(n){if(n){if(n.name===e)return t.wrapError(n);if(t.is(n))return n}return t.wrap(n)},t.is=function(n){return n&&typeof n.then=="function"},t.join=function(n){function u(){--f||r()}for(var f=n.length,r,e=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return e},t.all=function(n){return new t(function(t,i){var u=n.length,r;if(u===0){t([]);return}for(r=0;r<n.length;r++)n[r].then(function(){var r,i;if(!--u){for(r=[],i=0;i<n.length;i++)r.push(n[i]._getData());t(r)}},function(n){i(n)})})},t.race=function(n){return new t(function(t,i){var f=n.length,r,u;if(f===0){t();return}for(r=!1,u=0;u<f;u++)n[u].then(function(n){r||(t(n),r=!0)},function(n){r||(i(n),r=!0)})})},t.theneach=function(){throw"not implemented";},t.timeout=function(i,r){function f(){u=1}var u;return r&&r.done(f,f),new t(function(t){function f(){u||(r&&r.cancel(),t())}i===0&&n.setImmediate?n.setImmediate(f):n.setTimeout(f,i)})},t.resolve=t.wrap=function(n){return new t(function(t){t(n)})},t.reject=t.wrapError=function(n){return new t(function(t,i){i(r(n))})},t});define("oAuthHelper",["window","location","webStorage"],function(n,t,i){function o(){var u=t.hash,n;u&&(n=i.getItem(r),n)&&(e(u),i.removeItem(r),t.replace(n))}function e(n){var r=s(n),t=r.access_token;return t&&(i.setItem(u,t),i.setItem(f,parseInt(r.expires_in)+Math.round((new Date).getTime()/1e3))),t}function s(n){var t={},i,u,r;if(!n.length)return t;i=n.substring(1).replace(/\+/g," ").split("&");for(u in i)r=i[u].split("="),t[r[0]]=decodeURIComponent(r[1]);return t}var u="AAD.Access.Token",f="AAD.Access.Token.Expiry",r="oAuthResponseURI";return{storagePropertyNames:{aadAccessToken:u,aadAccessTokenExpiry:f,aadAccessTokenRenewalState:"AAD.Access.Token.Renewal",aadUniqueName:"AAD.User.UniqueName",oAuthResponseUri:r},handleResponse:o,storeAccessToken:e}});define("spartanConstants",function(){return{canaries:{marketCookieNotFound:"c.marketCookieNotFound",nacDhpReadyForTracking:"c.nacDhpReadyForTracking",settingRestored:"c.settingRestored",ttafAnimation:"c.ttafAnimation"},cookieExpirations:{tenYears:3650},cookieNames:{childMode:"child",contentFilter:"catf",feedFilter:"orfc_feeds",followFilter:"fol",launchNumber:"launchNumber",marketSelection:"ntps",noAppCache:"nactk",relatedFilter:"rcatf",topicsFilter:"tsf"},eventNames:{sectionHeaderDockedEvent:"sectionHeaderDocked"}}});define("errorCategory",{updateTrackingInfo:{errId:1001,errMsg:"Error found",errSource:" topsites.js function updateTrackingInfo(appId, elements)"},getCuratedSitesData:{errId:1002,errMsg:"curatedSites empty",errSource:"topsites.js function render()"},invalidAjaxResponse:{errId:1003,errMsg:"Error in Ajax Response",errSource:" delayLoadModules.js function showDelayLoadedModules(response)"},ajaxServerError:{errId:1004,errMsg:"Server error for ajax response: ",errSource:" delayLoadModules.js ajax.get"},missingContentError:{errId:1005,errMsg:"Missing required content: ",errSource:" delayLoadModules.js function renderDelayLoadedModules(response)"},riverRenderError:{errId:1006,errMsg:"River failed to render",errSource:" delayLoadModules.js function waitForRiverSectionToRender(riverSection)"},serviceUIError:{errId:1007,errMsg:"Service Ui Error: ",errSource:" serviceUIHelper.js"},riverJsonParseError:{errId:1008,errMsg:"Json parsing error for string: ",errSource:" delayLoadModules.js"},zeroTopSitesError:{errId:1009,errSource:" topSitesController.js"},dhpNoAppCacheError:{errId:1010,errMsg:"dhp failed to switch to its noAppCache market. ",errSource:"dhp noAppCache page"},jsError:{errId:1011},outlookCardError:{errId:1012,errSource:" outlookCard.js"},emailCardError:{errId:1012,errSource:" emailModuleRenderingHelper.js"},readingListTimeoutError:{errId:1013,errMsg:"did not get back reading list data before timeout",errSource:" serviceUIHelper.js function getReadingListAsync(callback, delay)"},missingRiverItemError:{errId:1014,errMsg:"Missing required river items.",errSource:"riverSection.js function positionRiverSectionItems"},appInstallError:{errId:1015,errMsg:"Failed to install app. Error code: {0}",errSource:"App Id: {0}, source: {1}"},appCacheRapidRefreshError:{errId:1016,errMsg:"Appcache is being refreshed more often than current allowed threshold",errSource:"appCacheHelper.js function checkStatus()"},staticsPoisoningError:{errId:1017,errMsg:"user encountered poisoned statics, in ",errSource:"statics poisoning"},staticsPoisoningWithDhpAppcacheError:{errId:1018,errMsg:"user with dhp cache encountered poisoned statics, in ",errSource:"statics poisoning"},invalidIsSignedInResponse:{errId:1019,errMsg:"Error in is-signed-in Ajax Response ",errSource:"delayLoadModules.js function requestSignedInState()"},domElementExistsButIsNotVisible:{errId:1020,errMsg:"DOM element exists but is not visible: ",errSource:"delayLoadModules.js function validateVisibility()"},doubleSearchBoxesRenderedError:{errId:1021,errMsg:"Double search boxes rendering on page: ",errSource:"serviceUIHelper.js function traceErrorIfDoubleSearchBoxIsRendered()"},followFeedsUpdateTrackingInfo:{errId:1022,errMsg:"Error found",errSource:"oneRiverToggleFollowFeeds.js function updateTrackingInfo()"}});define("spartanPageDetectionHelper",["location"],function(n){var t=n.pathname,i=t.indexOf("/dhp")>=0,r=!i&&t.indexOf("spartan/ntp")>=0,u=!i&&!r&&t.indexOf("/ientp")>=0,f=!i&&!r&&!u&&t.indexOf("/extntp")>=0,e=r||u||f,o=!i&&!e&&t.indexOf("compass/ntp")>=0;return{isAppNtp:o,isDhpPage:i,isExtNtpPage:f,isIeNtpPage:u,isNtpPage:r,isSomeNtpPage:e}});define("spartanHeaderHelper",["spartanPageDetectionHelper","serviceuihelper"],function(n,t){function i(){if(t.features.OneBoxPinnedByDefault)return!0;var i=n.isDhpPage;return i?t.isDhpOneBoxPinned():t.isNtpOneBoxPinned()}function r(){var t=!1;return n.isDhpPage&&(t=!1),t}function u(){return n.isDhpPage?t.isDhpShiftFocusSetToWebContent():t.isNtpShiftFocusSetToWebContent()}return{isOneBoxPinned:i,shouldFocusShiftToWebContent:r,isFocusShiftToWebContent:u}});define("spartanSharedHelper",["location","browserAccess","spartanPageDetectionHelper","navigation","headData"],function(n,t,i,r,u){function f(f){var e,o;if(t.isServiceUiAvailable()&&!t.features.TH2Features&&(e=i.isNtpPage||i.isAppNtp?"about:tabs":i.isDhpPage?"about:start":null,e)){n.href=e;return}u.ispreload?(o=r.getParamsFromUrl(n.href,!1,!0),delete o.backgroundpreload,n.href=r.mergeQueryStringParams(n.origin+n.pathname,o)):n.reload(f)}return{refreshPage:f}});define("webStorage",["window"],function(n){function h(){try{return u in n&&t!==null&&f in n&&i!==null}catch(r){return!1}}function e(n,u){if(r){var f=u?i:t;return f.getItem(n)}}function c(n,t){var i=e(n,t);try{return typeof i=="string"?JSON.parse(i):i}catch(r){console.log(r)}return i}function o(n,u,f){if(r)try{typeof u=="object"&&(u=JSON.stringify(u));var e=f?i:t;e.setItem(n,u)}catch(o){console.log(o)}}function s(n,u){if(r){var f=u?i:t,e=f.getItem(n);return e!==null&&f.removeItem(n),e}}var u="localStorage",f="sessionStorage",t=null,i,r;try{t=n[u]}catch(l){}return i=n[f],r=h(),{supported:r,getItem:e,getObject:c,setItem:o,setObject:o,removeItem:s,removeObject:s}});define("appHelper",["document","colorHelper","format","errorCategory","webStorage"],function(n,t,i,r,u){function c(n,t){for(var r,u,f={},o=n instanceof Array&&n.length||0,i=0;i<o;i++)r=e(n[i]),u=r.aumId||t&&r.pfn,u&&(f[u]=!0);return Object.keys(f)}function e(n){var t={bigCatId:null,aumId:null,pfn:null},i;return n&&(i=n.indexOf("!"),i>0?(t.aumId=n,t.pfn=n.substring(0,i)):n.indexOf(".")>0||n.indexOf("_")>0?t.pfn=n:t.bigCatId=n),t}function h(n){var t=e(n);return l(t)}function l(n){return n.pfn&&o?i(o,n.pfn):n.bigCatId&&s?i(s,n.bigCatId):null}function a(n,t,f,e){var o,s,h,c;return t!=null&&f!=null&&(o=r.appInstallError,s="NA",n.trackAppErrorEvent({errId:o.errId,errMsg:i(o.errMsg,f||s),errSource:i(o.errSource,t||s,e||s)}),h="install_error_"+t,c=u.getItem(h,!0),!c)?(u.setItem(h,"1",!0),!0):!1}function v(t,i,r,u){if(!r||a(t,i,r,u)){var e=h(i);if(e)return f||(f=n.createElement("a")),f.setAttribute("href",e),f.click(),!0}return!1}function y(n,i){var r={color:"",background:"",border:"",action:"",remove:"",isLightBackground:null},u=n,v=i||"#fff",h=t.parseColor(v),c,s;if(h&&(r.background=t.formatColor(h),c=t.grayScale(h)>128,u=u||(c?"#000":"#fff"),r.isLightBackground=c),u){if(s=t.parseColor(u),s){var f=s.r,e=s.g,o=s.b,l,a;t.grayScale(s)>128?(u=t.formatColor(f,e,o,.85),l=t.formatColor(f,e,o,.15),a=t.formatColor(f,e,o,.8)):(u=t.formatColor(f,e,o,.95),l=t.formatColor(f,e,o,.1),a=t.formatColor(f,e,o,.55));r.border=l;r.action=a;r.remove=t.formatColor(f,e,o)}r.color=u}return r}var o="ms-windows-store://pdp/?PFN={0}",s="ms-windows-store://pdp/?productId={0}",f;return{filterAppIdsForAppInstallStateCheck:c,getAppCalculatedColors:y,getApplicationStoreLink:h,tryLaunchStoreProductPage:v,tryParseAppId:e}});define("displayOptionsHelper",["window","document","browserAccess","serviceuihelper","browserState","location","setCookie","getCookie","navigator","trackInfo","headData","navigation","spartanPageDetectionHelper","spartanConstants","c.dom"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function yt(){var n=t.getElementById(ut),i=t.querySelector(et);n&&n.classList.remove(rt);i&&i.classList.remove(ft)}function pt(){var n=t.getElementById(ut),r=t.querySelector(et),h=t.getElementById("ntss"),f,e,u,o,s;if(ot()&&r&&r.classList.remove("hide-ts"),w()){var l=t.body,i="",c=t.getElementById("cc-banner");c&&(i+=c.outerHTML);f=t.getElementById("cacpageoverlay");e=t.getElementById("cacpagestatement");f&&e&&(u=t.getElementById("maincontent"),u&&(u.innerHTML=f.outerHTML+e.outerHTML,i+=u.outerHTML));o="";s=t.getElementById("searchhistory");s&&(o+=s.outerHTML);i+=o;n&&(n.className="cs-no-ts",i+=n.outerHTML);t.body.innerHTML=i}else nt()&&(n&&(n.className=rt),h&&(h.innerHTML=""),r&&r.classList.add(ft));ht()}function wt(){return p}function w(){return k?p==y.BlankPage:!1}function bt(){return!0&&!w()&&r.showSearchHistory()&&!u.getThirdPartySearchProvider()}function nt(){return tt||k&&p==y.TopSitesOnly}function ot(){var n=b?u.getDisplayOption():o(g);return vt&&n!=y.BlankPage}function kt(){return tt?!1:k?!w()&&!nt():!0}function st(t){it&&p!=t&&(t==y.TopSitesAndSuggestedContent||t==y.TopSitesOnly||t==y.BlankPage)&&(p=t,n.mscc&&n.mscc.setConsent(),lt&&e(g,t.toString(),365),b&&r.setDisplayOption(t),ht())}function ht(){h.trackingDisabled=w()&&r.isEnterpriseMode()}function dt(){return o(at)==="0"}function gt(){require(["persistentStorageManager"],function(n){if(!n.fetchProperty("MarketSelection")){var t="DefaultShowContent",i=n.fetchProperty(t);i||(l.getParamsFromUrl(f.href).enableRegulatoryPsm!="1"&&u.getDisplayOption()!=2&&st(y.TopSitesAndSuggestedContent),n.saveProperty(t,"1"))}})}var ct=c.locale&&c.locale.toLowerCase(),p,y=u.constants.displayOptionValues,b=i.isServiceUiAvailable(),lt=!b,g="iedo",at=v.cookieNames.childMode,k=a.isSomeNtpPage||a.isAppNtp||a.isDhpPage&&ct==="zh-cn",tt=dt(),it=k,d;it&&(d=b?u.getDisplayOption():o(g),d>=0&&(p=!s.onLine&&d!=y.BlankPage?y.TopSitesOnly:d,r.features&&r.features.CanSetContentDefaultDisplayOption&&s.onLine&&gt()));var rt="cs-ts-only",ut="inlinesettings",ft="ts-only-pad",et="section.topsites",vt=!!t.getElementById("js-topsites");return{configurePageToShowSuggestedContent:yt,getNtpDisplayOptionValue:wt,isDisplayOptionSetToBlank:w,modifyPageBasedOnUserSetting:pt,setNtpDisplayOptionValue:st,shouldRenderSearchHistory:bt,shouldRenderTopSites:ot,shouldRenderTopSitesOnly:nt,shouldRenderRiver:kt}});define("domHelper",function(){function i(i){while(i){var r=t(i,"href");if(!r)break;if(n(r))return r;i=r.parentNode}}function n(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase(),i=t&&t==="a"&&n.getAttribute("href");return i&&i.trim()!=="#"}function t(n,t){if(t)while(n&&n.getAttribute){if(n.getAttribute(t))return n;n=n.parentNode}}function r(t){if(!t||!n(t))return null;var i=t.href;return/^https*/i.test(i)?i:null}return{getNearestAnchorTag:i,isAnchorTag:n,selfOrAncestorWithAttribute:t,getContentAnchorTagAbsoluteUrl:r}});define("freExperienceHelper",["document","serviceuihelper","getCookie","setCookie","persistentStorageManager","c.dom"],function(n,t,i,r,u){function d(){return e&&!(c&h)}function p(){return e?(c&&!i(s)&&r(s,1,o),!c):!i(s)}function g(i){if(e){var u=t.getExperienceDisplayed(),s=n.cookie;s.indexOf(f)!==s.lastIndexOf(f)&&r(f,100,-1);u&&!b(a,i)&&r(a,100,o,null,"/");i?w(i):u&h&&!b(f)?r(f,100,o,null,"/"):w()}}function w(n){k()||t.setExperienceDisplayed(n?v.NtpDisplayed:h)}function b(n,t){var r=i(n);return t?r:r&&r!="1"}function nt(){return y}function tt(){n.body.classList.add(l)}function it(){r(s,1,o);n.body.classList.remove(l)}function k(){return n.body.classList.contains(l)}var e=t.features.TH2Features,o=182,f="launchNumber",a="featuredappsfre",v=t.constants.experienceDisplayedValues,h=v.DhpDisplayed,c=e?t.getExperienceDisplayed():null,l="showstartmodal",s="smd",y=n.getElementById("startmodalmask");return y&&!u.fetchProperty("MarketSelection")&&p()&&tt(),{closeEdgeStartModal:it,getStartModalMask:nt,isDhpFre:d,isFre:p,isEdgeStartModalOpen:k,setFreExperienceMarker:g}});define("persistentStorageManager",["webStorage","setCookie","getCookie","spartanConstants","browserAccess","initialPersistentSettings"],function(n,t,i,r,u,f){function d(n){var t=o[n];return t&&e[t.id]}function g(t,i){var r=o[t],h;if(r){var u=r.jsonEncoded,c=r.maxRawLength,l=typeof i,f=JSON.stringify(i),a=f.length,v=u?l==="object"&&a<=c:l==="string"&&a<=c+2;if(v)return e[r.id]=u?y(f):i,h=u?f:i,p(r,h),n.setItem(r.id,h),s(),!0}return!1}function nt(t){var i=o[t];i&&(w(i),n.removeItem(i.id),delete e[i.id],s())}function tt(){var i,t;for(i in o)t=o[i],w(t),n.removeItem(t.id),delete e[t.id];s()}function s(){c&&u.writePageSettings(e)}function a(n){var t=e[n.id];return n.jsonEncoded?JSON.stringify(t):t}function v(t){var w=c&&t&&t!=="N/A",s,h,u;for(h in o){var f=o[h],r=f.id,v=f.useCookie;w&&(e[r]=t[r]);u=e[r];u||(u=v?i(r):n.getItem(r),e[r]=u==="null"?u=null:f.jsonEncoded?y(u):u);v?(r!==o.MarketSelection.id||s||i(r)||(s=!0),u&&p(f,a(f))):n.setItem(f.id,a(f))}s&&define(l.marketCookieNotFound,1);define(l.settingRestored,1)}function y(n){return JSON.tryParse(n)}function p(n,i){n.useCookie&&(t(n.id,undefined,h),t(n.id,i,b,undefined,k))}function w(n){n.useCookie&&t(n.id,undefined,h)}var b=182,h=-1,c=u.features.PersistentStorage,l=r.canaries,k="/spartan/",o={CompassHideStateKey:{id:"cmphs",maxRawLength:100,useCookie:!1,jsonEncoded:!0},DefaultShowContent:{id:"dsc",maxRawLength:1,useCookie:!1,jsonEncoded:!1},DisplayedCoachMarkWizards:{id:"cmwr",maxRawLength:250,useCookie:!0,jsonEncoded:!1},MarketSelection:{id:r.cookieNames.marketSelection,maxRawLength:13,useCookie:!0,jsonEncoded:!0},OutlookOptIn:{id:"olopt",maxRawLength:1,useCookie:!1,jsonEncoded:!1},ProActiveCanvasFRE:{id:"spnewpcfre",maxRawLength:1,useCookie:!1,jsonEncoded:!1},StructuredDataCardsUserPreference:{id:"scp",maxRawLength:250,useCookie:!0,jsonEncoded:!0},TopicSelection:{id:"epnff",maxRawLength:31,useCookie:!0,jsonEncoded:!0}},e={};return v(f),{saveProperty:g,fetchProperty:d,deleteProperty:nt,clear:tt,loadSettingsFromPersistentStorage:v}});require(["browserAccess"],function(n){n.features.PersistentStorage?n.fetchPageSettingsAsync().then(function(n){define("initialPersistentSettings",n||"N/A")}):define("initialPersistentSettings","N/A")});define("positionHelper",["document"],function(n){return{getEventMousePosition:function(t){var i=n.body,r=n.documentElement,u=i.clientLeft||r.clientLeft||0,f=i.clientTop||r.clientTop||0,e=i.scrollTop||r.scrollTop||0,o=i.scrollLeft||r.scrollLeft||0;return{x:t.clientX+o-u,y:t.clientY+e-f}}}});define("postdata",["serviceuihelper","browserAccess","trackInfo","location","pageInstance","c.deferred"],function(n,t,i,r,u){function f(){var e,o,h;if(t.isServiceUiAvailable()){var c=i.sitePage.flightid||"",s=u.getActivityId()||i.sitePage.requestId||"",f=i.client.clientId()||"",l={flightId:c,MUID:f+";"+s,WebIG:s};(n.setFlightInstrumentationData(l),t.features.UnifiedCookieJar)||(f=i.client.getMuid(),f&&(e={domain:"bing.com",MUID:f},t.setMuidForTabs(e),o=r.host.split(".").reverse(),o.length>1&&(h=o[1]+"."+o[0],e={domain:h,MUID:f},t.setMuidForTabs(e))))}}return{post:f}});require(["serviceuihelper","window","screen","document","displayOptionsHelper","viewport","mediator","c.riverReady"],function(n,t,i,r,u,f,e){function p(){v(l<y())}function v(i){i&&(o===!1||n.oneBoxIsShown())?(o=!0,n.showOneBox(!1)):o&&l>=y()&&h>=t.scrollY&&(o=!1,n.showOneBox(!0))}function y(){return Math.round(100*(i.deviceXDPI/s)+.49)}var o=!1,h=t.scrollY+15,c="initialDpi",s=i.deviceXDPI,l=100,a=sessionStorage.getItem(c);(a?s=parseInt(a):sessionStorage.setItem(c,s),u.shouldRenderRiver())&&(r.onscroll=function(){v(h<=t.scrollY)},e.sub(f.sizeChangeEventName,p))});define("asimovHelper",function(){function i(){for(var t="",i=0;i<16;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t+".0"}function r(n){return!!t.test(n)}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new RegExp("^["+n+"]{16}(.[0-9]+)+$");return{generateCV:i,isValidCV:r}});define("colorHelper",["document","measure"],function(n,t){function f(n){return n&&(s(n)||l(n))}function s(n){var r=n&&n.replace("#",""),t=parseInt(r,16),i;return isNaN(t)?null:(i=r.length,i==3)?{r:(t>>8)*17,g:(t>>4&15)*17,b:(t&15)*17,a:1}:i==6||i==8?{r:t>>16&255,g:t>>8&255,b:t&255,a:i==6?1:(t>>24&255)/255}:null}function l(i){var e,f,h;return i?(r||(r=n.createElement("div"),n.querySelector("body").appendChild(r)),r.style.color=i,e=t(r,"color"),f=e.replace(o,"").match(/^(?:rgba?)\(((?:\d+\.)?\d+%?),((?:\d+\.)?\d+%?),((?:\d+\.)?\d+%?)(?:,((:?\d*\.)?\d+))?\)$/),f)?(h=f[4],{r:u(f[1],255,!0),g:u(f[2],255,!0),b:u(f[3],255,!0),a:h?u(h,1):1}):s(e):null}function u(n,t,i){var r=parseFloat(n);return isNaN(r)?0:(r=n.indexOf("%")>=0?Math.max(0,Math.min(100,r))*t/100:Math.max(0,Math.min(t,r)),i?Math.round(r):+(Math.round(r+"e+2")+"e-2"))}function a(n,t,r){if(isNaN(n)&&typeof n=="object"&&n!=null){var u=n;n=u.r;t=u.g;r=u.b}return i(n)&&i(t)&&i(r)?Math.min(255,Math.round(n*.299+t*.587+r*.114)):255}function v(n,t,r,u){var f,e;if(arguments.length==1&&typeof n=="object"&&n!=null&&(f=n,n=f.r,t=f.g,r=f.b,u=f.a),i(n)&&i(t)&&i(r)){if(n=Math.round(n),t=Math.round(t),r=Math.round(r),u===undefined||u==1)return h(n<<16|t<<8|r);if(e=parseFloat(u)||parseInt(u),!isNaN(e)&&u>=0&&u<1)return"rgba("+[n,t,r,u].join(",")+")"}return null}function i(n){return!isNaN(n)&&n!=null&&(typeof n!="string"||n.replace(o,"").length)&&n>=0&&n<=255}function y(n){var t=null;return typeof n=="number"&&n>=0&&n<e&&(t=h(n)),t}function h(n){return"#"+(e|n).toString(16).slice(1)}function p(n,t){var i=c(f(n)),r=c(f(t)),u=i>r?i/r:r/i;return u>=4.5}function c(n){var t=[n.r,n.g,n.b].map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)});return t[0]*.2126+t[1]*.7152+t[2]*.0722+.05}var r,e=16777216,o=/\s+/g;return{parseColor:f,formatColor:v,grayScale:a,rgbNumberToCssHexColor:y,isContrastAcceptable:p}});define("serviceuihelper",["window","document","evaluate","serviceUIVersion","mediator","asimovHelper","errorCategory"],function(n,t,i,r,u,f,e){function br(n){it=n}function kr(){o.CanExitSettingsMode&&s(ni,null)}function dr(n,t,i){if(n=n||10,i=i||yr,o.CanSearchApps&&typeof t=="function"){v[i]=t;var r={requestId:i,arguments:{sort:[{property:"displayName"}],maxResults:n}};return s(hi,r),!0}}function gr(n,t,i){if(n=n||10,i=i||wr,o.CanSearchApps&&typeof t=="function"){v[i]=t;var r={requestId:i,arguments:{sort:[{property:"mostFrequentlyUsed"}],maxResults:n}};return s(hi,r),!0}}function nu(n,t,i){if(i=i||ai,o.CanSearchApps&&typeof t=="function"){v[i]=t;var r={requestId:i,arguments:{filter:[{filterName:"toast"}]}};return s(ar,r),!0}return!1}function ft(){return c()&&+(h.experienceDisplayedMask||0)}function tu(){return c()&&h.partnerSearchCode}function iu(){return c()&&h.enableRegulatoryPsm}function ru(){return c()&&h.enableCPsm}function uu(){return c()&&h.ntpWebIG}function fu(t,i){if("function"==typeof t){b=t;n.removeEventListener(w,ot);y&&n.addEventListener(w,ot);var r=et();r!==!1?di(r):li=setTimeout(function(){n.removeEventListener(w,ot);g(null,null,e.readingListTimeoutError);b([])},i||2e3)}}function eu(){return typeof tt!="undefined"||et()?tt:0}function ou(){return c()&&h.accentColor}function su(){return!o.CanHideOrShowSearchHistory||c()&&h.showSearchHistory}function hu(n){return(n||o.CanRenderHtmlHeader)&&(c()||{}).isDHPAddressBarPinned}function cu(n){return(n||o.CanRenderHtmlHeader)&&(c()||{}).isNTPAddressBarPinned}function lu(){return o.CanRenderHtmlHeader&&(c()||{}).isDHPShiftFocusSetToWebContent}function au(){return o.CanRenderHtmlHeader&&(c()||{}).isNTPShiftFocusSetToWebContent}function vu(){return c()&&h.diagnosticsLevel==="0"}function yu(n,t){if(o.CanInstallApp&&n&&(n.pfn||n.bigCatId)){f.isValidCV(t)||(t=f.generateCV());var r,i={};i.getFreeEntitlement=!0;o.CanOmitCorrelationVector||(i.correlationVector=t);o.CanInstallAppWithBigCatId?i.bigCatId=r=n.bigCatId:i.appId=r=n.pfn;r&&(tr({pid:r,state:l.Pending}),s(er,i))}}function pu(){s(ri)}function wu(){o.CanHideOrShowFrequents&&s(or,{page:"advanced",section:"privacy"})}function pi(n){var t=JSON.tryParse(n);return t&&t.adId||""}function bu(t){if(o.TH2Features&&"function"==typeof t){var i=a(nt);i==="null"?(n.addEventListener(st,function(){var n=pi(a(nt));t(n)}),s(gt,null)):setImmediate(function(){var n=pi(i);t(n)})}}function ku(n){s(ui,{storeId:n})}function du(n){s(sr,{displayOption:n})}function gu(n){n&~k.BothDisplayed||(n===k.None||n===k.BothDisplayed?ir(n):ir(ft()|n))}function nf(n){s(fi,n)}function tf(n){it&&!o.OneBoxPinnedByDefault&&(u.pub(n?vt:yt),s(n?ei:ti,null))}function rf(n,t,i){(o.CanRenderHtmlHeader||i)&&(s(lr,{pinState:n}),s(si,{setFocus:t}))}function uf(n,t){s(cr,{arguments:{hideTextOnStartPage:n,hideTextOnNewTabPage:t}})}function ff(n){o.CanRenderHtmlHeader&&s(si,{setFocus:n})}function ef(){s(oi,null)}function of(){n.removeEventListener(ht,rr);n.removeEventListener(ct,gi);n.removeEventListener(lt,nr)}function sf(n){if(!n)return!1;var t=c();return t&&t.ntpWebIG?(n.sitePage=n.sitePage||{},n.sitePage.flightid=t.ntpFlightId,require(["pageInstance"],function(n){n.setActivityId(t.ntpWebIG)}),!0):!1}function wi(n){if(o.CanGetOneBoxPosition){if(!n&&rt)return rt;var i,t=a(ii),r=JSON.tryParse(t);return i=r&&r.addressBarPosition?r.addressBarPosition:p(t)?t.indexOf(vi)>0?vi:t.indexOf(ut)>0?ut:"":c()&&h.addressBarPosition,rt=i,i}}function bi(n){return ut===wi(n)}function ki(n){if(o.CanGetOneBoxPosition&&it){var i=bi(!0),r=t.querySelector("body");r&&r.classList.toggle("obshown",i);hf(n,i)}}function hf(n,t){n&&n.isOnDomLoad&&t?d={isOnPage:t,timeStamp:new Date}:d&&!yi&&t!==d.isOnPage&&new Date-d.timeStamp<5e3&&(g(null,null,e.doubleSearchBoxesRenderedError),yi=!0)}function a(n){return y&&y.getCachedFrameMessage(n)}function c(){if(!h||!h.ntpWebIG){var n=a(wt);p(n)&&(h=i(n))}return h}function et(){var n,t;return y?(t=a(bt),!p(t))?!1:(n=cf(t),tt=n.length,n):null}function ot(){di(et()||[])}function di(n){clearTimeout(li);b&&b(n)}function cf(n){return(p(n)&&i(n)||{}).results||[]}function s(n,t){y&&y.postFrameMessage(n,t&&JSON.stringify(t))}function lf(){var o=r>=4,f=r>=5,n=r>=8,e=r==9,u=r>=9,t=r>=10,i=r>=11,s=r>=12;return{CanExitSettingsMode:!i,CanGetOneBoxPosition:n,CanHideOrShowFrequents:t,CanHideOrShowSearchHistory:t,CanInstallApp:n,CanInstallAppWithBigCatId:u,CanOmitCorrelationVector:e,CanPinOneBox:n,CanRenderHtmlHeader:n,CanSearchApps:n,CanSetContentDefaultDisplayOption:!i,CanShowToolTips:n,CanUseFrameAddressBox:u,GroupPolicy:t,OneBoxPinnedByDefault:i,TH2Features:f,TopSiteStorage:n}}function p(n){return n&&n!=="null"}function af(){return!o.CanHideOrShowFrequents||c()&&(h.showFrequentTopSites===undefined||+h.showFrequentTopSites)}function vf(n,t,i){if(t&&i){var r={requestId:pr,arguments:{url:t,title:n||"Web page",target:vr,icon:i,additionalParams:""}};s(ci,r,t)}}function yf(){var n=JSON.tryParse(a(kt));n&&u.pub(ur,n.showFrequentTopSites)}function pf(){var n=JSON.tryParse(a(dt));n&&u.pub(pt,n.showSearchHistory)}function gi(n){var t=JSON.tryParse(n.data),i=t&&t.results||[];t&&t.requestId&&v[t.requestId]&&v[t.requestId](i)}function nr(n){var t=JSON.tryParse(n.data),i=t&&t.results||[];t.requestId=t.requestId||ai;t&&t.requestId&&v[t.requestId]&&v[t.requestId](i)}function wf(n){var t=JSON.tryParse(n.data),u;if(t){var f=t.state,r=f&&(l[f]||f.match(/^Paused/)&&l.Paused),i=t.errorCode;i!=null&&(i="0x"+(i<0?i+4294967296:i).toString(16));u={pid:t.appId||t.bigCatId,complete:!1,errorCode:i,progress:t.progress,state:r,success:!1};(r===l.Completed||r===l.Error||r===l.Canceled)&&(u.complete=!0,u.success=r===l.Completed);tr(u)}}function tr(n){u.pub(at,n)}function ir(n){n!=ft()&&s(hr,{experienceDisplayedMask:n})}function rr(){var n=a(fr),t;p(n)&&(g(n),t=JSON.tryParse(n),t||g(n,"error parsing json of trackAppErrorEvent "))}function g(n,t,i){require(["track","c.pageComplete"],function(r){var f,u;i?f=i:(u=e.serviceUIError,f={errId:u.errId,errMsg:u.errMsg+(t||"")+n,errSource:u.errSource});r.trackAppErrorEvent(f)})}var st="adIdAvailable",ht="erroravailable",w="readinglistavailable",ct="apps.search.completed",lt="apps.notifications.search.completed",at="appinstallprogress",vt="oneboxdisplayed",yt="oneboxhidden",ur="changeFrequentsVisibility",pt="changeSearchHistoryVisibility",nt="adId",fr="error",wt="machineState",bt="readingList",kt="showFrequentTopSites",dt="showSearchHistory",gt="queryAdId",ni="exitSettingsMode",ti="htmlScrolledDown",er="installApp",ii="addressBarPosition",ri="openReadingList",or="browserSettings.open",ui="removeReadingListItem",sr="setDisplayOption",hr="setExperienceDisplayedMask",fi="setFlightInstrumentationData",ei="htmlScrolledToTop",cr="frameAddressBox.setPlaceholderTextSetting",oi="showServiceUI",lr="pinAddressBar",si="shiftFocusToWebContent",hi="apps.search",ar="apps.notifications.search",ci="shell.pinWebsite",vr="taskbar",b,h,tt,li,y=n.ServiceUIFrameContext,it=!0,rt,v={},yr="b1bb5de7-499a-4fac-bb49-1d549755537a",pr="2c0b1726-032a-4e32-b500-fa55d8c8c8b7",wr="626d5907-30f5-4297-9130-e8d320e215f2",ai="7c347177-549c-438d-9dca-3fb9e065bcc1",vi="frame",ut="page",k={None:0,DhpDisplayed:1,NtpDisplayed:2,BothDisplayed:3},l={AcquiringLicense:1,Canceled:2,Completed:3,Downloading:4,Error:5,Installing:6,Paused:7,Pending:8,RestoringData:9,Starting:10},d,yi=!1,o=lf();return n.addEventListener(ht,rr),o.CanInstallApp&&n.addEventListener("appinstallstatuschanged",wf),o.CanHideOrShowFrequents&&n.addEventListener("browserSettings.showFrequentTopSitesChanged",yf),o.CanGetOneBoxPosition&&n.addEventListener("addressbarpositionchanged",ki),o.CanSearchApps&&(n.addEventListener(ct,gi),n.addEventListener(lt,nr)),o.CanHideOrShowSearchHistory&&n.addEventListener("browserSettings.showSearchHistoryChanged",pf),{cacheKeys:{adCacheKey:nt,machineStateCacheKey:wt,showFrequentTopSitesCacheKey:kt,readingListCacheKey:bt,showSearchHistoryCacheKey:dt},constants:{appInstallState:l,experienceDisplayedValues:k},events:{appInstallProgress:at,oneBoxDisplayed:vt,oneBoxHidden:yt,changeSearchHistoryVisibility:pt},messages:{adIdAvailableMessage:st,adIdPostMessage:gt,exitSettingsModeMessage:ni,hideOneBoxPostMessage:ti,oneBoxPositionMessage:ii,openReadingListPostMessage:ri,pinToTaskbarPostMessage:ci,readingListAvailableMessage:w,removeReadingListItemPostMessage:ui,setFlightInstrumentationDataMessage:fi,showOneBoxPostMessage:ei,showServiceUiMessage:oi},features:o,enableOneBoxAnimation:br,exitSettingsMode:kr,getExperienceDisplayed:ft,getPartnerSearchCode:tu,isEnableRegulatoryPsm:iu,isEnableCpsm:ru,getMfuApps:gr,getNtpWebIG:uu,getPinnedApps:dr,getReadingListAsync:fu,getReadingListCount:eu,getToastNotifications:nu,getWindowsAccentColor:ou,isEnterpriseMode:vu,installApp:yu,openReadingList:pu,openEdgeSettingsPane:wu,pinTopSiteToTaskbarAsync:vf,queryAdIdAsync:bu,removeFromReadingList:ku,setDisplayOption:du,setExperienceDisplayed:gu,setFlightInstrumentationData:nf,setFrameAddressBoxPlaceHolderText:uf,showFrequents:af,showOneBox:tf,showServiceUi:ef,tearDown:of,tryUpdateTelemetryFields:sf,pinOneBox:rf,showSearchHistory:su,isDhpOneBoxPinned:hu,isNtpOneBoxPinned:cu,updateOneBoxPositionClass:ki,getOneBoxPosition:wi,shiftFocusToWeb:ff,isDhpShiftFocusSetToWebContent:lu,isNtpShiftFocusSetToWebContent:au,oneBoxIsShown:bi}});define("serviceUIVersion",["navigator","navigation","location"],function(n,t,i){var f,e=t.getParamsFromUrl(i.href),u,o,r;return e.suiv&&(u=parseInt(e.suiv,10),u)?u:(n&&n.userAgent&&(o=n.userAgent,r=o.match(/serviceui[/\s]*(\d+)*\.?\d*/i),r&&r.length&&(f=parseInt(r[1],10)||1)),f||-1)});define("serviceUiHelperEdge",["window"],function(n){function u(){return new n.Promise(function(t){n.addEventListener(i,function u(r){n.removeEventListener(i,u);t(r)});f(r,null)})}function f(n,i){t&&t.postFrameMessage(n,i&&JSON.stringify(i))}var t=n.ServiceUIFrameContext,i="userInfo.primaryUser.get-completed",r="userInfo.primaryUser.get";return{getUserInfoSettingsAsync:u}});define("browserAccess",["serviceUIComm","serviceUIVersion","colorHelper","appHelper","promise"],function(n,t,i,r,u){function h(){var u=t>=4,i=t>=5,n=t>=8,s=t===9,h=t>=9,e=t>=10,f=t>=11,r=t>=12,o=t>=13;return{ServiceUIAvailable:t>0,CanGetAppInstalledState:u,CanLaunchApp:u,CanLaunchAppWithPfnOrAumId:n,LaunchAppWithUri:e,CanMapUrlsToAppIds:n,PersistentStorage:i,CanQueryFavIcons:i,ServiceTabs:n,TH2Features:i,TopSiteStorage:n,CanFetchTabContext:f,UserInfoSettings:r,UnifiedCookieJar:f,CanFetchTabContextShell:r,CanGetTabId:o,CanGetPersonalizationData:r}}function c(){return t>0}function l(){return u.reject("Personalization data is not available.")}function a(){return f.TopSiteStorage?new u(function(t,i){n.getObjectAsync({cacheKey:"getTopSites",eventName:"topsitesavailable",messageName:"getTopSites",checkCacheBeforeMessage:!1}).then(function(n){t(n.results||[])},function(n){i(n)})}):u.reject("Top sites storage feature is not supported.")}function v(t){if(!f.TopSiteStorage)throw"Top sites storage feature is not supported.";n.sendMessage({messageName:"setTopSites",userArguments:{topsites:t}})}function y(){if(!f.TopSiteStorage)throw"Top sites storage feature is not supported.";n.sendMessage({messageName:"clearTopSites"})}function p(t){return(t=t||[],!f.CanQueryFavIcons)?u.reject("Querying favicons not supported."):t.length?new u(function(r,u){for(var f={},o=0,h=t.length;o<h;o++){var s=t[o],c=s,e=s.replace(/^(https?:\/\/)?(www\.)?/,"");["http://"+e,"http://www."+e,"https://"+e,"https://www."+e].forEach(function(n){var t=f[n]||(f[n]=[]);t.push(c)})}n.getObjectAsync({cacheKey:"favIcons",eventName:"faviconsavailable",messageName:"queryFavIcons",userArguments:{webSiteUrls:Object.keys(f)},checkCacheBeforeMessage:!1,enforceSerialCalls:!0}).then(function(n){for(var t,s,o=n.results||[],u={},e=0,h=o.length;e<h;e++)t=o[e],s=f[t.webSiteUrl],s.forEach(function(n){var r=u[n],f;r&&(r.icon||!t.favIconBase64)||(f={siteUrl:n,icon:t.favIconBase64,background:i.rgbNumberToCssHexColor(t.favIconBackgroundColor),backgroundFromAlgo:!0},u[n]=f)});r(u)},function(n){u(n)})}):u.resolve({})}function w(t){return(t=t||[],!f.CanMapUrlsToAppIds)?u.reject("Mapping URLs to app IDs is not supported."):t.length?new u(function(i,r){n.getObjectAsync({cacheKey:"appIdMapping",eventName:"appidmappingavailable",messageName:"queryAppIdMapping",userArguments:{webSiteUrls:t},checkCacheBeforeMessage:!1,enforceSerialCalls:!0}).then(function(n){for(var t,u=n.results||[],f={},r=0,e=u.length;r<e;r++)t=u[r],t.status==="Mapped"&&(f[t.webSiteUrl]={hasAddOns:t.hasAddOns,isFree:t.isFree,packageFamilyName:t.packageFamilyName,productId:t.productId,title:t.title});i(f)},function(n){r(n)})}):u.resolve({})}function b(t){if(!f.ServiceUIAvailable)throw"Cannot remove site. Service UI not supported.";n.sendMessage({messageName:"removeFrequent",userArguments:{url:t}})}function k(t){if(!f.CanLaunchApp)throw"Launching apps is not supported.";var i=r.tryParseAppId(t);if(t=i.aumId?i.aumId:f.CanLaunchAppWithPfnOrAumId&&i.pfn?i.pfn:"",t)n.sendMessage({messageName:"launchApp",userArguments:{appId:t}});else throw"Unable to launch app. Unrecognized APP ID format: "+t;}function d(t){if(!f.CanGetAppInstalledState)return u.reject("Getting app install state is not supported.");var i=r.filterAppIdsForAppInstallStateCheck(t,f.CanLaunchAppWithPfnOrAumId);return i&&i.length?new u(function(t,r){n.getObjectAsync({cacheKey:"apps",eventName:"appsavailable",messageName:"queryApps",userArguments:{appIds:i},checkCacheBeforeMessage:!1,enforceSerialCalls:!0}).then(function(n){t(n.results||[])},function(n){r(n)})}):u.resolve(null)}function g(t){return new u(function(r,u){n.getObjectAsync({cacheKey:"localResults",eventName:"localresultsavailable",checkCacheBeforeMessage:!0}).then(function(n){var u,o,s;if(n===null){r(null);return}for(var f=[],e=n&&n.results,c=e&&e.length,h=0;h<c&&f.length<t;)u=e[h++],u&&u.type==="frequent"&&u.url&&(o=null,u.iconUri&&(o=(u.iconUri.indexOf(":")<0?"data:image/png;base64,":"")+u.iconUri),s=i.rgbNumberToCssHexColor(u.tileColor),f.push({appId:u.appId,background:s,backgroundFromAlgo:!!s,icon:o,title:u.title,siteUrl:u.url}));r(f)},function(n){u(n)})})}function nt(){return f.CanFetchTabContext?o("tabContext.get-completed","tabContext.get"):u.reject("tab context feature is not supported.")}function tt(){return f.CanFetchTabContextShell?s().then(function(n){return o("tabContext.shell.get-completed","tabContext.shell.get",{tabGroupId:n})},function(n){u.reject(n)}):u.reject("tab context feature is not supported for tabbed shell.")}function o(t,i,r){return new u(function(u,f){n.getObjectAsync({eventName:t,messageName:i,checkCacheBeforeMessage:!1,resultAvailableInEvent:!0,userArguments:r}).then(function(n){u(n||[])},function(n){f(n)})})}function it(){return f.UserInfoSettings?new u(function(t,i){n.getObjectAsync({eventName:"userInfo.primaryUser.get-completed",messageName:"userInfo.primaryUser.get",checkCacheBeforeMessage:!1,resultAvailableInEvent:!0,timeoutMs:1e4}).then(function(n){t(n)},function(n){i(n)})}):u.reject("Getting user settings is not supported.")}function rt(){return f.PersistentStorage?new u(function(t,i){n.getObjectAsync({cacheKey:"pageSettings",eventName:"settingsavailable",messageName:"fetchPageSettings",checkCacheBeforeMessage:!1}).then(function(n){t(n.results||null)},function(n){i(n)})}):u.reject("Persistent storage is not available.")}function ut(t){if(!f.PersistentStorage)throw"Persistent storage is not available.";n.sendMessage({messageName:"writePageSettings",userArguments:t})}function ft(t,i){if(f.LaunchAppWithUri&&t&&i){var r={arguments:{uri:t,pfn:i}};n.sendMessage({messageName:"apps.launchUri",userArguments:r})}}function et(){return new u(function(t,i){if(!f.CanGetTabId){i("Getting tab ID is not supported in this ServiceUI version.");return}n.getObjectAsync({cacheKey:"shellTabId",eventName:"shelltabidavailable",checkCacheBeforeMessage:!0,timeoutMs:500}).then(function(n){t(n.result.ShellTabId||[])},function(n){console.log(n);i(n)})})}function s(){return new u(function(t,i){if(!f.CanGetTabId){i("Getting tab group ID is not supported in this ServiceUI version.");return}n.getObjectAsync({cacheKey:"shellTabGroupId",eventName:"shelltabgroupidavailable",checkCacheBeforeMessage:!0,timeoutMs:500}).then(function(n){t(n.result.ShellTabGroupId||[])},function(n){i(n)})})}function ot(t,i){if(typeof t=="string"&&t.length){var r={targetUrl:t,navigationType:i||e.currentTab};n.sendMessage({messageName:"navigate",userArguments:r})}}function st(){n.sendMessage({messageName:"firstRunExperience.rendered"})}function ht(t){if(f.UnifiedCookieJar)throw"Should not be called if there is unified cookie jar support.";n.sendMessage({messageName:"setMuidForTabs",userArguments:t})}function ct(t){if(!t||!t.RequestId||!t.Resource||!t.Scope)return u.reject("Invalid request parameter.");var i={requestId:t.RequestId,silentMode:!0,scope:t.Scope,resourceId:t.Resource};return n.getObjectAsync({cacheKey:"tokenResponse",eventName:"tokenresponseavailable",messageName:"getTokenAsync",checkCacheBeforeMessage:!1,resultAvailableInEvent:!1,enforceSerialCalls:!0,timeoutMs:1e4,userArguments:i})}function lt(t){if(!t||!t.AccountId||!t.RequestId||!t.Resource||!t.Scope)return u.reject("Invalid request paramater.");var i={requestId:new String(t.RequestId),action:"GetTokenForAccountSilently",arguments:{providerType:"AAD",aadProviderId:"https://login.windows.net/",accountId:t.AccountId,aadScope:t.Scope,aadResource:t.Resource}};return n.getObjectAsync({eventName:"auth.webAccountManagerRequest-completed",messageName:"auth.webAccountManagerRequest",checkCacheBeforeMessage:!1,resultAvailableInEvent:!0,enforceSerialCalls:!0,userArguments:i})}function at(t){if(!t||!t.RequestId||!t.Resource||!t.Scope)return u.reject("Invalid request paramater.");var i=JSON.stringify({requestId:new String(t.RequestId),action:"GetTokenForPrimaryAccount",arguments:{aadScope:t.Scope,aadResource:t.Resource}});return n.invokeMethodAsync({eventName:"auth.webAccountManagerRequest-completed",methodName:"showAuthDialog",resultAvailableInEvent:!0,timeoutMs:0,userArguments:[i]})}var f=h(),e={backgroundTab:"bgTab",currentTab:"currentTab",newTab:"newTab",newWindow:"newWindow",none:"none"};return{features:f,navigationTypes:e,isServiceUiAvailable:c,getTopSitesAsync:a,setTopSites:v,clearTopSites:y,getFavIconsAsync:p,getAppIdMappingAsync:w,removeFrequentSite:b,launchApp:k,getAppInstalledStateAsync:d,getFrequentSitesAsync:g,getTabContextAsync:nt,getTabContextShellAsync:tt,fetchPageSettingsAsync:rt,writePageSettings:ut,getUserSettingsAsync:it,launchAppWithUri:ft,navigate:ot,setWindowFreRendered:st,getShellTabIdAsync:et,getShellTabGroupIdAsync:s,setMuidForTabs:ht,getPersonalizationDataAsync:l,getTokenAsync:ct,getTokenForAadAccountAsync:lt,showAuthDialogAsync:at}});require(["serviceUIVersion","serviceUIComm"],function(n,t){n>0?t.getObjectAsync({cacheKey:"machineState",checkCacheBeforeMessage:!0}).then(function(n){define("machineState",n)},function(n){console.error("Getting machine state from ServiceUI failed: "+n)}):define("machineState",{})});define("browserState",["machineState"],function(n){function t(){return+n.newTabPageDisplayOption}function i(){return n.lang}function r(){return n.market}function u(){var t=n.experiments;return t&&t.features}function f(){return n.showContextCardsDefault}function e(){return n.thirdPartySearchProvider}return{constants:{displayOptionValues:{TopSitesAndSuggestedContent:0,TopSitesOnly:1,BlankPage:2}},getDisplayOption:t,getMachineOsLanguage:i,getMachineOsMarket:r,getEdgeExperiments:u,getShowContextCardsDefault:f,getThirdPartySearchProvider:e}});require(["mediator","localStorage"],function(n,t){function r(n){var r=new Date,u=r.getTime();t.setItem(i,JSON.stringify({time:u,data:n?n:"2"}))}var i="fpr";n.sub("forcePageReload",r)});define("serviceUIComm",["window","promise","errorCategory"],function(n,t,i){function p(n){return!n||!n.cacheKey&&!n.resultAvailableInEvent?t.reject("cacheKey property is required."):!n.eventName&&!n.checkCacheBeforeMessage?t.reject("eventName property is required when not checking cache."):n.enforceSerialCalls&&!n.messageName?t.reject("messageName property is required when enforceSerialCalls is enabled."):b(n).then(function(i){if(i)return i;var r=l(n);return t.race([c(r),k(r)])})}function o(n){var t=null;n.userArguments&&(t=JSON.stringify(n.userArguments));u.postFrameMessage(n.messageName,t)}function w(n){var r=n.methodName,i,f;return r?n.messageName?t.reject("messageName property should not be present in requestArguments when calling invokeMethodAsync."):n.enforceSerialCalls?t.reject("Serial execution is not supported."):(i=u[r],!i)?t.reject("serviceUICommDirect: method not supported : "+r):n.eventName?(f=l(n),t.race([c(f),d(f,i)])):new t(function(t){var r=i.apply(null,n.userArguments);t(r)}):t.reject("methodName property is required when calling invokeMethodAsync.")}function b(n){return new t(function(t,i){if(n.checkCacheBeforeMessage||!n.messageName){var r=v(n);if(r){t(r);return}if(!n.eventName){i("Item was not found in the frame message cache.");return}}t()})}function c(i){return new t(function(t,u){var e=i.timeoutMs<=0?0:i.timeoutMs||y;i.timeoutId=e&&n.setTimeout(function(){var t=r.indexOf(i),n;t>=0&&r.splice(t,1);n="Timed out waiting for event "+i.eventName;u(n);s(n);i.isSerial&&f(i.requestKey)},e)})}function l(t){return{eventName:t.eventName,messageName:t.messageName,requestKey:t.methodName||t.messageName,userArguments:t.userArguments,isSerial:t.enforceSerialCalls,timeoutMs:t.timeoutMs,successCallback:function(i){n.clearTimeout(this.timeoutId);var r=t.resultAvailableInEvent?rt(t,i):v(t);r?this.resolve(r):this.reject("Result was not found in the "+(t.resultAvailableInEvent?"message cache":"callback event."))},errorCallback:function(t){n.clearTimeout(this.timeoutId);this.reject(t)}}}function k(n){return new t(function(t,i){n.resolve=t;n.reject=i;var u=!e(n.requestKey);r.push(n);a(n);g(n,u)})}function d(n,i){return new t(function(t,u){n.resolve=t;n.reject=u;r.push(n);a(n);i.apply(null,n.userArguments)})}function a(n){h.indexOf(n.eventName)<0&&(n.isSerial?it(n.eventName,n.requestKey):tt(n.eventName),h.push(n.eventName))}function g(n,t){n.messageName&&(n.isSerial?t&&f(n.requestKey):o(n))}function nt(n){var t=u.getCachedFrameMessage(n);return JSON.tryParse(t)}function tt(t){n.addEventListener(t,function(n){for(var u,i=r.length-1;i>=0;i--)u=r[i],u.eventName===t&&(u.successCallback(n),r.splice(i,1))})}function it(t,i){n.addEventListener(t,function(n){var t=e(i,!0);t&&(t.successCallback(n),f(i))})}function f(n){var t=e(n);t&&o(t)}function e(n,t){for(var u,i=0;i<r.length;i++)if(u=r[i],u.requestKey===n)return t&&r.splice(i,1),u;return null}function v(n){var t=nt(n.cacheKey);return t?t:null}function rt(n,t){var i=t&&JSON.tryParse(t.data);return i?i:null}function ut(){var i=u.getCachedFrameMessage("error"),o=JSON.tryParse(i),t,n;if(o){for(s(i),t=r.length-1;t>=0;t--)if(n=r[t],n.messageName===o.message&&(n.isSerial?(n=e(n.requestKey,!0),f(n.requestKey)):r.splice(t,1),n.errorCallback(o.errorMessage),n.isSerial))break}else s(i,"Could not parse error message as JSON.")}function s(n,t){require(["track","c.pageComplete"],function(r){var u=i.serviceUIError,f={errId:u.errId,errMsg:u.errMsg+(t||"")+n,errSource:u.errSource};r.trackAppErrorEvent(f)})}var u=n.ServiceUIFrameContext,y=5e3,r=[],h=[];return n.addEventListener("erroravailable",ut),{invokeMethodAsync:w,getObjectAsync:p,sendMessage:o}});define("showServiceUi",["serviceuihelper"],function(n){function t(t){require([t],function(){i||(n.showServiceUi(),i=!0)})}function r(){t("c.riverSection");t("c.topSitesReady");t("c.officeFeedReady");t("c.pageComplete")}var i=!1;return{setup:r}});define("toolTips",["window","document","serviceuihelper","positionHelper","remToPixel","dir.tokens"],function(n,t,i,r,u,f){function tt(){if(!i.features.CanShowToolTips){n.addEventListener(d,it);return}}function it(t){for(h(),s=t.target,o=0;s&&!o;)o=s.getAttribute&&s.getAttribute("title"),s=s.parentNode;o&&(n.addEventListener(a,l),n.addEventListener(v,w),l(t))}function l(n){var t=r.getEventMousePosition(n);clearTimeout(c);c=setTimeout(function(){rt(t)},g)}function w(){h()}function rt(i){var a;if(b(),o){e||(e=t.createElement("p"),e.id="tooltip",t.body.appendChild(e));e.innerText=o.substr(0,k);e.className="tooltip-open";var f=n.pageXOffset,l=f+n.innerWidth,s=e.offsetWidth,r=i.x-s/2;r+s>l?(r=l-s,!p&&r<f&&(r=f)):r<f&&(r=f,p&&r+s>l&&(r=l-s));a=Math.max(i.y-e.offsetHeight-u(2),n.pageYOffset);e.style.left=r+"px";e.style.top=a+"px";c=setTimeout(h,nt);n.addEventListener(y,h)}}function h(){o=null;b();e&&(e.className="")}function b(){clearTimeout(c);n.removeEventListener(a,l);n.removeEventListener(v,w);n.removeEventListener(y,h)}var k=512,a="mousemove",v="mouseout",d="mouseover",y="scroll",g=600,nt=6e3,p=!f.ltr,s,c,o,e;return{initialize:tt}});define("eduSkuHtmlSearchProperties",["serviceuihelper"],function(n){function u(){var n="";return t&&(n+="PC="+t),i&&(n+=n?"&DAF0=1":"DAF0=1"),r&&(n+=n?"&DAF1=1":"DAF1=1"),n}var t=n.getPartnerSearchCode(),i=n.isEnableRegulatoryPsm(),r=n.isEnableCpsm();return{partnerSearchCode:t,isEnableRegulatoryPsm:i,isEnableCpsm:r,getAsQueryParameterString:u}});define("displaySticky",["jquery","jqBehavior","window","mediator"],function(n,t,i,r){"use strict";return t(function(t){function o(){var n=s<i.pageYOffset;n!==f&&(t.toggleClass(a,n),t.css({top:n?e:h}),f=n,r.pub("stickyChange",{$element:t,isSticky:f}))}function v(){t.removeClass(a);t.css("top",h);f=!1;s=t.offset().top-e;o()}var u=n(i),f=!1,h=t.css("top"),c="resize",l="scroll",e=0,a="sticky",y=t.get(0),s;return{setup:function(){t.addClass("stick-enabled");n(".stick-enabled").each(function(t,i){if(i===y)return!1;n(i).is(":visible")&&(e+=n(i).outerHeight(!1))});s=t.offset().top-e;o();u.on(l,o);u.on(c,v)},teardown:function(){u.off(l,o);u.off(c,v)}}})});define("verifyPageElements",["window","document","track","errorCategory","headData","newsFeedFilterHelper","getCookie","spartanConstants","visibility"],function(n,t,i,r,u,f,e,o,s){function c(i,r){var u=i&&t.querySelector(i),f=u&&(n.getComputedStyle&&getComputedStyle(u)||u.currentStyle);return f&&(u.offsetWidth===0||u.offsetHeight===0||f.display==="none"||f.visibility==="hidden")?(v(r),null):u}function v(n){i.trackAppErrorEvent({errId:l.errId,errMsg:l.errMsg+n,errSource:l.errSource})}function y(){var i,s,n,r,u;h&&(clearInterval(h),h=0,p()&&(i=c("#srchfrm",a),i&&i.offsetWidth<350&&v(a)),c(".riversection-js","River")&&(c(".sip > ul","InfoPane"),s=e(o.cookieNames.contentFilter),n=f.topicsTelemetryValueMapping[s],n=n&&n.toLowerCase(),r=".sd-card-col > div",u=t.querySelector(r),(!n||n==="finance"||n==="sports")&&u&&u.children.length&&c(r,"SD cards")))}function p(){return!0}function w(){var n=1e3,t=u.dms||6e3,i=0;h=setInterval(function(){!s.isHidden()&&(i+=n)>=t&&y()},Math.min(n,t));require(["c.pageComplete"],y)}var l=r.domElementExistsButIsNotVisible,a="Search",h;return{setup:w}});require(["binding","c.riverReady"],function(n){n("displaySticky","div.head").all()});define("searchBoxWidthAdjust",["jquery","jqBehavior","window","remToPixel"],function(n,t,i,r){function f(n){function t(){n.find("#q").width(u+(n.find(".qc").width()-n.find(".buttons").width()))}return{setup:t,update:t}}var u=r(.2);return t(f)});require(["oAuthHelper"],function(n){n.handleResponse()});require(["verifyPageElements"],function(n){n.setup()});require(["showServiceUi"],function(n){n.setup()});require(["displayOptionsHelper","c.dom"],function(n){n.modifyPageBasedOnUserSetting()});require(["refreshPdpModules","c.sso"],function(n){n()});require(["refreshPdpModules","c.pdp"],function(n){n()});require(["binding","searchBoxWidthAdjust","c.pageComplete"],function(n){n("searchBoxWidthAdjust","#header-search").all()});require(["delayLoadModules"],function(n){n()});require(["toolTips","c.dom"],function(n){n.initialize()});define("cookieComplianceHelper",["window","document","location","mediator","getCookie","setCookie","classList","spartanSharedHelper","serviceuihelper","requestPageRevealCallback","c.dom"],function(n,t,i,r,u,f,e,o,s,h){function p(){h(nt)}function w(t,i,r){var u=!1||d(i);u&&!r&&n.setImmediate(function(){o.refreshPage(!0)})}function y(){e.add(l,a)}function b(){e.remove(l,a)}function k(n,t,i){if(n&&t&&i){var u=t+"=",r=!e.contains(n,"extsource")&&n.getAttribute(v);r&&r.indexOf(u)<0&&(r+=(r.indexOf("?")<0?"?":"&")+u+i,n.setAttribute(v,r))}}function d(n){if(c){if(g(),n){var t=c.cookieName,i=u(t);k(n,t,i)}return!0}}function g(){c&&c.setConsent()}function nt(){!c||c.hasConsent()?y():b()}var l=t.getElementById("cc-banner"),a="hide",v="href",c=n.mscc;return{grantCookieConsentAndDecorateLink:w,hideCookieBanner:y,hideCookieWallInformationEventName:"hideCookieWall",initialize:p,showCookieWallInformationEventName:"showCookieWall"}});require(["cookieComplianceHelper"],function(n){n.initialize()});require(["topSitesController","c.dom"],function(n){define.is("c.topSites")||(n.initialize(),define("c.topSites",1))});define("topSites.tokens",function(){return{addDialogAppSuggestionTitle:"Føj appen {0} til topwebsteder",addDialogAppSuggestionsTitle:"Foreslåede apps",addDialogSiteSuggestionTitle:"Føj webstedet {0} til topwebsteder",addDialogSiteSuggestionsTitle:"Foreslåede websteder",contextMenuPinTopSite:"Fastgør",contextMenuUnpinTopSite:"Frigør",defaultIconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA4NS43NCA4Ny4xMScgZmlsbD0nIzAwYmNmMic+PHBhdGggZD0nTTY5LjA5LDBhMjguMDYsMjguMDYsMCwwLDEsMy4yNy4yLDIxLjY1LDIxLjY1LDAsMCwxLDMuMjUuNjMsMTQuNDEsMTQuNDEsMCwwLDEsMywxLjIyLDExLjMsMTEuMywwLDAsMSwyLjYxLDIsMTcuNzcsMTcuNzcsMCwwLDEsMy4zLDQuNTksMTIuMjcsMTIuMjcsMCwwLDEsMS4yLDUuNDcsMTcuNzgsMTcuNzgsMCwwLDEtLjM5LDMuNjYsMzAuNDEsMzAuNDEsMCwwLDEtMSwzLjY5cS0uNjQsMS44My0xLjQyLDMuNTl0LTEuNTYsMy4zN2EzNy4xMiwzNy4xMiwwLDAsMSwzLjMsOC43MiwzOS42MiwzOS42MiwwLDAsMSwxLjEsOS4zLDE0LjE5LDE0LjE5LDAsMCwxLS4xLDEuNTlxLS4xLjg1LS4yOSwxLjc2dC0uNDYsMS43M2E4Ljg4LDguODgsMCwwLDEtLjYxLDEuNDZIMzIuNjJhMTYuMzgsMTYuMzgsMCwwLDAsMS4xNyw2LjI3QTE0Ljg2LDE0Ljg2LDAsMCwwLDM3LDY0LjE0LDE0LjU1LDE0LjU1LDAsMCwwLDQyLDY3LjM2YTE2LjY4LDE2LjY4LDAsMCwwLDYuMjcsMS4xNUEyMy4wNywyMy4wNywwLDAsMCw1Niw2Ny4yNmExMy41NCwxMy41NCwwLDAsMCw2LjE4LTQuNzZIODIuMjhhMzcuOTIsMzcuOTIsMCwwLDEtNS44Niw5LjExLDM2LjEsMzYuMSwwLDAsMS03LjkxLDYuODFBMzcsMzcsMCwwLDEsNTksODIuNjlhMzguMzEsMzguMzEsMCwwLDEtMTAuNzQsMS40OSw0MCw0MCwwLDAsMS03Ljg2LS43OCw0NC40LDQ0LjQsMCwwLDEtNy42Mi0yLjI1cS0yLDEuMTItNC4yMiwyLjJBNDYuMTMsNDYuMTMsMCwwLDEsMjQsODUuMjVhMzcuMzYsMzcuMzYsMCwwLDEtNC42OSwxLjM0LDIyLjIyLDIyLjIyLDAsMCwxLTQuNzEuNTEsMTQuNzYsMTQuNzYsMCwwLDEtNi4zMi0xLjI3LDEzLjIzLDEzLjIzLDAsMCwxLTQuNTctMy40N0ExNC43LDE0LjcsMCwwLDEsLjkzLDc3LjIyLDIxLDIxLDAsMCwxLDAsNzAuOWEzNC45MSwzNC45MSwwLDAsMSwxLjEyLTguNjIsNjAuODksNjAuODksMCwwLDEsMy04Ljg5LDgxLjgxLDgxLjgxLDAsMCwxLDQuNDQtOC44NnEyLjU0LTQuMzksNS4zMi04LjQ1dDUuNjktNy42OXEyLjktMy42NCw1LjU5LTYuNjdsLjY2LS43My42Ni0uNjhhNDUuNjIsNDUuNjIsMCwwLDAtNi4xMywyLjgxLDM5LjExLDM5LjExLDAsMCwwLTUuMTgsMy40NCw0OC4zMSw0OC4zMSwwLDAsMC00LjY0LDQuMTdxLTIuMjIsMi4yNy00LjUyLDVBMjIuNTEsMjIuNTEsMCwwLDEsOC4yLDI4LjM5YTI0LjgyLDI0LjgyLDAsMCwxLDQuMjItNi4wNSwzMi42OSwzMi42OSwwLDAsMSw1Ljc5LTQuODNBNDUuNTEsNDUuNTEsMCwwLDEsMjUsMTMuODJhNTEuMTQsNTEuMTQsMCwwLDEsNy4zLTIuNTYsNTkuOTQsNTkuOTQsMCwwLDEsNy4yNS0xLjQ5QTc2LjkzLDc2LjkzLDAsMCwxLDQ2LjI5LDZhNjcuNTQsNjcuNTQsMCwwLDEsNy40Mi0zLjEyQTU2LjU0LDU2LjU0LDAsMCwxLDYxLjQzLjc4LDM5LDM5LDAsMCwxLDY5LjA5LDBaTTcuNDIsNzVhMTMuNzIsMTMuNzIsMCwwLDAsLjQ2LDMuNjEsOSw5LDAsMCwwLDEuNDIsMyw2Ljc1LDYuNzUsMCwwLDAsMi40NywyLjA1LDgsOCwwLDAsMCwzLjYxLjc2LDE1LjE2LDE1LjE2LDAsMCwwLDMuNTQtLjQ0LDI4Ljc0LDI4Ljc0LDAsMCwwLDMuNjYtMS4xNXExLjgzLS43MSwzLjU2LTEuNTZ0My4yLTEuNjhhNDAuMTYsNDAuMTYsMCwwLDEtMTAuNjItNy45MywzNi40MSwzNi40MSwwLDAsMS03LjMtMTEuMDYsNTQuNjUsNTQuNjUsMCwwLDAtMi43OCw3QTIzLjkyLDIzLjkyLDAsMCwwLDcuNDIsNzVaTTYzLjg3LDQwLjYzYTE2LjYyLDE2LjYyLDAsMCwwLTEuMTctNi4yNywxNS4zMSwxNS4zMSwwLDAsMC0zLjI1LTVBMTUuMTIsMTUuMTIsMCwwLDAsNTQuNTIsMjYsMTYuNzQsMTYuNzQsMCwwLDAsNDIsMjYsMTUuMTEsMTUuMTEsMCwwLDAsMzcsMjkuMzJhMTUuMjksMTUuMjksMCwwLDAtMy4yNSw1LDE2LjYyLDE2LjYyLDAsMCwwLTEuMTcsNi4yN1pNNTguMjUsMTAuNGEzNy4yNywzNy4yNywwLDAsMSwxMi40Myw1Ljc5LDM0LjY3LDM0LjY3LDAsMCwxLDkuMzUsMTAsNTIuNTcsNTIuNTcsMCwwLDAsMi4xLTUuNTksMTkuNDEsMTkuNDEsMCwwLDAsLjkzLTUuODMsMTAsMTAsMCwwLDAtLjczLTQsNy45NCw3Ljk0LDAsMCwwLTItMi44NkE4LjYyLDguNjIsMCwwLDAsNzcuMiw2LjJhMTIuNzcsMTIuNzcsMCwwLDAtNC0uNTlBMTguNTQsMTguNTQsMCwwLDAsNjkuMzgsNiwzMy41MywzMy41MywwLDAsMCw2NS41LDcuMWEzNC4zMywzNC4zMywwLDAsMC0zLjc2LDEuNTRRNTkuOTEsOS41Miw1OC4yNSwxMC40WicvPjwvc3ZnPg==",favIconAltText:"logo for {0}",getTheApp:"Hent appen",launchApp:"Åbn appen",getTheAppTitleFormat:"{0} - hent appen",installActivateStore:"Åbner butikken",installApp:"Installér app",installAppTooltip:"{0} – Installér app",installAppInAppPurchasesTooltip:"{0} – Installér app – Indeholder køb i app",installAppLearnMore:"Få mere at vide",installError:"Der opstod fejl",installPending:"Arbejder",installStarting:"Starter overførsel",openTheAppTitleFormat:"",pinThisSite:"Fastgør dette websted",removeThisSite:"Fjern dette websted",topSiteAppAttribution:"App",topSiteAttribution:"Websted",sponsoredLabelText:"Ad",unpinThisSite:"Frigør dette websted"}});define("topSitesModels",["appHelper"],function(n){function f(t){var i=this;i.getOriginalTitle=function(){var n=i.title||i.domain||i.siteUrl;return n&&n.replace(/^(https?:\/\/)?(www\.)?/i,"")||null};i.isSponsored=function(){return i.getOriginalTitle()?i.getOriginalTitle().toLowerCase().indexOf("sponsored")>-1:!1};i.getDisplayTitle=function(){var n=i.getOriginalTitle(),t=n?n.indexOf("["):-1;return i.isSponsored()&&t>=0?n.substring(0,n.indexOf("[")):n};i.getTooltip=function(){var n=i.getDisplayTitle();return i.isApp?n:i.title===i.siteUrl?null:n};i.setAppIds=function(t,u){if(u&&(i.appIds=null,i.pfn=null),t&&t.length){var f=i.appIds||(i.appIds=[]);t.filter(r.getIf).forEach(function(t){f.push(t);i.pfn||(i.pfn=n.tryParseAppId(t).pfn)});i.bigCatId=i.appIds.length>1?i.appIds[i.appIds.length-1]:null}return i.appIds};i.hasApp=function(){return i.appIds&&i.appIds.length};i.hasSchemelessCmsIcon=function(){var n=i.icon;return n&&!n.match(/^http/i)&&n.match(/tenant\/amp/i)};i.isPinned=function(){return i.displayOrder>=0&&i.displayOrder!==null};i.clone=function(){return new f(i.getJson())};i.getJson=function(n){var t={appIds:i.appIds,background:i.background,backgroundFromAlgo:i.backgroundFromAlgo,color:i.color,hasAddOns:i.hasAddOns,icon:i.icon,installEnabled:i.installEnabled,inlineActionsDisabled:i.inlineActionsDisabled,isInlinePinToTaskbarEnabled:i.isInlinePinToTaskbarEnabled,itemId:i.itemId,isApp:i.isApp,siteUrl:i.siteUrl,slotIndex:i.slotIndex,title:i.title,trackingHeadline:i.trackingHeadline,type:i.type,displayOrder:i.displayOrder},r;if(n)for(r in t)t[r]==null&&delete t[r];return t},function(){if(t&&(i.domain=null,i.domainAndPath=null,i.hasQuery=null,i.pfn=null,i.appIds=i.setAppIds(t.appIds),i.background=t.background,i.backgroundFromAlgo=t.backgroundFromAlgo,i.color=t.color,i.displayOrder=t.displayOrder,i.hasAddOns=t.hasAddOns,i.icon=t.icon,i.installEnabled=t.installEnabled,i.itemId=t.itemId,i.isApp=t.isApp,i.inlineActionsDisabled=t.inlineActionsDisabled,i.isInlinePinToTaskbarEnabled=t.isInlinePinToTaskbarEnabled,i.siteUrl=t.siteUrl,i.slotIndex=t.slotIndex,i.title=t.title,i.trackingHeadline=t.trackingHeadline,i.type=t.type),i.siteUrl){var n=e(i.siteUrl);i.domain=n.domain;i.domainAndPath=n.domainAndPath;i.domainPathAndQuery=n.domainPathAndQuery;i.hasQuery=n.hasQuery}}()}function t(n){function o(n,t){var i={};n=n||r.getUrl;u.each(function(r){var u=n(r);u&&!i[u]&&(i[u]=!0,t(r,u))})}var u=this,e=[];u.clone=function(){var n=new t;return u.each(function(t){n.add(t.clone())}),n};u.add=function(n){n&&e.push(n)};u.set=function(n,t){n&&t>=0&&t<e.length&&(e[t]=n)};u.move=function(n,t){var r=e[n];return!r||!e[t]||n===t||!u.removeAt(n)?!1:(r.displayOrder=t,r.type=i.user,e.splice(t,0,r),u.each(function(n,t){n.displayOrder!=null&&(n.displayOrder=t)}),!0)};u.first=function(n){var i=new t;return u.each(i.add,n),i};u.addFrom=function(n,t,i){var f=n&&n.count()||0,o=i==null?f:Math.min(f,i),s=t,r,u;for(e.length=Math.max(e.length,t+o),r=0;r<o;r++)u=n.get(r),u&&(e[s++]=u)};u.count=function(){return e.length};u.map=function(n){return e.map(n)};u.filter=function(n){return new t(e.filter(n))};u.removeAt=function(n){return n>=0&&n<e.length&&!!e.splice(n,1)};u.insert=function(n,t){return t>=0&&t<e.length&&e.splice(t,0,n)};u.removeByUrl=function(n){var t;return n?(u.each(function(i,r){if(i.siteUrl===n)return t=i,u.removeAt(r),!1}),t):t};u.remove=function(n){return n&&u.removeAt(e.indexOf(n))};u.slice=function(n,i){return new t(e.slice(n,i))};u.get=function(n){return e[n]};u.findIndexByKey=function(n,t){var i=-1;return u.each(function(r,u){if(t(r)===n)return i=u,!1}),i};u.each=function(n,t,i){t=t!=null?Math.min(e.length,t):e.length;for(var f=i?e.length-1:0,o=i?-1:1,u=0,r=f;u<t;){if(n(e[r],r)===!1)break;r+=o;u++}};u.indexOf=function(n){return e.indexOf(n)};u.toSiteExclusionLookup=function(n){var t=new s(n);return t.addSites(u),t};u.toJsLookup=function(n){var t={};return o(n,function(n,i){i&&(t[i]=n)}),t};u.distinct=function(n){var i=new t;return o(n,i.add),i};u.excludeLookup=function(n){if(n.getCount()<=0)return u;var i=new t;return u.each(function(t){n.contains(t)||i.add(t)}),i};u.intersectLookup=function(n,i){if(n.getCount()<=0)return new t;var r=new t;return u.each(function(t){n.contains(t,i)&&r.add(t)}),r};u.truncate=function(n){return e.length=Math.max(0,Math.min(u.count(),n||0)),u};u.getJson=function(){var n=[];return u.each(function(t){n.push(t.getJson(!0))}),n};u._list=e,function(){n instanceof Array&&n.map(function(n){u.add(new f(n))})}()}function l(n){function ft(){var n=new y;return n.addFromUrlObject(rt),n.addFromDomainObject(ut),n}function ht(e,s,h,c,l,y){var rt,tt,ut=n.totalCount-y,vt=Math.max(0,ut-s),ft,kt,b,dt,it,yt,et,pt,ht,ct,at,wt,bt,ri,ui;ft||(ft=p.first(ut).excludeLookup(l).excludeLookup(c).first(k));n.showFrequents&&a&&(a=a.excludeLookup(l));n.stackingStrategy===o.frequentsFirst?(b=n.showFrequents?a.excludeLookup(c).first(n.totalCount):new t,kt=b.toSiteExclusionLookup(r.getDomain),tt=ft.excludeLookup(kt),rt=new v([new u(b),new u(tt)])):(tt=ft,b=new t,n.showFrequents&&(b=a.excludeLookup(h).first(vt),dt=b.toSiteExclusionLookup(r.getDomainAndPath),it=tt.intersectLookup(dt).toSiteExclusionLookup(r.getDomainAndPath),b=b.excludeLookup(it),yt=b.count()+it.getCount(),yt<vt?(et=new t,pt=vt-yt,tt.each(function(n){it.contains(n)?et.add(n):pt>0&&(et.add(n),pt--)}),tt=et):tt=tt.intersectLookup(it)),rt=new v([new u(tt),new u(b)]));var d=new t,gt=new t,ni=new u(gt),ti={},ii=new t,fi=new u(ii);for(e.each(function(n){st(n)?(gt.add(n.clone()),ti[n.displayOrder]=!0):ii.add(n)}),ht=0;ht<ut;ht++){if(ct=ti[ht]&&ni.next(),ct){ct.displayOrder=d.count();d.add(ct);continue}if(at=fi.next(),at&&ot(at)){d.add(at.clone());continue}wt=rt&&rt.next();wt&&d.add(wt.clone())}return nt(d,ut,ni,function(n){return n&&(n.displayOrder=d.count()),n}),y>0?(w||(bt=g==null,bt&&(ri=d.toSiteExclusionLookup(r.getDomain),g=p.excludeLookup(l).excludeLookup(ri).filter(function(n){return n.appIds&&n.appIds.length})),w=lt(g,y),bt&&(g=w.clone())),ui=new u(w),nt(d,n.totalCount,ui,function(n){var t=n?n.clone():new f;return t.type=i.suggested,t})):nt(d,n.totalCount),d}function ct(n){var i,r,u,f;return!n||n===0?new t:(i=ft(),l.each(function(n){if(n.siteUrl){var t=e(n.siteUrl);i.addKey(t.domain);i.addKey(t.domainAndPath)}}),r=it.excludeLookup(i),u=r.filter(function(n){return n.hasApp()}).first(n),u.each(function(n){if(n.isApp=!0,n.siteUrl){var t=e(n.siteUrl);i.addKey(t.domain);i.addKey(t.domainAndPath)}}),f=r.excludeLookup(i).first(n),{apps:u,sites:f})}function lt(n,t){var u="lastUpdated",f="lastIndex",e=(new Date).getDate(),o=isNaN(b[u])||b[u]!=e,i=b[f]>-1?b[f]:-1,r,s;return o&&(i+=1),r=i+t,r>n.count()&&(i=0,r=t),s=n.slice(i,r),o&&(b[u]=e,b[f]=i),s}function nt(n,t,i,r){while(n.count()<t){var u=i&&i.next(),e=r&&r(u)||new f;n.add(e)}}function et(n){return function(t){return t.type===n}}function ot(n){return st(n)||n.type===i.user}function st(n){return n.displayOrder!=null}function tt(n){return l=c._list=n}var c=this;n=h(n,{stackingStrategy:o.frequentsFirst,maxCuratedCount:8,maxSuggestedCount:0,maxAddSuggestionsPerGroup:4,totalCount:8,showFrequents:!0});var l=tt(new t),d,it=new t,p=new t,a=new t,w,g,rt={},ut={},k=n.maxCuratedCount,b=n.suggestedSitesData;c.setCuratedSites=function(n){n&&(it=n.clone(),p=n.clone(),p.each(function(n){n.type=i.curated}),k=Math.min(k,p.count()))};c.setFrequentSites=function(n){n&&(a=n.clone(),a.each(function(n){n.type=i.frequent}))};c.addUserTopSite=function(n,t){if(n){var r=n.clone();r.type=i.user;l.set(r,t)}};c.moveSite=function(n,t){var r=l.get(n);return r&&r.type!==i.suggested&&l.move(n,t)};c.togglePinnedState=function(n){var t=l.get(n);t&&t.siteUrl&&(t.displayOrder=t.displayOrder==null?n:null,t.type=i.user)};c.getCuratedSites=function(){return p};c.getFrequentSites=function(){return a};c.getDisplayedCuratedCount=function(){return k};c.getSuggestedSitesData=function(){return b};c.setDeletedUrlLookup=function(n){rt=n||{}};c.setDeletedDomainLookup=function(n){ut=n||{}};c.removeSite=function(n){var t=l.remove(n);return t=p.removeByUrl(n.siteUrl)||t,t=a.removeByUrl(n.siteUrl)||t,w&&n.type===i.suggested&&(t=w.removeByUrl(n.siteUrl)||t),!!t};c.restoreRenderList=function(n,t){l=tt(n||l);t||(w=l.filter(function(n){return n.type===i.suggested}))};c.getRenderList=function(){var e=ft(),t=l.filter(ot),f=new s(r.getDomainAndPath),u;return f.addSites(t),u=new s(r.getDomain),u.addSites(t),l=tt(ht(l,t.count(),f,u,e,n.maxSuggestedCount)),p=l.filter(et(i.curated)),a=n.showFrequents?l.filter(et(i.frequent)):a,k=p?p.count():0,d=null,l};c.getAddDialogSuggestions=function(){return d||(d=ct(n.maxAddSuggestionsPerGroup)),d};c.showFrequents=function(t){n.showFrequents=t}}function p(){function c(n){var t=e[n.domainAndPath],i=e[n.domain],r,u,o,s;(t||i)&&(r=f("appIds",t,i),r&&(n.setAppIds(r,!0),n.hasAddOns=f("hasAddOns",t,i),n.installEnabled=f("installEnabled",t,i)),u=f("trackingHeadline",t,i),u&&(n.trackingHeadline=u),o=f("icon",t,i),o&&(n.background=f("background",t,i),n.color=f("color",t,i),n.icon=o,n.backgroundFromAlgo=!1),s=!n.hasQuery&&t&&t.title,s&&(n.title=s),n.isInlinePinToTaskbarEnabled=f("isInlinePinToTaskbarEnabled",t,i),n.inlineActionsDisabled=f("inlineActionsDisabled",t,i))}function f(n,t,i){return t&&t[n]||i&&i[n]}var u=this,a,e,i=u._renderList=new l,s,n;u.initialize=function(u){n=h(u,{canAddUserSites:!1,canDoSiteOverride:!0,curatedSites:new t,deletedDomainLookup:{},deletedUrlLookup:{},previousRenderList:null,maxTopSiteCount:8,maxCuratedCount:8,maxSuggestedCount:0,maxAddSuggestionsPerGroup:4,stackingStrategy:o.frequentsFirst,suggestedSitesData:{},showFrequents:!0},!0);a=n.curatedSites.toJsLookup(r.getDomain);e=n.curatedSites.toJsLookup(r.getDomainAndPath);i=new l({maxCuratedCount:n.maxCuratedCount,totalCount:n.maxTopSiteCount,maxAddSuggestionsPerGroup:n.maxAddSuggestionsPerGroup,maxSuggestedCount:n.maxSuggestedCount,stackingStrategy:n.stackingStrategy,suggestedSitesData:n.suggestedSitesData,showFrequents:n.showFrequents});var f=n.previousRenderList;n.canDoSiteOverride&&f&&f.each(function(n){c(n)});i.setCuratedSites(n.curatedSites.distinct(r.getDomain));i.setDeletedUrlLookup(n.deletedUrlLookup);i.setDeletedDomainLookup(n.deletedDomainLookup);i.restoreRenderList(f,!0)};u.canAddUserSites=function(){return n&&n.canAddUserSites};u.getDisplayedCuratedCount=function(){return i.getDisplayedCuratedCount()};u.getSuggestedSitesData=function(){return i.getSuggestedSitesData()};u.getSitesToRender=function(n){return(!s||n)&&(s=i.getRenderList()),s};u.getAddDialogSuggestions=function(){return i.getAddDialogSuggestions()};u.addUserTopSite=function(n,t){c(n);i.addUserTopSite(n,t)};u.moveSite=function(n,t){return i.moveSite(n,t)};u.restoreRenderList=function(n){i.restoreRenderList(n)};u.removeTopSite=function(n){return i.removeSite(n)};u.setFrequents=function(n){n=n||new t;n.each(c);i.setFrequentSites(n)};u.showFrequents=function(n){i.showFrequents(n)};u.togglePinnedState=function(n){i.togglePinnedState(n)}}function a(n,t){var i=this;i.data=n;i.parentContext=t;this.update=function(n){i.data=n.data;i.parentContext=n.parentContext}}function u(n,t){var u=this,i=0,r=0;t=c(t,Infinity);u.next=function(){var u=null;return i<n.count()&&r<t&&(u=n.get(i),i++,r++),u}}function v(n,t){var u=this,i=0,r=n[0],f=0;t=c(t,Infinity);u.next=function(){if(f<t){var e=r&&r.next();if(e)return f++,e;if(i+1<n.length)return i++,r=n[i],u.next()}return null}}function s(n){var t=this,i=new y;t.getCount=i.getCount;t.addSite=function(t){i.addKey(n(t))};t.addSites=function(t){var r=t.forEach||t.each;r.call(t,function(t){i.addKey(n(t))})};t.contains=function(t){return i.contains(t,n)};t._lookup=i._lookup}function y(){function r(t){var i=e(t);n.addKey(i.domain);n.addKey(i.domainAndPath)}var n=this,t={},i=0;n.getCount=function(){return i};n.addKey=function(n){n&&!t[n]&&(t[n]=!0)&&++i};n.addFromDomainObject=function(t){for(var i in t)n.addKey(i)};n.addFromUrlObject=function(n){for(var t in n)r(t)};n.contains=function(n,i){var r=i?t[i(n)]:t[n.domain]||t[n.domainAndPath];return!!r};n._lookup=t}function e(n){if(n){/^\s*(f|ht)tps?:\/\//i.test(n)||/^\s*ms-windows-store:/i.test(n)||/^\s*file:\/\//i.test(n)||(n="http://"+n.trim());var i=/[\s\/]+$/g,t=n&&n.match(/^\s*(https?:\/\/(?:www\d*\.)?(([^\/:\?#]+)([^\?#]+)?(\?[^#]+)?))/i)||[],r=(t[3]||"").replace(i,""),u=(t[4]||"").replace(i,"");return{url:t[1]||"",domain:r,domainAndPath:r+u,domainPathAndQuery:t[2]||"",hasQuery:!!t[5]}}}function h(n,t,i){n=n||{};for(var r in t)(i&&n[r]===null||n[r]===undefined)&&(n[r]=t[r]);return n}function c(n,t){var i=parseInt(n);return isNaN(i)?t:i}var i={curated:"curated",frequent:"frequent",suggested:"suggested",user:"user"},o={frequentsFirst:1,curatedFirst:2},r={getUrl:function(n){return n.siteUrl},getDomain:function(n){return n.domain},getDomainAndPath:function(n){return n.domainAndPath},getDomainPathAndQuery:function(n){return n.domainPathAndQuery},getIf:function(n){return n}};return{topSite:f,topSiteCollection:t,topSites:p,constants:{events:{changeFreqsVisibility:"changeFrequentsVisibility"},topSiteType:i,topSiteStackingStrategy:o,addDialogPosition:{bottom:0,right:1}},createBindingContext:function(){return new a},createChildBindingContext:function(n,t){return new a(n,t)},utils:{applyDefaults:h,parseUrl:e,tryParseInt:c}}});define("topSiteViews",["topSitesModels","colorHelper","topSites.tokens","mediator","document","format","window","appHelper","cookieComplianceHelper","spartanConstants","browserAccess","serviceuihelper","errorCategory"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function d(r,u){function ri(n,t,r){var s=ui(nt,n,t,r),v=s.appId,y=e.trackingHeadline,c,b,a,w,o;return y||(c="",b=e.title||e.domain||c,y=f(u.appLinkTrackHeadlineFormat,b,c,c,c)),v&&nt.setAttribute("data-ali",JSON.stringify({ids:[v]})),w="topsites_getapp",s.launchLink?(a=i.launchApp,w="topsites_launchapp",o=p.appLaunch,o=p.AppLaunch):s.installLink?(a=i.installApp,o=p.appInstall,o=p.AppInstall):s.storeLink&&(a=i.getTheApp,o=p.appStore,o=p.AppStore),dt.innerText=a||"",st(v,nt,e.type,w,o),h&&(pt&&s.installLink&&i.installAppLearnMore?(h.style.color=l.action,h.style.backgroundColor=l.background,pt.innerText=i.installAppLearnMore):h.style.display="none"),nt.setAttribute("data-hl",y),nt.style.color=l.action,nt.style.borderTopColor=l.border,s}function ui(n,t,r,f){var a=!1,c,v=!1,y=!1,s=u.appLinkHandler,p=s&&s.getTopSiteAppInstallState(e)||{appId:e.appIds&&e.appIds[0]},l=p.appId,w=o.tryParseAppId(l)||{},b;return w.bigCatId=e&&e.appIds&&e.appIds.length>1?e.appIds[e.appIds.length-1]:null,n.onclick=n.onblur=n.onfocus=n.onmouseout=n.onmouseover=null,n.href="",n.removeAttribute(vt),n.setAttribute(gt,fi),h&&(h.onclick=h.onblur=h.onfocus=h.onmouseout=h.onmouseover=null,h.href=""),l&&(c=o.getApplicationStoreLink(l),f!==!1&&s.canLaunchApp()&&p.installed?(n.onclick=function(n){n.preventDefault();s.launchApp(l)},n.href="#",n.setAttribute(vt,i.openTheAppTitleFormat.format(e.title)),y=!0):r!==!1&&it&&e.installEnabled&&s.canInstallApp()?(n.onclick=function(t){s.installApp(w,n);t.preventDefault()},n.onfocus=n.onmouseover=function(){yt(!0)},n.onblur=n.onmouseout=function(){yt(!1)},h&&c&&(h.href=c,h.onfocus=h.onmouseover=function(){yt(!0)},h.onblur=h.onmouseout=function(){yt(!1)},n.setAttribute(gt,ei)),b=e.hasAddOns?i.installAppInAppPurchasesTooltip:i.installAppTooltip,n.setAttribute(vt,b.format(e.title)),v=!0):t!==!1&&s.canLaunchStore()&&c&&(n.href=c,n.setAttribute(vt,i.getTheAppTitleFormat.format(e.title)),a=!0)),{appId:l,storeLink:a,installLink:v,launchLink:y,visible:a||v||y}}function si(n,t){var i=e.type,r=i?" "+i:"",f=u.isUserAddedSitesEnabled&&e.isPinned()?" pinned":"";d.className=(e.siteUrl?"topsite":"")+(e.backgroundFromAlgo?" border":"")+(n?" hasapp":"")+(e.hasAddOns&&t?" "+ti:"")+(t?" install":"")+(e.siteUrl?l.isLightBackground?" light":" dark":"")+f+r}function st(n,t,i,r,u){var f;if(t){var s="data-m",o="data-dtn",h=t.getAttribute(s),e;r?(e=r,t.setAttribute(o,e)):e=t.getAttribute(o);h&&(f=JSON.tryParse(h),f?(i&&f.n&&(e||(e=f.n,t.setAttribute(o,e)),f.n=i+"_"+e),n&&(f.l=n),u&&(f.y=u),t.setAttribute(s,JSON.stringify(f))):require(["track"],function(n){n.trackAppErrorEvent(a.updateTrackingInfo)}))}}function hi(n){if(e&&e.installEnabled&&(e.pfn===n.pid||e.bigCatId===n.pid)){var u=n.errorCode,l=e.pfn,f,h,c,t,r;n.complete?(t=!1,n.success?(s.render(),s.updateIapDisclaimerCommand.trigger()):u&&(t=!0,f=!0,require(["track"],function(n){o.tryLaunchStoreProductPage(n,l,u,"top sites")?r=i.installActivateStore:(r=i.installError,h=!0)}))):n.state===k.Pending?(r=i.installPending,t=!0):n.state===k.Starting?(r=i.installStarting,t=!0):n.progress?(it.setAttribute("value",n.progress),t=!1,c=!0):d.classList.contains(ni)&&(t=!1);r&&(ut.innerText=r);t!=null&&y(ut,ii,r&&t);ut.setAttribute("title",f&&h&&u||"");y(d,ni,f);y(d,"erricon",h);y(it,ii,c);y(d,oi,!n.complete)}}function yt(n){var t="highlight";y(nt,t,n);y(h,t,n)}var s=this,l,kt=n.createBindingContext(),ct,e,ht,nt,h,pt,dt,it,tt,rt,ut,ot,d,g,lt,wt,ft,at,bt,gt="contextmenu",fi="none",ei="topsites-installapp-contextmenu",ni="error",ti="hasiap",oi="installing",ii="show",vt="title";u=n.utils.applyDefaults(u,{appLinkHandler:null,appLinkTrackHeadlineFormat:"",isUserAddedSitesEnabled:!1});s.bind=function(n){kt.update(n);e=kt.data};s.addCommand=new v(s);s.removeCommand=new v(s);s.pinCommand=new v(s);s.pinToTaskbarCommand=new v(s);s.contextMenuCommand=new v(s);s.updateIapDisclaimerCommand=new v(s);s.grantCookieConsentCommand=new v(s);s.toggleAddButtonMode=function(n){ct=n};s.canDrag=function(){return e&&e.type&&e.type!==w.topSiteType.suggested};s.getElement=function(){return r};s.getDragTile=function(){return new et(d,r,s.canDrag)};s.getTopSite=function(){return e};s.focus=function(){ct&&ht?ht.focus():e&&e.siteUrl&&g&&g.focus()};s.hasAddButton=function(){return ct};s.needsInAppPurchaseDisclaimer=function(){return d.className&&d.className.indexOf(ti)>=0};s.onLearnMoreMenuItemClicked=function(){h&&h.click()};s.renderAppLink=function(){var n,i=!1,r=!1,u,f,t;return e.isApp?(u=ui(g,!0,!1,!0),n=u.appId,u.storeLink&&(f=ri(!1,!0,!1),r=i=f.installLink)):nt?(t=ri(),n=t.appId,i=t.visible,r=t.installLink):n=e.appIds&&e.appIds[0],si(i,r),n};s.render=function(){var v,k;e=e||new n.topSite;l=o.getAppCalculatedColors(e.color,e.background);var a=e.type,p=null,y=!0;g.onclick=null;ot.src=e.icon||b;bt.innerText=e.getDisplayTitle()||"";r.className=ct?"addsite":"";r.style.zIndex="";v=s.renderAppLink();e.isSponsored()&&lt&&(lt.innerText=i.sponsoredLabelText||"",(e.background==="#ffffff"||e.background==="")&&lt.setAttribute("class","sponsored-label-with-white-background"));e.isApp?(p="topsite_app",d.setAttribute("data-exclude-default-menu","true")):(g.href=e.siteUrl||"",c.isServiceUiAvailable()&&(g.onclick=function(n){c.navigate(g.href,c.navigationTypes.currentTab);n.preventDefault()}));ot.alt=e.domain&&f(i.favIconAltText,e.domain)||"";g.title=e.getTooltip()||"";y=a==w.topSiteType.curated||t.isContrastAcceptable(l.color,l.background);y||(e.backgroundFromAlgo=!0);e.color=y?l.color:l.isLightBackground?"#000":"#fff";bt.style.color=e.color;d.style.backgroundColor=l.background;rt&&(rt.style.color=l.remove,rt.setAttribute("title",i.removeThisSite));ft&&(ft.style.color=l.remove);wt&&(wt.style.color=l.remove);tt&&(tt.style.color=l.remove);d.draggable=s.canDrag();tt&&(u.isUserAddedSitesEnabled?(k=e.isPinned(),tt.setAttribute("title",k?i.unpinThisSite:i.pinThisSite)):tt.style.display="none");ut&&(ut.innerText=e.isApp&&i.topSiteAppAttribution||"",ut.style.color=l.color);it&&e.installEnabled&&(it.style.color=l.color,it.style.background=l.border);st(v,r,a);st(v,rt,a);st(v,g,a,p);st(v,h,a);st(v,tt,a)},function(){d=r.getElementsByTagName("div")[0];g=d.querySelector("a:first-child");at=g.getElementsByTagName("div")[0];ot=at.getElementsByTagName("img")[0];bt=at.getElementsByClassName("ts-title")[0];ut=at.getElementsByClassName("ts-attr")[0];nt=r.querySelector("a.js-appAction");dt=nt&&nt.querySelector(".js-appActionText");h=r.querySelector("a.app-learn-more");pt=h&&h.querySelector(".js-appActionText");rt=r.getElementsByClassName("remove")[0];ft=r.getElementsByClassName("sugg-icon")[0];wt=r.getElementsByClassName("spnsr-icon")[0];lt=r.getElementsByClassName("sponsored-label")[0];tt=r.getElementsByClassName("pinsite")[0];ht=r.querySelector(".add");it=r.querySelector("progress");it&&u.appLinkHandler&&u.appLinkHandler.addAppInstallListener(hi);ot.onerror=function(){ot.src=b;ot.onerror=null};d.onkeydown=function(n){n.keyCode===46&&(d.onkeydown=null,s.removeCommand.trigger(e))};rt&&(rt.onclick=function(){s.removeCommand.trigger(e)});ft&&(ft.onclick=function(){require(["track"],function(n){n.trackEvent({type:"click_nonnav",target:ft},ft,g.href,"suggested_site_icon")})});tt&&(tt.onclick=function(){s.pinCommand.trigger(e)});r.oncontextmenu=function(){s.contextMenuCommand.trigger(e,r,s)};ht&&(ht.onclick=function(){s.addCommand.trigger()});r&&(r.onmousedown=function(){s.grantCookieConsentCommand.trigger()})}()}function ut(t,r){function g(){if(o){var n=o.topSiteView;n&&n.onLearnMoreMenuItemClicked()}}function nt(){if(o){var n=o.topSite,t=o.topSiteNode;n&&n.siteUrl&&t&&(require(["track"],function(i){i.trackEvent({type:"click_nonnav",target:t},t,n.siteUrl,"removetopsite")}),p(f,n))}}function tt(n,t,i){t&&(t.icon||(t.icon=b),require(["track"],function(n){n.trackEvent({type:"click_nonnav",target:i},i,t.siteUrl,"pintopsitetotaskbar")}),f.pinTopsiteToTaskbarCommand.trigger(t))}function rt(n,t,r,f){var e=u.getElementById("toggle_pin_topsite_menu_item"),h,s;t&&e&&(h=t.isPinned()?i.contextMenuUnpinTopSite:i.contextMenuPinTopSite,e.setAttribute("label",h),e.onclick=function(){n.pinCommand.trigger(t)},t.type===w.topSiteType.suggested?e.setAttribute("hidden","1"):e.removeAttribute("hidden"));s=u.getElementById("pin_topsite_to_taskbar_menu_item");s&&(s.onclick=function(){n.pinToTaskbarCommand.trigger(t,r)});o={topSite:t,topSiteNode:r,topSiteView:f}}function p(n,t){t&&f.removeTopSiteCommand.trigger(t)}function ut(n,t){f.pinTopSiteCommand.trigger(t)}function et(n,i){f.addTopSiteCommand.trigger(i,t)}function c(){var n;e.forEach(function(t){t.needsInAppPurchaseDisclaimer()&&(n=!0)});y(t,"has-iap",n)}var f=this,e,k=new n.topSite,s,h=n.createBindingContext(),o,l,a=[];r=n.utils.applyDefaults(r,{isUserAddedSitesEnabled:!1,appLinkHandler:null});f.addTopSiteCommand=new v(f);f.removeTopSiteCommand=new v(f);f.pinTopSiteCommand=new v(f);f.pinTopsiteToTaskbarCommand=new v(f);f.dragAndDropCommand=new v(f);f.bind=function(n){h.update(n);s=h.data};f.getChildViews=function(){return e};f.focus=function(n){var t=e[n];t&&t.focus()};f.render=function(){s=s||new n.topSites;var u=s.getSitesToRender(),r=s.canAddUserSites(),i=!1;e.forEach(function(t,f){var e=u.get(f)||k,o=e.type;t.toggleAddButtonMode(!1);r&&!e.siteUrl&&o!==w.topSiteType.suggested?(t.toggleAddButtonMode(!0),r=!1):i||o!=w.topSiteType.curated||(i=!0);t.bind(n.createChildBindingContext(e,h));t.render()});y(t,"has-curated",i);c()};f.renderAppLinks=function(){e.forEach(function(n){n.renderAppLink()});c()},function(){var i=u.getElementById("remove_topsite_menu_item"),n,o;i&&(i.onclick=nt);n=u.getElementById("app_learn_more_item");n&&(n.onclick=g);o=t&&t.getAttribute("data-format-app-hl")||"";e=ct(t&&t.getElementsByTagName("li")).map(function(n,t){var i=new d(n,{appLinkHandler:r.appLinkHandler,appLinkTrackHeadlineFormat:o,isUserAddedSitesEnabled:r.isUserAddedSitesEnabled,isInlinePinToTaskbarEnabled:r.isInlinePinToTaskbarEnabled,isInlineTopSitesActionsDisabled:r.isInlineTopSitesActionsDisabled});return i.addCommand.listen(function(n){et(n,t);it(e)}),i.contextMenuCommand.listen(rt),i.removeCommand.listen(p),i.pinCommand.listen(function(n){ut(n,t)}),i.pinToTaskbarCommand.listen(tt),i.updateIapDisclaimerCommand.listen(c),i.grantCookieConsentCommand.listen(function(n){var t=n.getTopSite();t&&t.type&&it(e)}),a.push(i.getDragTile()),i});r.isUserAddedSitesEnabled&&(l=new ft(t,a),l.dragAndDropCommand.listen(function(n,t,i){f.dragAndDropCommand.trigger(t,i)}))}()}function ft(n,t){function y(e,c){var a;(i=e,c.dataTransfer.setData("text",i.toString()),c.dataTransfer.effectAllowed="move",r||(r=u.getElementById("topsitesdroptarget")),h||(h=r.getElementsByTagName("li")),o||(o=k("topsitekeyframe"),o&&t.forEach(function(n,t){n.setDragAnimationAssets(o[t],"topsiteanimate"+t)})),r&&o)&&(r.style.top=n.offsetTop+"px",l=[],s=[],f=t.slice(),f.forEach(function(n){n.reset()}),n.style.zIndex=1,r.style.zIndex=2,Array.prototype.forEach.call(n.getElementsByTagName("li"),function(n,t){t==0&&(a=n.offsetTop);var i=new ot(t,h[t]);i.onDragOverCommand.listen(w);i.onDropCommand.listen(b);i.setBounds(n,a);s.push({top:n.offsetTop,left:n.offsetLeft});l.push(i)}),f[e].animationElement.classList.add("topsitedrag"),r.style.display="block")}function p(n,t){a(n,n,t)}function w(n,r){var u=n.index,h=t[u],l,o,a;if(h&&h.canDrag()&&r.preventDefault&&(r.preventDefault(),r.dataTransfer.dropEffect="move",i!=u)){for(var c=i<u?-1:1,v=Math.abs(u-i),e=u;v-->0;)l=f[e],o=s[e+c],l.animate(o.top,o.left),e=e+c;a=f[i];f.splice(i,1);f.splice(u,0,a);i=u}}function b(n,t){var i=t.dataTransfer.getData("text");a(i,n.index,t)}function a(i,u){if(u>=0&&i>=0&&i!=u){var f=n.children[i];require(["track"],function(n){n.trackGesture(f,"drop")})}r.style.display="none";t[i].animationElement.classList.remove("topsitedrag");c.dragAndDropCommand.trigger(i,u)}function k(n){var t=[];return Array.prototype.forEach.call(u.styleSheets,function(i){Array.prototype.forEach.call(i.cssRules,function(i){i.type==e.CSSRule.KEYFRAMES_RULE&&i.name.indexOf(n)==0&&t.push(i)})}),t}var o,i,l,s,f,r,h,c=this;c.dragAndDropCommand=new v(c);t.forEach(function(n,t){n.dragElement.ondragstart=function(n){y(t,n)};n.dragElement.ondragend=function(n){p(t,n)}})}function et(n,t,i){var f=0,e=0,u,o,r=this;r.dragElement=n;r.animationElement=t;r.canDrag=i;r.reset=function(){f=e=0};r.setDragAnimationAssets=function(n,t){u=n;o=t};r.animate=function(n,i){var r,s;t.classList.remove(o);u.deleteRule("0");u.deleteRule("1");r="from { top: "+f+"px; left: "+e+"px;}";f=n-t.offsetTop;e=i-t.offsetLeft;s="to { top: "+f+"px; left: "+e+"px;}";u.appendRule(r);u.appendRule(s);t.style.zIndex=2;t.classList.add(o)}}function ot(n,t){var r="px;",i=this;i.index=n;i.onDragOverCommand=new v(i);i.onDropCommand=new v(i);i.element=t;t.ondragover=function(n){i.onDragOverCommand.trigger(n)};t.ondrop=function(n){i.onDropCommand.trigger(n)};i.setBounds=function(n,i,u){i=i||0;u=u||0;var f=["position:absolute;z-index:4;","top:",n.offsetTop-i,r,"left:",n.offsetLeft-u,r,"width:",n.offsetWidth,r,"height:",n.offsetHeight,r].join("");t.style.cssText=f}}function st(t){function b(n){t.classList.remove(a);s.disable();c.disable();l.disable();i.dismissedCommand.trigger(n);r.unsub(h.eventNames.sectionHeaderDockedEvent)}function k(n){u.focus();n&&(u.value="http://",u.setSelectionRange(7,7),r.sub(h.eventNames.sectionHeaderDockedEvent,ut))}function ut(n){n?u.blur():u.focus()}function ft(){var t=n.utils.parseUrl(u.value);return t&&t.domain&&t.url&&t.url.trim()}function et(t){t=t.toLocaleLowerCase();var r=new n.topSite({siteUrl:t});t?i.newTopSiteCommand.trigger(r):k()}var i=this,d,y=n.createBindingContext(),u,o,p,it,e,s,c,l,w=7,a="show",f="px";i.newTopSiteCommand=new v(i);i.dismissedCommand=new v(i);i.bind=function(n){y.update(n);d=y.data};i.show=function(n,r){i.positionAddDialog(n,r);t.classList.add(a);k(!0);s.enable();c.enable();l.enable()};i.hide=function(){b()};i.positionAddDialog=function(r,u,f,e){if(r&&u&&(!f||t.classList.contains(a)))e==n.constants.addDialogPosition.right?i.positionAddDialogToRight(r,u,!1):i.positionAddDialogAtBottom(r,u)};i.positionAddDialogAtBottom=function(n,i){var o=t.parentNode,s=o&&o.getBoundingClientRect()||{left:0,top:0},r=s.left,v=s.top,h=i.right-i.left,y=(t.offsetWidth-h)/2,c=i.left-r,p=n.left-r,b=n.right-t.offsetWidth-r,l=Math.min(Math.max(p,c-y),b),u,a;t.style.left=l+f;u=e.offsetWidth*Math.sqrt(2)/2;e.style.left=c-l-u+h/2+f;a=i.height*.93;t.style.top=i.top+a+u-v+w+f};i.positionAddDialogToRight=function(n,i,r){var o=t.style,u=e.style,s;o.top=i.top-n.top+w+f;r?o.right=n.right-i.right+i.width+f:o.left=i.left-n.left+i.width+f;s=-e.offsetWidth/2+f;r?u.right=s:u.left=s;u.top="35%";u.transform="rotate(-45deg)"},function(){u=t.querySelector("input[type=text]");e=t.querySelector("div.arrow");p=t.querySelector("button.close");p.onclick=i.hide;o=t.querySelector("button.save");o.onclick=function(){var n=ft();n&&et(n)};it=t.querySelector("div.suggestions");s=g(t,function(){b(!0)});c=nt(i.hide);l=tt(rt,u,function(n){o.focus();o.click();n.preventDefault()})}()}function ht(n){var t=this,f,i,e,o,r,u;t.undoTopSiteCommand=new v(t);t.hideDialogCommand=new v(t);t.show=function(){e.innerText=o;n.classList.add("show");t.focus();r.enable();u.enable()};t.hide=function(){n.classList.remove("show");r.disable();u.disable();t.hideDialogCommand.trigger()};t.focus=function(){i.focus()},function(){f=n.querySelector("button.close");f.onclick=t.hide;i=n.querySelector("button.undo");i.onclick=function(){t.undoTopSiteCommand.trigger()};o=n.getAttribute("data-msg-removed");e=n.querySelector("span");r=g(n,t.hide);u=nt(t.hide)}()}function v(n){var i=this,t=[];i.trigger=function(){var i=[n].concat(Array.prototype.slice.call(arguments)),r=Array.prototype.slice.call(t);r.forEach(function(n){n.apply(n,i)})};i.listen=function(n){typeof n=="function"&&t.push(n)};i.forget=function(n){if(n){var i=t.indexOf(n);i>=0&&t.splice(i,1)}};i.clear=function(){t.length=0}}function ct(n){return n&&n.length?Array.prototype.slice.call(n):[]}function g(n,t){if(n&&t){var i=function(i){lt(i.target,n)||t()},r=function(){e.removeEventListener("mousedown",i)},u=function(){r();setImmediate(function(){e.addEventListener("mousedown",i)})};return{enable:u,disable:r}}}function nt(n){return tt(27,null,n)}function tt(n,t,i){if(i){var r=function(r){r.keyCode!==n||r&&t&&r.target!=t||i(r)},u=function(){e.removeEventListener("keydown",r)},f=function(){e.addEventListener("keydown",r)};return{enable:f,disable:u}}}function lt(n,t){while(n&&n!==t)n=n.parentNode;return n===t}function y(n,t,i){if(n){var r=n.classList;return i?r.add(t):r.remove(t),i}}function it(n){s.grantCookieConsentAndDecorateLink(null,null,!0);n&&n.length&&at(n)}function at(n){n&&n.forEach(function(n){n&&n.grantCookieConsentCommand.clear()})}var w=n.constants,b=i.defaultIconUrl,rt=13,p={appStore:17,appLaunch:18,appInstall:23},k;return require(["telemetryDataTypes"],function(n){p=n.TelemetryType}),k=l.constants.appInstallState,{topSiteView:d,topSitesView:ut,topSiteAddDialog:st,topSiteUndoDeletedDialog:ht}});require(["browserAccess","browserState","webStorage","topSitesModels","colorHelper"],function(n,t,i,r,u){function g(){var n=et(k);define("topSitesStorage",n,ot)}function et(){return["document","window","perfMarker"]}function ot(){function ot(n,t){ft&&(!n||n.length<=ft.count())||(ft=n?new r.topSiteCollection(n):ft||new r.topSiteCollection,t(ft))}function lt(n){if(n&&f){var t=[],i={},r=f,u=r.toJsLookup(function(n){return n.itemId});n=n.filter(function(n){return n.siteUrl});n.each(function(n,t){n.slotIndex=t;n.itemId?i[n.itemId]=!0:r.each(function(t){if(t.itemId&&n.siteUrl==t.siteUrl)return n.itemId=t.itemId,i[n.itemId]=!0,!1})});n.each(function(n,i){var r,f;if(!n.itemId){n.type==h.userselectedwebsite?y[n.siteUrl]||(y[n.siteUrl]=!0,t.push(ct(n,i))):t.push(ct(n,i));return}(r=u[n.itemId],r)&&(r.type!=n.type?(f=a[n.type],t.push({action:"update",faviconurl:nt(n.icon),itemid:n.itemId,slotindex:n.slotIndex,sourcetype:f,faviconsourcetype:d[f]})):r.slotIndex!=n.slotIndex&&t.push({action:"reorder",itemid:n.itemId,slotindex:n.slotIndex}))});r.each(function(n){n.itemId&&!i[n.itemId]&&(t.push({action:"delete",itemid:n.itemId}),delete y[n.siteUrl])});at(t,null)}}function at(t,i){t&&t.length&&(n.setTopSites(t),setTimeout(function(){n.getTopSitesAsync().then(function(n){i&&i(n)})},ut))}function vt(n){f=it(n);i.setObject(e,f.getJson());ht&&ht();ht=null}function ct(n,t){var f,i,r;return t<0||!n||!n.siteUrl||!n.type||!(f=a[n.type])?null:(i=u.parseColor(n.color),r=u.parseColor(n.background),{action:"add",url:n.siteUrl,slotindex:t,title:n.title,faviconurl:nt(n.icon),faviconbackgroundcolor:r&&r.r<<16|r.g<<8|r.b||16777215,faviconforegroundcolor:i&&i.r<<16|i.g<<8|i.b||0,faviconsourcetype:d[f],itemid:"{00000000-0000-0000-0000-000000000000}",sourcetype:f})}var st,t,g,ft,et,ht;return require(["c.topSitesReady"],function(){v&&k!==rt.BlankPage&&n.getTopSitesAsync().then(function(n){vt(n)})}),{initialize:function(n){t=i.getObject(c)||{};g=i.getObject(o)||{};et=i.getObject(b);st=n instanceof r.topSiteCollection?n:new r.topSiteCollection},getAppInstallsCache:function(){return JSON.tryParse(i.getItem(p))},getCurated:function(){return st},getDeletedDomainLookup:function(){return t},getDeletedUrlLookup:function(){return g},getMaxCurated:function(n){return Math.max(0,s.tryParseInt(i.getItem(w),s.tryParseInt(n,Infinity)))},getFrequents:function(t,u){var f,e,o;if(t=s.tryParseInt(t,0),t<=0){ft=new r.topSiteCollection;u(ft);return}f=!0;f?(e=!1,n.features.ServiceUIAvailable?n.getFrequentSitesAsync(t).then(function(n){n&&i.setItem(l,n);e||ot(n,u)}):ot(null,u),o=JSON.tryParse(i.getItem(l)),o&&(e=!0,ot(o,u))):n.features.ServiceUIAvailable?n.getFrequentSitesAsync(t).then(function(n){f&&n&&i.setItem(l,n);ot(n,u)}):ot(null,u)},getRenderList:function(){var n=JSON.tryParse(i.getItem(e))||[];return new r.topSiteCollection(n)},getPreviousSuggestedSitesData:function(){return et},deleteSite:function(n){var r=null,u,f;return n.domain&&(u=!t[n.domain],t[n.domain]=!0,i.setObject(c,t),f=!g[n.siteUrl],g[n.siteUrl]=!0,i.setObject(o,g),r=function(){u&&(delete t[n.domain],i.setObject(c,t));f&&(delete g[n.siteUrl],i.setObject(o,g))}),{undo:r||function(){}}},setAppInstallsCache:function(n){i.setItem(p,n)},setMaxCurated:function(n){(n=Math.max(0,s.tryParseInt(n,0)),n<=0&&st.count()<=0)||i.setItem(w,n)},setRenderList:function(n){tt(n);v&&lt(n)},setPreviousSuggestedSitesData:function(n){et=n;et&&et.lastUpdated>0&&et.lastIndex>=0&&i.setObject(b,et)}}}function nt(n){return n==null||n.indexOf("data:image")>=0?null:"https:"+n}function tt(n){var t=n&&n.getJson();t&&t.length?i.setObject(e,t):i.removeObject(e)}function st(n){f=it(n);f.count()>0&&!i.getItem(e)&&tt(f);g()}function it(n){var t=new r.topSiteCollection;return n&&n.forEach(function(n){var i=new r.topSite({color:n.faviconforegroundcolor?u.rgbNumberToCssHexColor(n.faviconforegroundcolor):"#000",background:n.faviconbackgroundcolor?u.rgbNumberToCssHexColor(n.faviconbackgroundcolor):"#fff",icon:n.faviconurl||n.faviconbase64,title:n.title,siteUrl:n.url,itemId:n.itemid,slotIndex:n.slotindex,type:h[n.sourcetype]});i.type&&t.add(i)}),t}var p="appInstallState",c="removedTopSites",o="removedTopSiteUrls",w="maxPrePopulatedSites",e="renderedSites",b="suggestedTopSites",l="frequentSites",s=r.utils,rt=t.constants.displayOptionValues,k=t.getDisplayOption(),ut=500,h={"default":"curated",frequent:"frequent",appromo:"suggested",userselectedwebsite:"user"},d={"default":"cms",frequent:"site",appromo:"cms",userselectedwebsite:"site"},a={};Object.keys(h).forEach(function(n){a[h[n]]=n});var ft=i.getItem(e),v=n.features.TopSiteStorage,f=null,y={};!v||ft||i.getItem(o)?g():n.getTopSitesAsync().then(function(n){st(n)})});define("topSitesController",["topSitesModels","topSiteViews","topSitesStorage","perfMarker","serviceuihelper","browserAccess","headData","mediator","viewport","appHelper","spartanTrackingHelper","errorCategory","coachMarks"],function(n,t,i,r,u,f,e,o,s,h,c,l){function et(r){var c,y,rt;if(v=document.getElementById("js-topsites"),!v){ft(!1);return}nt=r||nt;document.body&&document.body.classList.add("has-ts");var f=g.tryParseInt(v.getAttribute("data-maxcount"),8),h=i.getMaxCurated(f),w=g.tryParseInt(v.getAttribute("data-maxaddsuggested"),4),et=g.tryParseInt(v.getAttribute("data-maxsuggested"),0),tt=u.features.TH2Features;tt=!0;h=Math.min(f-1,h);var ct=v.getAttribute("data-useradded"),e=tt&&ct==="true",vt=v.getAttribute("data-inline-pin-to-taskbar-enabled")==="true",yt=v.getAttribute("data-inline-actions-disabled")==="true",pt=v.getAttribute("data-app-install-enabled")==="true";d=new bt(!0,pt);c=v.getAttribute("data-topsites");i.initialize(new n.topSiteCollection(c&&JSON.parse(c)));y=i.getCurated();a=new n.topSites;a.initialize({canAddUserSites:e,curatedSites:y,deletedDomainLookup:i.getDeletedDomainLookup(),deletedUrlLookup:i.getDeletedUrlLookup(),maxTopSiteCount:f,maxCuratedCount:h,maxAddSuggestionsPerGroup:w,maxSuggestedCount:et,previousRenderList:i.getRenderList(),stackingStrategy:b.topSiteStackingStrategy[e?"curatedFirst":"frequentsFirst"],suggestedSitesData:i.getPreviousSuggestedSitesData(),showFrequents:u.showFrequents()});y.count()||require(["track"],function(n){n.trackAppErrorEvent(l.getCuratedSitesData)});p=new t.topSitesView(v,{isUserAddedSitesEnabled:e,appLinkHandler:d,isInlinePinToTaskbarEnabled:vt,isInlineTopSitesActionsDisabled:yt});p.addTopSiteCommand.listen(ot);p.removeTopSiteCommand.listen(ht);p.pinTopSiteCommand.listen(lt);p.pinTopsiteToTaskbarCommand.listen(at);e&&p.dragAndDropCommand.listen(st);p.bind(n.createChildBindingContext(a,null));rt=v.getAttribute("data-showfrequents")!=="false";i.getFrequents(rt?f+w:0,function(n){it.frequentSitesCount=n&&n.count()||0;a.setFrequents(n);var t=a.getSitesToRender(!0),i=d.updateAppInstalledState(t,function(){k(!0,!1);return},p.renderAppLinks);i.length&&d.canLaunchStore()&&v.className.indexOf("hover")>=0&&require(["trackInfo"],function(n){n.updateTemplValue("tshover:1")})});o.sub(s.sizeChangeEventName,function(){ut(v,!0)});o.sub(b.events.changeFreqsVisibility,function(n){a.showFrequents(n);k(!1,!0)})}function k(n,t){var r=a.getSitesToRender(t),u;p.render();ft(!0);i.setMaxCurated(a.getDisplayedCuratedCount());i.setRenderList(r);i.setPreviousSuggestedSitesData(a.getSuggestedSitesData());pt(r);n&&(f.features.CanQueryFavIcons&&(u=r.filter(function(n){return!n.icon&&n.type===b.topSiteType.user}).map(function(n){return n.siteUrl}),f.getFavIconsAsync(u).then(function(n){vt(n)})),f.features.CanMapUrlsToAppIds&&require(["c.pageComplete"],function(){var n=r.filter(function(n){return n.domainAndPath&&n.type!==b.topSiteType.curated}).map(function(n){return n.domainAndPath});f.getAppIdMappingAsync(n).then(function(n){yt(n)})}))}function ut(n,t){if(y){var i=n.querySelector(".addsite"),r=i?i.getBoundingClientRect():null;y.positionAddDialog(n.getBoundingClientRect(),r,t,nt.addDialogPosition)}}function ot(i,r,u){w&&w.hide();y=y||new t.topSiteAddDialog(document.getElementById("add-dialog"));y.bind(n.createChildBindingContext(a,null));y.newTopSiteCommand.clear();y.newTopSiteCommand.listen(function(n,t){a.addUserTopSite(t,r);d.updateAppInstalledState([t],function(){y.dismissedCommand.clear();y.newTopSiteCommand.forget(this);y.hide();k(!0,!0);var n=wt(t.siteUrl);n>=0&&p.focus(n)})});y.dismissedCommand.clear();y.dismissedCommand.listen(function(n,t){t||setImmediate(function(){p.focus(r)})});ut(u,!1);y.show()}function st(n,t,i){a.moveSite(t,i);k(!0,!0)}function ht(n,t){var r=a.getSitesToRender(),e=r.findIndexByKey(t,function(n){return n}),o=r.clone(),u;a.removeTopSite(t)&&(f.features.ServiceUIAvailable&&f.removeFrequentSite(t.siteUrl),u=i.deleteSite(t),ct(e,o,u),setImmediate(function(){k(!0,!0)}))}function ct(n,i,r){var u,f;if(!w){if(u=document.getElementById("topsite-undo-dialog"),!u)return;w=new t.topSiteUndoDeletedDialog(u)}w.undoTopSiteCommand.clear();w.undoTopSiteCommand.listen(function(){var t=i.get(n);t&&((t.type===b.topSiteType.frequent||t.type===b.topSiteType.curated)&&(t.type=b.topSiteType.user),t.itemId=null,r.undo(),a.restoreRenderList(i),w.undoTopSiteCommand.forget(this),w.hide(),k(!0,!0),setImmediate(function(){p.focus(n)}))});f=document.activeElement;w.show();w.hideDialogCommand.listen(function(){})}function lt(n,t){a.togglePinnedState(t);k(!0,!0)}function at(n,t){var i=t.hasSchemelessCmsIcon();i||!t.icon.match(/^data:image\/png/i)?kt(t.icon,i,function(n){u.pinTopSiteToTaskbarAsync(t.title,t.siteUrl,n)}):u.pinTopSiteToTaskbarAsync(t.title,t.siteUrl,t.icon)}function ft(n){if(tt||(tt=!0,define("c.topSitesReady",1)),n&&!rt){var t="TTTS";rt=!0;window.windowsPerfMarker(t);r(t,!0)}}function vt(n){var e,i,u,t,r,o,f;if(typeof n=="object"){e=a.getSitesToRender();i=[];for(u in n)t=n[u],t.icon&&e.each(function(n,r){n.siteUrl===u&&n.icon!==t.icon&&(n.icon=t.icon,n.background=t.background,n.color=t.color,n.backgroundFromAlgo=!0,i.push({site:n,index:r}))});if(i.length){for(r=0,o=i.length;r<o;r++)f=i[r],a.addUserTopSite(f.site,f.index);k(!1,!0)}}}function yt(n){var f=v&&v.getAttribute("data-invalid-app-urls"),i=f&&f.split("|"),r=i?i.length:0,t,u;(r||Object.keys(n).length)&&(t=!1,u=a.getSitesToRender(),u.each(function(u){var c=u.siteUrl,l=u.domainAndPath,s=!0,f=n[l],e,h,o;if(f){if(r)for(e=0;e<r;e++)if(h=i[e],c.indexOf(h)>0){s=!1;break}s?(u.title=f.title,u.hasAddOns=f.hasAddOns,o=[],f.packageFamilyName&&o.push(f.packageFamilyName),f.productId&&o.push(f.productId),u.setAppIds(o,!0),u.installEnabled==null&&f.isFree&&d.canInstallApp()&&(u.installEnabled=!0),t=!0):u.hasApp()&&(u.setAppIds(null,!0),t=!0)}}),t&&d.updateAppInstalledState(u,function(){k(!1,!0);require(["trackInfo"],function(n){n.updateTemplValue("tsAppIdMapping");o.pub("ViewabilityUpdatedEvent")})}))}function pt(t){var f=t.filter(function(n){return!!n.siteUrl}).count(),u,r;f||(u={cc:i.getCurated().count(),fc:it.frequentSitesCount,uc:i.getRenderList().filter(function(t){return t.type==n.constants.topSiteType.user}).count(),mc:i.getMaxCurated(),dc:Object.keys(i.getDeletedDomainLookup()).length},r=l.zeroTopSitesError,require(["track"],function(n){n.trackAppErrorEvent({errId:r.errId,errSource:r.errSource,errMsg:JSON.stringify(u)})}))}function wt(n){var t=-1;return a.getSitesToRender().each(function(i,r){if(i.type===b.topSiteType.user&&i.siteUrl===n)return t=r,!1},null,!0),t}function bt(n,t){function w(t){var r=l[t.pid];r&&(t.success&&(s[r.aumId||r.pfn]=!0,n&&i.setAppInstallsCache(s)),a.forEach(function(n){n(t)}))}function b(t,r,u){var o,e;if(!f.features.CanGetAppInstalledState){r();return}o=!1;t=h.filterAppIdsForAppInstallStateCheck(t,f.features.CanLaunchAppWithPfnOrAumId);e=function(t,r){t&&t.forEach(function(n){s[n.appId]=n.installed});n&&i.setAppInstallsCache(s);r&&r();return};t.length?(f.getAppInstalledStateAsync(t).then(function(t){var i=n&&o?u:r;e(t,i)}),n&&!t.some(function(n){return!s.hasOwnProperty(n)})&&(o=!0,e(null,r))):e(null,r)}var r=this,s=n&&i.getAppInstallsCache()||{},l={},a=[],v=f.features.CanLaunchApp,y=u.features.CanInstallApp,p=!e||!e.clientSettings||!e.clientSettings.os_region||!e.clientSettings.apps_locale||e.clientSettings.apps_locale.split("-")[1]===e.clientSettings.os_region;u.features.CanInstallApp&&o.sub(u.events.appInstallProgress,w);r.canInstallApp=function(){return y&&t};r.canLaunchApp=function(){return v};r.canLaunchStore=function(){return p};r.getTopSiteAppInstallState=function(n){var t=n.appIds,i,u,r;if(!t||!t.length)return null;for(i=0,u=t.length;i<u;i++)if(r=t[i],s[r])return{appId:r,installed:!0}};r.launchApp=function(n){v&&f.launchApp(n)};r.updateAppInstalledState=function(t,i,r){var u=[];return(t.each||t.forEach).call(t,function(t){var i={};t.appIds&&t.appIds.forEach(function(t){n?u.push(t):s[t]==null&&u.push(t);var r=h.tryParseAppId(t);r.pfn&&(i.pfn=r.pfn);r.aumId&&(i.aumId=r.aumId);r.bigCatId&&(i.bigCatId=r.bigCatId)});["pfn","aumId","bigCatId"].forEach(function(n){var t=i[n];t&&(l[t]=i)})}),b(u,i,r),u};r.installApp=function(n,t){c.installAppAndTrack(n,t)};r.addAppInstallListener=function(n){a.push(n)}}function kt(n,t,i){var r=new Image;r.setAttribute("crossOrigin","anonymous");r.onload=function(){var n=document.createElement("canvas"),u=n.getContext("2d"),t;n.height=this.height;n.width=this.width;u.drawImage(r,0,0);t=n.toDataURL("image/png");i(t)};r.src=t?"https:"+n:n}var tt=!1,g=n.utils,b=n.constants,nt={addDialogPosition:b.addDialogPosition.bottom},p=null,y=null,w=null,d,a,it={},v,rt;return{initialize:et}});define("staticsLoaderHelper",["document"],function(n){function r(r){if(t&&r){var u=n.createElement("script");u.src=i(r);u.async=!0;t.appendChild(u)}}function u(r,u){if(t&&r){var f=n.createElement("link");return f.rel="stylesheet",f.href=i(r),f.media="all","function"==typeof u&&f.addEventListener("load",u),t.appendChild(f),!0}}function i(n){return n.replace(/&amp;/g,"&")}var t=n.getElementsByTagName("head")[0];return{loadJs:r,loadCss:u}});define("spartanTrackingHelper",["window","serviceuihelper","browserState","track","trackInfo","trackingConstants","telemetry.constants","asimovHelper","domHelper","getCookie","errorCategory"],function(n,t,i,r,u,f,e,o,s,h,c){function l(t){n.console&&n.console.log&&console.log(t)}function a(n,f){if(n){var s=t.tryUpdateTelemetryFields(n),o=n.sitePage;u.updateSitePage(o.templ,o.flightid,o.requestId);u.updateFeedMetadata(o.feedId,o.feedName,o.feedType);s||(require(["persistentStorageManager","c.trackExtComplete"],function(n){var u={e1:null,scp:y(n.fetchProperty("StructuredDataCardsUserPreference"))},o;t.features.CanHideOrShowFrequents&&(u.sf=t.showFrequents()?1:0);o=i.getEdgeExperiments();o instanceof Array&&o.length&&(u.ex=JSON.stringify(o));f&&(u.ar=1,r.preventBeacon(e.Ctag),r.preventBeacon(e.Comscore));r.trackPage(u)}),require(["postdata"],function(n){n.post()}))}}function v(n){f&&f.trackingData&&(f.trackingData.lastIndex=n)}function y(n){var t,e,i,l,o,s,r,c,f;if(!n)return"";t=[];for(e in n)i=n[e],i&&i.v&&(l=i.hasOwnProperty("p")?i.p:Number.MAX_VALUE,t.push({i:l,n:e}));for(t.sort(function(n,t){return n.n.length-t.n.length}),o=[],s=t.length,r=0;r<s;r++){var a=0,u="",h=t[r],v=h.n.length;do u=h.n.substring(0,++a);while(o.indexOf(u)!==-1&&a<v);h.n=u;o.push(u)}for(t.sort(function(n,t){return n.i-t.i}),c=[],f=0;f<s;f++)c.push(t[f].n);return c.join(",")}function p(n){var t=c.missingContentError,i=t.errMsg+n;r.trackAppErrorEvent({errId:t.errId,errMsg:i,errSource:t.errSource})}function w(n){var t=c.riverJsonParseError,i=t.errMsg+n;r.trackAppErrorEvent({errId:t.errId,errMsg:i,errSource:t.errSource})}function b(n,i){var u,f;n&&i&&(u=o.generateCV(),t.installApp(n,u),f=JSON.tryParse(k(i))||{},f.cv=u,r.trackEvent({type:"click_nonnav",target:i},i,null,JSON.stringify(f)))}function k(n){var t=u.telemetryHLAttribute,i=s.selfOrAncestorWithAttribute(n,t);return i&&i.getAttribute(t)}return{isImpressionSuppressed:!1,log:l,trackMissingContentError:p,trackJsonParseError:w,installAppAndTrack:b,updateTrackingInfo:a,updateLastTelemetryIndex:v}});define("delayLoadModules",["window","location","document","ajax","headData","displayOptionsHelper","serviceuihelper","spartanTrackingHelper","staticsLoaderHelper","track","trackingConstants","trackInfo","mediator","perfMarker","freExperienceHelper","getCookie","setCookie","escape","errorCategory","visibility","appCacheHelper","spartanConstants","spartanPageDetectionHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){function pi(){var n=ut.getAttribute("data-ajaxurl"),i;if(!n)return null;var u=n.indexOf(pt)<0?pt:yt,t=[],r=ir();for(i in r)t.push(i+"="+r[i]);return t.push(hi),n+u+t.join(yt)}function wi(n){if(!n){vt("Invalid response for the request",k.invalidAjaxResponse);it();return}si(function(){ki(n)},lt&&yi)}function bi(){var n=k.dhpNoAppCacheError,t=n.errMsg+"Market: "+p(dt);h.trackAppErrorEvent({errId:n.errId,errMsg:t,errSource:n.errSource})}function ki(t){var g=new n.DOMParser,l=g.parseFromString(t,"text/html"),r=l&&l.getElementById(ht),a,v,y,b,k,h,f,c,e,d;if(!r){rt(ht);return}if(et||lt||!p(dt)||(w(nt.cookieNames.noAppCache,"",-1),require([ti],function(){bi()})),a="data-css",v=r.getAttribute(a),!v){rt(a);return}if(y="data-js",b=r.getAttribute(y),!b){rt(y);return}if(k=r.getAttribute("data-xd-id"),ut.setAttribute("data-xd-id",k),u.kernelXd=u.xdid,u.xdid=k,or(sr(r),r.getAttribute("data-sso")),h=null,f=r.getAttribute("data-track-info"),f)try{h=JSON.parse(f.replace(/&quot;/g,'"'))}catch(tt){ii("Error parsing trackInfo from the AJAX response: "+f,f)}if(c=r.getElementsByClassName("cstli-js"),c&&c.length&&o.updateLastTelemetryIndex(c[0].getAttribute("data-lastIndex")),e=i.getElementById(bt),!e){rt(bt);return}u.ispreload?ri():e.addEventListener("transitionend",di);s.loadCss(v,function(){ui(e,r,h)});s.loadJs(b);oi();er(l);d=r.getAttribute("data-adsurl");s.loadJs(d);require(["delayLoadModulesTest"],function(){ui(e,r,h)})}function ii(n,t){o.log(n);o.trackJsonParseError(t)}function rt(n){o.log("Cannot find "+n);o.trackMissingContentError(n);l.trackCustomProperty("dq","0");it()}function di(n){n.target&&n.target.id===ht&&n.propertyName==="opacity"&&ri()}function ri(){var t="TTAFAnimation";v(t,!0);n.windowsPerfMarker(t);define(vi,1);ci=!0}function ui(n,t,r){var e,f;if(n.appendChild(t),e=i.getElementById(kt),!e){rt(kt);return}f=[gt];ot&&f.push(ct);i.querySelector(".srl-js")&&f.push("c.readingListReady");require(f,function(){var i,f,s;define("c.readyForRiver",1);n.classList.add("populated");i=!1;f=t.getAttribute("data-version");f&&(s=u.clientSettings,s&&s.v!==f&&(i=!0));o.updateTrackingInfo(r,i);gi(e)})}function gi(n){if(!fi(n))var i=0,t=setInterval(function(){fi(n)?clearInterval(t):!d.isHidden()&&++i>=30&&(clearInterval(t),vt("Reached maximum attempts for river section items. Firing TrackPage beacon",k.riverRenderError),it())},200)}function fi(n){return n&&nr(n,"populated")?(require([ni],function(){o.log("River section items are populated now. Firing the tracking beacon.");it(!0)}),!0):!1}function nr(n,t){return n.classList&&n.classList.contains(t)||(" "+n.getAttribute("class")+" ").indexOf(" "+t+" ")>=0}function tr(){require([gt],function(){var n={sitePage:{flightId:l.sitePage.flightId,requestId:p("aid")}};o.updateTrackingInfo(n)})}function ir(){var o=0,u="",f=rr(),e=i.getElementById("maincontent"),t,s,r,n;if(e&&(u=e.getAttribute("data-id"),t=e.querySelectorAll("[data-m]"),t))for(s=t.length,r=s-1;r>=0;r--)if((n=ur(t[r],"data-m"),n)&&(f||(f=n.i),n.p===+u)){o=n.o;break}return{telemetrystartindex:f,telemetryparentindex:u,telemetryordinalstartindex:o+1}}function rr(){var n=0;return c&&c.trackingData&&!isNaN(parseFloat(c.trackingData.lastIndex))&&isFinite(c.trackingData.lastIndex)&&c.trackingData.lastIndex>=1&&(n=c.trackingData.lastIndex),n}function ur(n,t){var i=n.getAttribute(t);if(i)try{return JSON.parse(i)}catch(r){ii("parseDomAttributeJson failed to parse attribute '"+t+"': "+r,i)}return null}function it(n){n||tr();fr()}function fr(){var t=u.ispreload?0:1,n;if(f.isDisplayOptionSetToBlank()){at(t);return}n=[];et&&ot&&n.push(ct);ft&&f.shouldRenderRiver()&&n.push(ni);require(n,function(){at(t)});at(u.dms||6e3)}function at(n){if(!st){if(!n){ei();return}setTimeout(function(){ei()},n)}}function ei(){st||(st=!0,a.pub("ViewabilityUpdatedEvent"),define(ti,1))}function oi(){if(!wt){var n=ut.getAttribute("data-jquery");s.loadJs(n);wt=!0}}function er(n){var t=i.getElementById("meCtrl"),r;t&&(r=n.getElementById("signed-in-js"),r&&u.signedin?(t.replaceChild(r,t.children[0]),u.clientSettings.mecontroluri=r.getAttribute("data-me-control-js")):u.modified&&g.forceUpdate(),t.classList.add("loaded"))}function si(n,t){t?require([t],n):n()}function or(t,i){var r=0,f=u.signedin;t&&(r=t.isAuthenticated=t.isAuthenticated&&t.isAuthenticated.toUpperCase()==="TRUE",t.cid=typeof t.cid=="number"?t.cid.toString():t.cid);u.signedin=+r||0;u.modified=f!==u.signedin;u.sso=!r&&i;t&&n.define("meControlRpsModel",t)}function sr(n){var t=n&&n.dataset;return t&&{cid:t.cid,memberName:t.memberName,lastName:t.lastName,firstName:t.firstName,isAuthenticated:t.isAuthenticated,meUrl:t.meUrl,signOutUrl:t.signOutUrl,signInUrl:t.signInUrl}}function vt(n,t){n&&o.log(n);t&&h.trackAppErrorEvent(t)}var ut=null,ft=null,hi="ou="+b.urlPart(t.href),yt="&",pt="?",wt=!1,st=!1,ci=!1,li=t.pathname,et=tt.isSomeNtpPage,ai=!et&&li.indexOf("/dhp")>=0,ht="contentsection",bt="delayloadedcontent",kt="riversection",dt=nt.cookieNames.marketSelection,gt="c.appCacheUpdateCheckDone",ni="c.riverReady",ct="c.topSitesReady",ti="c.pageComplete",vi=nt.canaries.ttafAnimation,yi="c.topSites",lt=f.shouldRenderTopSites(),ot;return function(){ut=i.getElementsByTagName("head")[0];ft=pi();var n=ft&&f.shouldRenderRiver()&&!(ai&&t.search&&t.search.toLowerCase().indexOf("enableregulatorypsm=1")>=0);if(ot=i.querySelector("[data-section-id='section.apps.topsites']"),!n){si(oi,lt&&ot&&ct);a.pub("updatePageInstance");it();return}e.getNtpWebIG()||(a.pub("updatePageInstance"),require(["postdata"],function(n){n.post()}));y.setFreExperienceMarker(et);r.get({url:ft,dataType:"html",success:wi,error:function(n,t){var i=k.ajaxServerError,r={errId:i.errId,errMsg:i.errMsg+n,errSource:i.errSource};vt("Delay loading failed: "+t,r);it()}})}});require(["browserAccess"],function(n){n.features.PersistentStorage?n.fetchPageSettingsAsync().then(function(n){define("initialPersistentSettings",n||"N/A")}):define("initialPersistentSettings","N/A")});define("pageCustomization",["window","document","track","location","displayOptionsHelper","serviceuihelper","browserAccess","browserState","mediator","cookieComplianceHelper","setCookie","getCookie","persistentStorageManager","newsFeedFilterHelper","navigator","freExperienceHelper","confirmationDialog","pageCustomization.tokens","sdCardFilterHelper","spartanSharedHelper","spartanConstants","navigation","c.dom"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){function bu(){var n=t.getElementById(uu),r,i;n&&(r=n.querySelector(dr),sr(r),i=n.querySelector(nu),i&&i.addEventListener(rt,cr))}function sr(n){n&&n.addEventListener(rt,oi)}function ku(n){ht=ht||t.getElementById(ru);tt&&ht&&(n?(tt.removeAttribute(wi),ht.classList.remove(vi)):(tt.setAttribute(wi,"true"),ht.classList.add(vi)))}function du(i){function g(n){if(e&&e.length){var t=e[0];n?(t.title=t.innerHTML="Skjul feed",t.classList.remove("hidden")):(t.title=t.innerHTML="Tilpas",t.classList.add("hidden"))}}var h,e,o,r;ur=i||{};ft=t.body;h=t.getElementById(kr);e=t.getElementsByClassName(ai);at=t.querySelector(tr);var w=at&&at.querySelector(fu),b=t.getElementById(ir),d=t.getElementById(rr),a=t.getElementsByClassName(yu),p=t.getElementsByClassName(pu);if(!y.onLine){ef(e);return}for(g(u.getNtpDisplayOptionValue()==et),tt=t.getElementById(iu),tt&&(st=ct=tt.value,tt.addEventListener(bt,vr)),n.addEventListener(gr,oi),h&&h.addEventListener(rt,gu),d&&d.addEventListener(rt,function(n){n.stopImmediatePropagation();nf()}),b&&b.addEventListener(rt,tf),w&&w.addEventListener(rt,function(n){n.preventDefault();f.openEdgeSettingsPane()}),yr(f.showFrequents()),s.sub("changeFrequentsVisibility",yr),require(["delayLoadModules","mediator"],function(n,t){for(o=a&&a.length,r=0;r<o;r++)a[r].addEventListener(rt,function(){var i=u.shouldRenderTopSitesOnly();pt(et,ur.forceRefresh||!i);t.pub("updatesearchformcodes");i&&(g(!0),u.configurePageToShowSuggestedContent(),l(nr)==="0"?(c(nr,"1",365,c.topDomain,"/"),wt()):n())})}),o=p&&p.length,r=0;r<o;r++)p[r].addEventListener(rt,cr);for(o=e&&e.length,r=0;r<o;r++)sr(e[r]);if(it=t.getElementsByName(ei),it)for(o=it.length,r=0;r<o;r++)it[r].addEventListener(bt,ar),it[r].addEventListener(bt,si),it[r].addEventListener(bt,hi);ci=v.setup();li=k.setup();s.sub(wu,oi);of()}function gu(){f.exitSettingsMode();f.enableOneBoxAnimation(!0);f.showOneBox(!0);lr();vr();v.hide();k.hide();ft.classList.remove(vt);var n=br();n&&n.classList.remove(vt);ft.scrollTop=0;s.pub(bi)}function hr(){h.grantCookieConsentAndDecorateLink(event,null,!0);var n=tt&&tt.options.length&&tt.value;return p.isEdgeStartModalOpen()&&(n=ut&&ut.options.length?ut.value:""),n&&n.toUpperCase()!==st.toUpperCase()?(ct=n,a.saveProperty(fi,{m:ct}),!0):void 0}function nf(){var n=t.getElementById(rr);rf();hr();var u=v.saveSelectedFilters(),f=k.saveSelectedFilters(),e={action:"save",fromShow:pi[kt],toShow:pi[gt],fromMkt:st,toMkt:ct,fromTopics:ci,toTopics:u,fromSDCardsSelection:li,toSDCardsSelection:f},o=JSON.stringify(e);i.trackEvent({type:rt+"_nonnav",target:n},null,r.href,o,"customization_page_save");wt()}function tf(){w.show(b.resetDialogTitle,b.resetDialogMessage,b.resetDialogConfirm,b.resetDialogCancel,function(n){var u,f;n&&(pt(et,!1),a.clear(),e.features.TopSiteStorage&&e.clearTopSites(),u=t.getElementById(ir),i.trackEvent({type:"click_nonnav",target:u},null,r.href,ou,"customization_page_reset"),ui||(f=nt.getParamsFromUrl(r.href).locale||"",a.saveProperty(fi,{m:f})),wt())})}function rf(){var n,i,r;for(it=it||t.getElementsByName(ei),ot=ot||it&&it.length,i=0;i<ot;i++)if(n=it[i],lt===ii){if(n.checked){r=gt=Number(n.value);pt(r);break}}else lt===ri&&(r=gt=n.checked?dt:et,pt(r))}function oi(){var n,i;y.onLine&&(s.pub(fr),uf(),lr(),k.show(),v.show(),f.showOneBox(!1),f.enableOneBoxAnimation(!1),ft.classList.add(vt),n=br(),n&&n.classList.add(vt),i=t.getElementsByClassName(eu),i&&i[0].focus())}function uf(){var n,i;for(kt=gt=u.getNtpDisplayOptionValue(),it=it||t.getElementsByName(ei),ot=ot||it&&it.length,i=0;i<ot;i++)n=it[i],lt===ii?(n.checked=n.value==+kt,n.checked&&(si.call(n),hi.call(n))):lt===ri&&(n.checked=dt==+kt,ar.call(n),si.call(n),hi.call(n))}function cr(){pt(dt,!0)}function pt(n,t){u.setNtpDisplayOptionValue(n);t&&wt()}function wt(){s.pub("forcePageReload","2");ft.classList.remove(vt);ft.classList.add(su);f.enableOneBoxAnimation(!0);f.showOneBox(!0);ui||u.shouldRenderTopSites()||!l(ki)&&l(ti.marketSelection)?ff():d.refreshPage()}function ff(){require(["appCacheHelper"],function(n){n.forceUpdate()})}function lr(){st&&tt&&(tt.value=st)}function si(){var t=+this.value,n=t===et;ku(n);k.enableFilterOptions(n)}function hi(){v.enableFilterOptions(!(this.value&&Number(this.value)))}function ar(){lt===ri&&(this.value=this.checked?dt:et)}function vr(){tt&&tt.value&&(v.updateFilters(tt.value),k.updateFilters(tt.value))}function ef(n){for(var f=n&&n.length,r="hidden",u=t.getElementById(tu),i=0;i<f;i++)n[i].style.visibility=r;u&&(u.style.visibility=r)}function yr(n){at&&(at.style.display=n?"none":"block")}function of(){var i=a.fetchProperty(fi),n=p.getStartModalMask();n&&(er=t.getElementById(cu),ut=t.getElementById(lu),ni=t.getElementById(au),or=t.getElementById(hu),yt=n.getAttribute(vu),n.addEventListener(rt,wr),er.addEventListener(rt,function(n){n.stopPropagation()}),or.addEventListener(rt,wr),ni.addEventListener(rt,sf))}function sf(){var f=hr(),t,n,u;f?(t=ut&&ut.options&&ut.options[ut.selectedIndex].getAttribute("data-js-sug")==="1",n={suggested:t,toMkt:ct},yt&&yt.indexOf("_lt")>0&&(n.showCntnt=!0),u=JSON.stringify(n),i.trackEvent({type:rt,target:ni},null,r.href,u),wt()):(i.trackEvent({type:"click_nonnav",target:ni},null,r.href,yt+"_dismiss_getstarted"),pr())}function pr(){p.closeEdgeStartModal();p.setFreExperienceMarker(ui)}function wr(n){n&&(n.stopPropagation(),i.trackEvent({type:"click_nonnav",target:n.target},null,r.href,yt+"_dismiss_outer"));pr()}function br(){return t.getElementById("searchhistory")}var ft,kr="cancelsettings",bt="change",rt="click",ti=g.cookieNames,st,kt,ci,li,ai="customizesettings",dr="."+ai,vi="disabledMarketSelection",yi=o.constants.displayOptionValues,dt=yi.TopSitesOnly,et=yi.TopSitesAndSuggestedContent,pi=["TopSitesAndNewsFeed","TopSites","Blank"],wi="disabled",gr="entersettingsmode",bi="hideCustomizationPage",nu=".hidenewsfeed",tu="inlinesettings",ii="radio",ri="checkbox",ui=r.pathname.indexOf("/ntp")>=0,fi="MarketSelection",tt,iu="marketselectorsettings",ht,ru="marketselectionsectionsettings",gt,ct,ki=ti.noAppCache,di=".ntoptions",gi=t.querySelector(di),lt=gi?gi.getAttribute("data-type")||ii:"",ei="displayOption",it,ot,uu="ntss",nr=ti.childMode,tr=di+" p",fu=tr+" a",at,eu="settingscontent",ir="resetsettings",ou='{action:"reset"}',su="savesettings",rr="savesettings",ur,fr="showCustomizationPage",vt="showsettings",er,hf=f.features.TH2Features,or,hu="startmodalclose",cu="startmodal",ut,lu="startmodalmarketselector",ni,au="startmodalstart",yt,vu="js-tpre",yu="showtopsitesandnewsfeed",pu="showtopsites",wu="triggerShowCustomizationPage";return require([g.canaries.marketCookieNotFound],function(){c(ki,1,3650)}),{bindRiverSectionHeaderButtons:bu,hideCustomizationPageEventName:bi,render:du,showCustomizationPageEventName:fr}});define("newsFeedFilterHelper",["document","persistentStorageManager"],function(n,t){function v(){if(i=n.getElementById("filter_options"),s=n.getElementById("filters_holder"),s&&i&&(s.appendChild(i),r=i&&i.querySelectorAll("button"),f=r&&r.length,f)){for(var t=0;t<f;t++)r[t].addEventListener("click",tt);return nt()}return[]}function y(){var t,s,o,n;if(i&&i.classList&&i.classList.add("displayed"),r)for(t=u?u.v:[],s=t&&t.length,o=0;o<f;o++)n=r[o],s>0&&t.indexOf(n.getAttribute(l))>-1?n.classList.add(e):n.classList.remove(e),w(n)}function k(){i&&i.classList&&i.classList.remove("displayed")}function d(){var i={},n,o,u;for(i.v=[],n=0;n<f;n++)r[n].classList.contains(e)&&(o=r[n],u=o.getAttribute(l),u&&i.v.push(u));return t.saveProperty(h,i),b(i.v)}function p(n){var t,u;if(i&&i.classList)for(n?i.classList.remove(c):i.classList.add(c),t=0;t<f;t++)u=r[t],u&&(n?u.removeAttribute("disabled"):u.setAttribute("disabled","true"))}function g(){return u=t.fetchProperty(h),u&&u.v!=undefined}function nt(){return u=t.fetchProperty(h),u?b(u.v):[]}function tt(){this.classList&&this.classList.toggle(e);w(this)}function w(n){if(n){var t=n.classList&&n.classList.contains(e),i=t?n.getAttribute("data-al-on"):n.getAttribute("data-al-off"),r=t&&n.getAttribute("data-tt-on")?n.getAttribute("data-tt-on"):n.getAttribute("data-tt-off");i&&n.setAttribute("aria-label",i);r&&n.setAttribute("title",r)}}function it(n){require(["refreshModules","headData"],function(t,r){var u=r.moduleapi,f;u&&i&&(p(!1),o=new Image,o.src=i.dataset.loadingGif,i.insertBefore(o,i.children[0]),o.classList.add("loading"),u=u.replace(/\/\D\D-\D\D\//,"/"+n+"/"),f={loadEmptyContent:!0},t(i,"pcsl=true",null,null,!0,u,n,!0,f).done(function(){v();y()}))})}function b(n){var i,u,t,f,r;if(n){for(i=[],u=n.length,t=0;t<u;t++)f=n[t].toUpperCase(),r=a[f],r&&i.push(r);return i.sort()}return[]}var c="dfa",r,i,f,l="data-c",s,e="sf",u,h="TopicSelection",a={A:"News",B:"Weather",C:"Entertainment",D:"Sports",E:"Finance",F:"Lifestyle",G:"Health",H:"FoodAndDrink",I:"Travel",J:"Autos",K:"Video",L:"Homepage",AW:"World",AU:"US",AC:"Crime",AP:"Politics",AT:"Technology"},o;return{enableFilterOptions:p,hasSavedSelectedFilters:g,hide:k,saveSelectedFilters:d,setup:v,show:y,topicsTelemetryValueMapping:a,updateFilters:it}});define("sdCardFilterHelper",["document","persistentStorageManager","mediator"],function(n,t,i){function c(){var e,i,f,s;if(r=n.getElementById("sdcardsettings"),e=n.getElementById("sdcardsettings_holder"),e&&r){if(e.appendChild(r),i=r.querySelectorAll(o),i)for(f=0;f<i.length;f++)s=i[f],s.addEventListener("click",tt);return t.fetchProperty(u)||[]}return[]}function l(){var n,f,i,h;if(r&&(r.style.display="",r.classList&&r.classList.add("displayed"),n=r.querySelectorAll(s),f=n&&t.fetchProperty(u),f))for(i=0;i<n.length;i++){var e=n[i],l=e.getAttribute("data-storage-key"),o=f[l],c=!o||o.v==undefined||o.v;e.checked=c;h=e.parentElement.querySelector(v);h.innerText=h.getAttribute("data-"+(c?"on":"off"))}}function y(){r&&r.classList&&r.classList.remove("displayed")}function p(){var n=t.fetchProperty(u)||{},e=r&&r.querySelectorAll(s),f;if(e){for(f=0;f<e.length;f++){var l=e[f],o=l.getAttribute("data-storage-key"),c=n[o]||{};c.v=+l.checked;n[o]=c;i.pub(h+o,c)}t.saveProperty(u,n)}return n}function a(n){var t=r&&r.querySelectorAll(o);t&&(n?(d(t),r.classList.remove(e)):(k(t),r.classList.add(e)))}function w(){return!!t.fetchProperty(u)}function b(n){require(["refreshModules","headData"],function(t,i){var u=i.moduleapi;u&&r&&(a(!1),f=new Image,f.src=r.dataset.loadingGif,r.insertBefore(f,r.children[0]),f.classList.add("loading"),u=u.replace(/\/\D\D-\D\D\//,"/"+n+"/"),t(r,"pcsl=true",null,null,!0,u,n,!0).done(function(){c();l()}))})}function k(n){for(var t=0;t<n.length;t++)n[t].setAttribute("disabled","true")}function d(n){for(var t=0;t<n.length;t++)n[t].removeAttribute("disabled")}function g(n,t){if(n){var i=n.getAttribute("data-al-"+(t?"on":"off"));n.setAttribute("aria-label",i)}}function nt(n,t){n&&(n.innerText=n.getAttribute("data-"+(t?"on":"off")))}function tt(n){var t=n&&n.currentTarget,i,r;t&&(i=t.parentNode&&t.parentNode.previousElementSibling,i&&(r=!i.checked,i.checked=r,g(t,r),nt(t.firstElementChild,r)))}var e="disabledMarketSelection",f,u="StructuredDataCardsUserPreference",o=".sw-input, .sw-focus",s=".sw-input",v=".switch .sw-focus span",r,h="sdcardfiltersaved";return{enableFilterOptions:a,hasSavedSelectedFilters:w,hide:y,saveSelectedFilters:p,sdCardFilterSavedEventPrefix:h,setup:c,show:l,updateFilters:b}});define("pageCustomization.tokens",function(){return{resetDialogTitle:"Er du sikker?",resetDialogMessage:"Hvis du nulstiller dine standardindstillinger, bliver dine sprogindstillinger og personlige indstillinger slettet.",resetDialogConfirm:"Nulstil",resetDialogCancel:"Annuller"}});require(["pageCustomization","c.dom"],function(n){n.render()});define("confirmationDialog",["document","confirmationDialog.tokens"],function(n,t){function k(){if(i=n.getElementById(y),i){c=i.querySelector(b);h=i.querySelector(w);var t=i.getElementsByTagName(p);u=t[0];r=t[1];f=n.getElementById("spfooter")}}function d(n,y,p,w,b){i&&(s=b,f&&f.setAttribute(a,-1),c.innerText=n||"",h.innerText=y||"",r.innerText=w||t.defaultCancelTitle,u.innerText=p||t.defaultConfirmTitle,r.onclick=function(){e(b,!1)},u.onclick=function(){e(b,!0)},r.onblur=function(){u.focus()},u.onblur=function(){r.focus()},window.addEventListener(l,v,!1),i.classList.add(o),r.focus())}function v(n){n.keyCode===27&&e(s,!1)}function e(n,t){window.removeEventListener(l,v,!1);f&&f.removeAttribute(a);i.classList.remove(o);n&&n(t)}var r,i,y="confirmationdialogmask",o="showconfirmationdialog",p="button",s,h,w="span",c,b="h3",u,l="keyup",f,a="tabindex";return{initialize:k,show:d}});define("confirmationDialog.tokens",{defaultCancelTitle:"Annuller",defaultConfirmTitle:"OK"});require(["confirmationDialog","c.dom"],function(n){n.initialize()});define("searchHistoryHelper",["eduSkuHtmlSearchProperties"],function(n){function i(n){t=Object.assign&&Object.assign(t,n)||n||{}}function r(i,r){var u,f;if(i&&i.Url)return u=i.Url,r&&(u+="&FORM="+r),t.addEduParams&&(f=n.getAsQueryParameterString(),f&&(u+="&"+f)),u}var t={addEduParams:!1};return{setup:i,processItemUrl:r}});define("searchHistory.tokens",{Header:"Seneste søgninger:",ManageHistoryText:"Administrer historik",ManageHistoryUrl:"https://www.bing.com/profile/history?rp=%2f&FORM=O2LH",SearchHistoryItemLinkText:"Seneste søgehistorikresultat {0} : {1}",SpartanFetchSearchHistoryUrl:"https://www.bing.com/profile/history/data",SpartanManageHistoryUrl:"https://www.bing.com/profile/history?FORM={0}"});define("searchHistory",["window","jquery","jqBehavior","format","pageInstance","trackInfo","viewAware","searchHistory.tokens","elementTrackingDecorator","track"],function(n,t,i,r,u,f,e,o,s){function c(i,h){function w(){e.currentView()&e.views.SIZE4COLUMN?(c+=h.fourColAdj,l++):(c=h.maxLength,l=h.maxResults)}function b(){t.ajax({url:h.shUrl,dataType:"text",cache:!1,xhrFields:{withCredentials:!0},success:function(n){k(n)}})}function k(n){var t=!1;t=f.sitePage&&f.sitePage.pageName=="channelplayerpage"?!0:!0;t?require(["c.deferred"],function(){y(n)}):y(n)}function y(n){var p,v,e,b,o,k,c,y,rt,ut,ft,et;try{if(n&&n.length>2&&(w(),p={},p=h.useEval?eval("("+n+")"):JSON.parse(n),v=p.UserHistory,v&&v.QuerySets&&(e=tt(v.QuerySets),e&&(e=e.slice(0,l)),b=e&&e.length,b))){for(o=t('<ul id="opensh"><li>'+h.shLbl+"<\/li><\/ul>"),k=u.getActivityId()||f.sitePage.requestId,c=0;c<b;c++)y=e[c],y&&y.Text&&o.append(it(y,k,c));rt=g();ut=rt.find(a);ut.remove();ft=r('<li class="clrsh"><a href="{1}" title="{2}">{0}<\/a><\/li>',h.manageHistory.manageText,h.manageHistory.manageURL,h.manageHistory.manageText);o.append(ft);et?(i.after(o),deferredPartialImpressionCall(o,k)):d(o,rt,s)}}catch(ot){}nt()}function d(n,r,u){var e={defaults:{n:"recentsearch"},selector:"ul,li>a",elementOverride:function(n,i){var r=t(n);r.attr("id")=="opensh"?i.n="searchhistory":r.parent().hasClass("clrsh")&&(i.n="managehistory")},visibilityCheck:!1},f;u&&u.setTrackingAttrs(n,r,e,!0);i.after(n);f=r.find(a);require(["track"],function(n){n.trackPartialImpression(f,!1)})}function g(){var n=t("#header-search");return n.length||(n=t("#searchhistory")),n}function nt(){h.captureTTSH&&(n.performance&&n.performance.mark("TTSH"),define("c.ttsh",1))}function tt(n){var i=null,t;if(!n)return i;for(t=0;t<n.length;t++)n[t].Type==h.queryType&&(i=n[t].Queries);return i}function it(n,i,r){var u=h.processItemUrl?h.bingUrl+h.processItemUrl(n,v):h.bingUrl+n.Url.replace(/FORM=[O|o]\d*MSN\d*/gi,"FORM={0}".format(v)),f,e;return u+="&refig="+i,u+="&httpsmsn=1",f=t("<a>").attr({href:u,title:n.Text,target:h.target}).text(n.Text),h.addAriaLabelToItems&&f.attr("aria-label",o.SearchHistoryItemLinkText.format(r+1,n.Text)),e=n.Text.length<c?"<li>":'<li class="shrink">',t(e).append(f)}var a="#opensh",p="cac";if(p="edgecac",!n.mscc||n.mscc.hasConsent()){var v=h.shfc,c=h.maxLength,l=h.maxResults;b()}}var h={shUrl:"https://www.bing.com/msnhomepagehistory.aspx",bingUrl:"https://www.bing.com",maxResults:4,queryType:"recent",maxLength:9,fourColAdj:8,target:"_blank",shLbl:o.Header,manageHistory:{manageText:o.ManageHistoryText,manageURL:o.ManageHistoryUrl},shfc:"PRHPHI",enableUnitTesting:!0,useEval:!0,captureTTSH:!1,addAriaLabelToItems:!1};return i(c,h)});define("getSpartanSearchFormCode",["spartanPageDetectionHelper","getCookie","displayOptionsHelper","browserAccess","browserState","location","navigation","deviceGroup"],function(n,t,i,r,u,f,e,o){return function(s){function p(){return l?"EDGNB1":"EDGSPH"}function y(n){switch(n){case"contentOff":return l?"EDGNB3":"EDNTHN";case"contentOn":return l?"EDGNB2":"EDNTHT"}}var c,l=r.isServiceUiAvailable()&&u.getThirdPartySearchProvider()&&!1,h=n.isDhpPage,v=n.isNtpPage,a;return n.isExtNtpPage?c=i.shouldRenderTopSitesOnly()?s?"ICECS2":"ICECH2":s?"ICECS1":"ICECH1":n.isIeNtpPage?(a=f.search,c=a&&e.getParamsFromUrl(a.toLowerCase()).ntlogo==="0"?"IENTS1":parseInt(t("FreWv"))>=2?"IENT2H":"IENTSH"):c=(h||v)&&o.isXbox?s?h?"EXBSP3":"EXBNT3":h?"EXBSP4":"EXBNT4":(h||v)&&t("child")?"EDGNTK":h?s?p():"EDGSH1":i.shouldRenderTopSitesOnly()?s?y("contentOff"):"EDGSH4":s?y("contentOn"):"EDGSH3",c}});define("searchHistoryIeNtp",["binding","location","navigation","format","searchHistory.tokens","searchHistoryHelper","getSpartanSearchFormCode","c.deferred"],function(n,t,i,r,u,f,e){function o(){var r=t.search,i=e(!1);n("searchHistory","#srchfrm").all({shfc:i,shUrl:u.SpartanFetchSearchHistoryUrl,manageHistory:{manageURL:u.SpartanManageHistoryUrl.format(i)},useEval:!1,captureTTSH:!0,addAriaLabelToItems:!0,processItemUrl:f.processItemUrl})}return{initialize:o}});require(["searchHistoryIeNtp"],function(n){n.initialize()});require(["searchHistoryHelper"],function(n){n.setup({addEduParams:!1})});g_ashsC=g_ashsC||{};g_hsSetup=function(){};define("autoSuggestSnR",["jquery","jqBehavior","pageInstance","trackInfo","mediator","getCookie","setCookie","format","track","location","window","document","headData","perfMarker"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function b(t,o){function w(n,t){return typeof n=="string"&&(!t||n.length>=t)}function g(n){return typeof n!="undefined"}function ft(){var n=new RegExp("\\b"+rt+"=0\\b","i");return f(it).match(n)}function et(){var i=vt(),n=l.createElement("script"),t;n.src=i;n.onload=ot;t=l.getElementsByTagName("head")[0];t.appendChild(n)}function ot(){o.delayBind<2&&v("TimeToFirstSearchAvailable",!0);var n=c[tt],t;n&&(t=n.fire)&&(n.fire=function(){arguments&&arguments[0]==="onSearch"&&at();t.apply(this,arguments)})}function st(){var n=ft();return g(c[p])?(c[p].enable(!n),lt(),1):t[0]&&h[0]&&!n?(o.delayBind==2&&(k=1),et(),1):0}function ht(){return w(f("_SS"),5)||e("_SS","SID=00",365,o.cookieDomain,"/"),1}function nt(t,i){t==0?i():t==1?n(l).ready(i):t==2&&ct(i)}function ct(n){var t=".asue";h.bind("click"+t,function(){n()&&h.unbind(t)}).bind("keyup"+t,function(i){i.which!=27&&i.which!=9&&n()&&h.unbind(t)})}function lt(){var t,r,i,u;d||(t=w(b.cn,1)?b.cn.split("+"):null,t&&w(t[0],1)&&(r=f(t[0]),w(r,4)&&(i=r.match(/SID=[\d(A-Z(a-z)]+/),i&&w(i[0],5)&&(d=i[0].substr(4)))));g(c[p])&&(u="sid",n.isFunction(c[p][u])&&c[p][u](d),k&&(k=0,l.activeElement==h[0]&&h.click()))}function at(){var i=t[0],n=i&&i.action&&i.action.indexOf("://")>=0?i.action:"",r;n&&(r=(n.indexOf("?")!==-1?"&":"?")+"msnst=AS",n=n+r);s.trackEvent({type:"submit",target:t[0]},null,n,h.val())}function vt(){return yt()}function yt(){var u,n;if(a.bingsnrurl&&a.bingsnrurl.length)return a.bingsnrurl;var t=a.locale||"en-us",e=i.getActivityId()||r.sitePage.requestId,f="us";return t&&(u=t.split("-"),u.length>=2&&(f=u[1])),n="{0}://www.bing.com/as/init?cc={1}&pt={2}&refig={3}".format(y,f,o.partnerEndpoint,e),o.delayBind<2&&(n+="&onload=1"),t.toLowerCase()!="en-us"&&(n+="&endpt=1"),n}var tt="sj_evt",it="SRCHHPGUSR",rt="AS",p="sa_inst",b=o.sharedCk,k=0,d,h=n("#"+o.inputId,t),ut;u.sub("autosuggestPreventSubmit",function(){ut=!1});nt(o.delayBind,st);nt(b.delay,function(){return ht()})}var y="https",w={formId:"srchfrm",inputId:"q",featureType:1,cookieExpiry:365,cookieDomain:"msn.com",partnerEndpointValue:"iceprime_homepage",sharedCk:{delay:1,ru:y+"://"+h.host+"/sck.aspx&form=MSN005",pu:y+"://www.bing.com/sck",cn:"_SS",domain:"msn.com"}},p=t(b,w);return p.resize=function(n){c.sa_inst&&c.sa_inst.autosuggest.setQuery(n.val())},p});require(["binding","c.deferred"],function(n){var t="2",i;t=t.length?t:2;i="iceprime_homepage";i="msnie11ntp";n("autoSuggestSnR","#srchfrm").all({delayBind:t,partnerEndpoint:i})});require(["document","c.pageComplete"],function(n){var t=n.body.querySelector("#spfooter");t&&(t.style.visibility="visible")});define("coachMarks",["document","mediator","webStorage","getCookie","setCookie","window","track","trackInfo","promise","errorCategory"],function(n,t,i,r,u,f,e,o,s,h){function di(){(c=n.getElementById(ai),c)&&(p=n.getElementById(bi),y=n.getElementById(bt),a=n.getElementById(wi),k=i.getObject(dt)||{},ur(),y&&y.addEventListener(v,w),t.pub(ui))}function gi(n,t,i,r,u){var o,f,s=10,h,c=t.left+t.width/2,l=Math.max(c-i.width/2,n.left),a=n.right-i.width,e;return f=Math.min(l,a),h=u===tt.Above?t.top-i.height-s:t.bottom+s,e=r*Math.sqrt(2)/2,o=i.width>t.width?Math.abs(f-t.left)+t.width/2-e:i.width/2-e,{arrowPosition:o,leftPosition:f,topPosition:h}}function fi(n,t){return t?!0:!(k[n]===ft||r(kt))}function ei(n){try{return JSON.parse(n.getAttribute(wt))}catch(t){return null}}function nr(){return c}function oi(n){return n[l.Id]||null}function tr(){return a}function ir(t){var i=t&&t[l.ReferenceElement];if(i&&!ci(t))return n.querySelector(i)}function w(t,i){c&&(it=new s(function(r){c.addEventListener(rt,function u(o){o.stopPropagation();c.removeEventListener(rt,u);c.classList.add(st);c.removeAttribute("style");t&&t.target&&t.target.id!==bt&&e.trackEvent({type:pt,target:t.target},"","",ri);lt=null;ct=null;f.removeEventListener(ti,et);f.removeEventListener(ii,et);n.removeEventListener(v,w);r();yt(i)});c.classList.add(g)}))}function si(n,t){c&&p&&(it=new s(function(i){p.addEventListener(rt,function r(u){u.stopPropagation();p.removeEventListener(rt,r);n&&n.target&&e.trackEvent({type:pt,target:n.target},"","",ri);i();yt(t)});p.classList.add(g)}))}function rr(t,i,r,u){var e=t+r,o=i+u;return e>=0&&o>=0&&e<=(f.innerHeight||n.documentElement.clientHeight)&&o<=(f.innerWidth||n.documentElement.clientWidth)}function ur(){var t=n.querySelectorAll("["+wt+"]"),i,r,u,f;if(t&&t.length)for(i=0;i<t.length;i++)(r=t[i],u=ei(r),u)&&(f=oi(u),f&&(ht[f]=r))}function vt(t,i){var u;if(d=!0,t=lt||t,i=ct||i,i==tt.Overlay)return d=!1,!0;if(!t)return d=!1,!1;u="px";ot=ot||n.getElementById("maincontent")||n.body;b=b||c.querySelector("div.arrow");var e=t.getBoundingClientRect(),f=c.getBoundingClientRect(),o=ot.getBoundingClientRect(),s=b&&b.offsetWidth,r=gi(o,e,f,s,i);return c.style.left=r.leftPosition+u,c.style.top=r.topPosition+u,b.style.left=r.arrowPosition+u,d=!1,rr(r.topPosition,r.leftPosition,f.width,f.height)}function et(){d||requestAnimationFrame(vt)}function fr(n,i,r,u,f){var s,e,h;ht[n]&&fi(n,f)&&(s=ht[n],e=ei(s),e)&&(h=li(e),h)&&ut.then(function(){if(r)c.className=st;else{u=u||s;var h=e[l.Position],a=vt(u,h);a&&hi(u,h)}i&&o.updateTemplValue(i+(r?":0":":1"));t.pub("ViewabilityUpdatedEvent");f||sr(n,ft)})}function er(i,r,u,f,e,o,s){if(i){var h=function(){var a,h,c,v;(i[l.PaginationText]=r,a=li(i,!0,f,o),a)&&(h=n.querySelector(i[l.ReferenceElement]||"#maincontent"),c=i[l.Position],vt(h,c),v=nt?function(){ar(!0,u,s)}:function(){hi(h,c,!0,u,e,s)},ut.then(function(){v();t.pub("ViewabilityUpdatedEvent")}))};it?it.then(h):h()}}function or(){i.setObject(dt,k)}function sr(n){k[n]!==ft&&(k[n]=ft,or(),u(kt,n,yi))}function hr(n){n.keyCode===9&&(a.focus(),n.preventDefault())}function cr(n,t){n.keyCode===27&&w(n,t)}function lr(n){a&&n.keyCode===9&&(y.focus(),n.preventDefault())}function hi(t,i,r,u,e,o){lt=t;ct=i;i!==tt.Overlay&&(f.addEventListener(ti,et),f.addEventListener(ii,et));r?(a&&a.addEventListener(v,function s(t){n.activeElement.blur();this.removeEventListener(v,s);var i=o?function(){si(t,u)}:function(){w(t,u)};nt=o;i()}),y&&y.addEventListener(v,function h(){n.activeElement.blur();this.removeEventListener(v,h);yt(e)}),a&&a.addEventListener(at,lr),y&&y.addEventListener(at,hr),c&&c.addEventListener(at,function(n){cr(n,e)})):n.addEventListener(v,w);c.classList.remove(st);c.classList.remove(g);c.classList.add(ki);a&&a.focus()}function ar(t,i,r){t&&a&&a.addEventListener(v,function u(t){n.activeElement.blur();this.removeEventListener(v,u);var f=r?function(){si(t,i)}:function(){w(t,i)};nt=r;f()});p.classList.remove(g);a&&a.focus()}function ci(n){return n&&n[l.Position]===tt.Overlay}function yt(n){typeof n=="function"&&n()}function li(t,i,r,u){var f,y;if(t&&t[l.Title]&&t[l.Description]&&c){var w=t[l.Id],b=t[l.Size],k=t[l.Position],d=t[l.Title],o=t[l.Description],h=t[l.ImageUrl],tt=t[l.PaginationText],v=t[l.ActionButtonText],e=[];return e.push(b),e.push(k),nt||e.push(g),u&&e.push(u),c.getElementsByTagName("h2")[0].innerText=d,c.getElementsByTagName("span")[0].innerText=o,f=c.getElementsByTagName("img")[0],h?(f||(f=n.createElement("img"),p.insertBefore(f,p.firstChild)),f.setAttribute("src",h),f.setAttribute("alt",h&&o?o:""),ut=new s(function(n){f.addEventListener(ni,function t(){f.removeEventListener(ni,t);n()});f.addEventListener(gt,function i(){f.removeEventListener(gt,i);n()})})):(f&&f.remove(),ut=s.resolve()),y=c.getElementsByClassName("pagination")[0],y&&i&&(e.push(pi),y.getElementsByTagName("span")[0].innerText=tt,a&&v&&(a.setAttribute("title",v),a.innerText=v),r&&e.push(vi)),vr(w),c.className=e.join(" "),!0}}function vr(n){var t;if(n){var r="data-m",u="data-dtn",f=c.getAttribute(r),i=c.getAttribute(u);if(f)try{t=JSON.parse(f);t&&t.n&&(i||(i=t.n,c.setAttribute(u,i)),t.n=i+"_"+n,c.setAttribute(r,JSON.stringify(t)))}catch(o){e.trackAppErrorEvent(h.updateTrackingInfo)}}}var ot,pt="click_nonnav",b,wt="data-coachmark",l={ActionButtonText:"abt",Description:"d",Id:"id",ImageUrl:"i",PaginationText:"pt",Position:"p",ReferenceElement:"re",Size:"s",Title:"t"},c,ai="coachmark",y,bt="coachmark_close",st="hidden",vi="lastpage",yi=7,kt="cmdisp",ht={},nt=!1,pi="paginated",wi="coachmark_cta",a,tt={Above:"above",Below:"below",Overlay:"overlay"},k={},dt="cm-view-states",p,bi="cm_content",ct,lt,it,v="click",gt="error",at="keydown",ni="load",ti="resize",ii="scroll",rt="transitionend",ut,d=!1,ri="coachmark_close_soft",ki="trans",ft="d",g="invisible",ui="coachmark_map_initialized";return{canRenderCoachMark:fi,coachMarkAttributeKeys:l,getCoachMarkContainer:nr,getCoachMarkPaginationCtaButton:tr,getCoachMarkId:oi,getReferenceElement:ir,hideCoachMarkContainer:w,initialize:di,isOverlayCoachMark:ci,renderCoachMark:fr,renderPaginatedCoachMark:er,coachMarkInitEvent:ui}});require(["coachMarks","c.deferred"],function(n){n.initialize()});define("spartanHeader",["document","serviceuihelper","browserState","spartanHeaderHelper","cookieComplianceHelper","c.dom"],function(n,t,i,r,u){function s(){h();c()}function h(){if(f){var n="keydown";f.addEventListener(n,function t(i){var r=i.keyCode;r!==9&&r!==27&&(f.removeEventListener(n,t),u.grantCookieConsentAndDecorateLink(i,null,!0))})}}function c(){o&&e&&!t.features.OneBoxPinnedByDefault&&t.pinOneBox(!1,!1)}var e=r.isOneBoxPinned(),o=t.features.CanRenderHtmlHeader,l=r.isFocusShiftToWebContent(),a=r.shouldFocusShiftToWebContent(),f=n.getElementById("q");return{setup:s}});require(["spartanHeader"],function(n){n.setup()});define("sso",["window","headData","getCookie"],function(n,t,i){var r="sso_completed";return function(u,f){var v,o,e,s,c,h,l,a,y;if(t=t||{},v=t.clientSettings||{},!n.mscc||n.mscc.hasConsent()){if(u=u||function(){},o=t.sso,!o||v.static_page||i("eso")=="1"){u({signedIn:!1,closed:!1});return}o=o.replace(/amp;/g,"&");f=f||n;e=f.document.createElement("IFRAME");e.id="sso_frame";e.style.width="1px";e.style.height="1px";e.style.position="absolute";e.style.visibility="hidden";e.style.left="0";e.style.bottom="0";e.src=o;f.document.body.appendChild(e);s=null;c=function(n){var t=n.data;t&&(t.ssoStatus===r||t.ssoStatus==="sso_failed")&&(s=t.ssoStatus,define("ssoData",t))};f.addEventListener?(h="message",f.addEventListener(h,c,!1),l=f.removeEventListener):(h="onmessage",f.attachEvent(h,c),l=f.detachEvent);a=0;y=f.setInterval(function(){if(s||a>=5){var n={signedIn:s===r,closed:!!s};f.clearInterval(y);l.call(f,h,c);f.document.body.removeChild(e);u(n);n.signedIn&&define("c.sso",t.signedin=1)}else a++},1e3)}}});require(["sso","c.pageComplete"],function(n){n(function(n){define("ssoResult",n)})});define("appCacheHelper",["window","document","spartanSharedHelper","getCookie","setCookie","webStorage","navigator","track","errorCategory"],function(n,t,i,r,u,f,e,o,s){function tt(){if(h.status===h.UNCACHED){a();return}f.removeItem(c);u(v,"1",1,u.topDomain,"/");h.update()}function it(){f.getItem(c)==="1"&&k();h.onupdateready=l;h.onnoupdate=l;h.onerror=l;h.oncached=l;h.onobsolete=ut;l();e.onLine||rt()}function rt(){n.addEventListener(nt,a);b(!0)}function b(n){require(["c.dom"],function(){var i=t.body.querySelector(g);i&&(i.style.display=n?"block":"none")})}function l(){var n,r,t,i;if(h.status===h.UPDATEREADY){if(ft())return;if(n=et(),p(),r=!1,!n&&r)return;ot();t=f.getItem(w);i=Date.now();n||!t||Math.abs(i-t)>d?(f.setItem(w,i),a()):o.trackAppErrorEvent(s.appCacheRapidRefreshError)}else(h.status===h.IDLE||h.status===h.OBSOLETE||h.status===h.UNCACHED)&&(k(),p(),st())}function ut(){p();a()}function ft(){var n=f.getItem(c)==="1";return n?(f.removeItem(c),!0):!1}function et(){return r(v)==="1"?(f.setItem(c,"1"),!0):!1}function a(){b(!1);i.refreshPage()}function p(){u(v,"0",-1,u.topDomain,"/")}function k(){define("c.appCacheUpdateCheckDone",1)}function ot(){f.setItem(y,"1")}function st(){var n=f.getItem(y)==="1";n?f.removeItem(y):define("c.readyForRum",1)}var h=n.applicationCache,d=3e3,v="fu",w="lastPageRefreshDueToAppCache",g="#dnserror_dhp_ntp_offline",y="supressRum",c="wasForceUpdated",nt="online";return it(),{forceUpdate:tt}})